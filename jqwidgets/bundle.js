/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx=a.jqx||{};a.jqx.define=function(b,c,d){b[c]=function(){if(this.baseType){this.base=new b[this.baseType]();this.base.defineInstance()}this.defineInstance()};b[c].prototype.defineInstance=function(){};b[c].prototype.base=null;b[c].prototype.baseType=undefined;if(d&&b[d]){b[c].prototype.baseType=d}};a.jqx.invoke=function(e,d){if(d.length==0){return}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):a({}).toArray();while(e[f]==undefined&&e.base!=null){e=e.base}if(e[f]!=undefined&&a.isFunction(e[f])){return e[f].apply(e,c)}if(typeof f=="string"){var b=f.toLowerCase();return e[b].apply(e,c)}return};a.jqx.hasFunction=function(e,d){if(d.length==0){return false}if(e==undefined){return false}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):{};while(e[f]==undefined&&e.base!=null){e=e.base}if(e[f]&&a.isFunction(e[f])){return true}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]&&a.isFunction(e[b])){return true}}return false};a.jqx.isPropertySetter=function(b){if(b.length==2){return true}return b.length==1&&typeof(b[0])=="object"};a.jqx.set=function(c,b){if(b.length==1&&typeof(b[0])=="object"){a.each(b[0],function(d,e){var f=c;while(f[d]==undefined&&f.base!=null){f=f.base}if(f[d]!=undefined||f[d]==null){a.jqx.setvalueraiseevent(f,d,e)}})}else{if(b.length==2){while(c[b[0]]==undefined&&c.base){c=c.base}if(c[b[0]]!=undefined||c[b[0]]==null){a.jqx.setvalueraiseevent(c,b[0],b[1])}}}};a.jqx.setvalueraiseevent=function(c,d,e){var b=c[d];c[d]=e;if(!c.isInitialized){return}if(c.propertyChangedHandler!=undefined){c.propertyChangedHandler(c,d,b,e)}if(c.propertyChangeMap!=undefined&&c.propertyChangeMap[d]!=undefined){c.propertyChangeMap[d](c,d,b,e)}};a.jqx.get=function(c,b){if(b==undefined||b==null){return undefined}if(c[b]!=undefined){return c[b]}if(b.length!=1){return undefined}while(c[b[0]]==undefined&&c.base){c=c.base}if(c[b[0]]!=undefined){return c[b[0]]}};a.jqx.jqxWidgetProxy=function(g,c,b){var d=a(c);var f=a.data(c,g);if(f==undefined){return undefined}var e=f.instance;if(a.jqx.hasFunction(e,b)){return a.jqx.invoke(e,b)}if(a.jqx.isPropertySetter(b)){a.jqx.set(e,b);return undefined}else{if(typeof(b)=="object"&&b.length==0){return}else{if(typeof(b)=="object"&&b.length>0){return a.jqx.get(e,b[0])}else{if(typeof(b)=="string"){return a.jqx.get(e,b)}}}}throw"jqxCore: Property or method does not exist.";return undefined};a.jqx.jqxWidget=function(b,d,i){var c=false;try{jqxArgs=Array.prototype.slice.call(i,0)}catch(h){jqxArgs=""}try{c=window.MSApp!=undefined}catch(h){}var g=b;var f="";if(d){f="_"+d}a.jqx.define(a.jqx,"_"+g,f);a.fn[g]=function(){var e=Array.prototype.slice.call(arguments,0);var k=null;if(e.length==0||(e.length==1&&typeof(e[0])=="object")){return this.each(function(){var o=a(this);var n=this;var q=a.data(n,g);if(q==null){q={};q.element=n;q.host=o;q.instance=new a.jqx["_"+g]();if(n.id==""){n.id=a.jqx.utilities.createId()}q.instance.get=q.instance.set=q.instance.call=function(){var r=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(g,n,r)};a.data(n,g,q);a.data(n,"jqxWidget",q.instance);var p=new Array();var l=q.instance;while(l){l.isInitialized=false;p.push(l);l=l.base}p.reverse();p[0].theme="";a.jqx.jqxWidgetProxy(g,this,e);for(var m in p){l=p[m];if(m==0){l.host=o;l.element=n;l.WinJS=c}if(l!=undefined){if(l.createInstance!=null){if(c){MSApp.execUnsafeLocalFunction(function(){l.createInstance(e)})}else{l.createInstance(e)}}}}for(var m in p){if(p[m]!=undefined){p[m].isInitialized=true}}if(c){MSApp.execUnsafeLocalFunction(function(){q.instance.refresh(true)})}else{q.instance.refresh(true)}k=this}else{a.jqx.jqxWidgetProxy(g,this,e)}})}else{this.each(function(){var l=a.jqx.jqxWidgetProxy(g,this,e);if(k==null){k=l}})}return k};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(i,0)[0])}catch(h){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(e,k){if(this.theme==""){return e}if(k!=null&&k){return e+"-"+this.theme}return e+" "+e+"-"+this.theme}});a.jqx["_"+g].prototype.refresh=function(){if(this.base){this.base.refresh()}};a.jqx["_"+g].prototype.createInstance=function(){};a.jqx["_"+g].prototype.propertyChangeMap={};a.jqx["_"+g].prototype.addHandler=function(m,k,e,l){switch(k){case"mousewheel":if(window.addEventListener){if(a.browser.mozilla){m[0].addEventListener("DOMMouseScroll",e,false)}else{m[0].addEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(window.addEventListener&&!l){m[0].addEventListener("mousemove",e,false);return false}break}if(l==undefined||l==null){m.bind(k,e)}else{m.bind(k,l,e)}};a.jqx["_"+g].prototype.removeHandler=function(l,k,e){switch(k){case"mousewheel":if(window.removeEventListener){if(a.browser.mozilla){l[0].removeEventListener("DOMMouseScroll",e,false)}else{l[0].removeEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(a.browser.msie&&a.browser.version>=9){if(window.removeEventListener){l[0].removeEventListener("mousemove",e,false)}}break}if(e==undefined){l.unbind(k)}else{l.unbind(k,e)}}};a.jqx.utilities=a.jqx.utilities||{};a.extend(a.jqx.utilities,{createId:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return"jqxWidget"+b()+b()+b()},setTheme:function(f,g,e){if(typeof e==="undefined"){return}var h=e[0].className.split(" "),b=[],k=[],d=e.children();for(var c=0;c<h.length;c+=1){if(h[c].indexOf(f)>=0){if(f.length>0){b.push(h[c]);k.push(h[c].replace(f,g))}else{k.push(h[c]+"-"+g)}}}this._removeOldClasses(b,e);this._addNewClasses(k,e);for(var c=0;c<d.length;c+=1){this.setTheme(f,g,a(d[c]))}},_removeOldClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.removeClass(d[b])}},_addNewClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.addClass(d[b])}},getOffset:function(b){var d=a.jqx.mobile.getLeftPos(b[0]);var c=a.jqx.mobile.getTopPos(b[0]);return{top:c,left:d}},hasTransform:function(d){var c="";c=d.css("transform");if(c==""||c=="none"){c=d.parents().css("transform");if(c==""||c=="none"){var b=a.jqx.utilities.getBrowser();if(b.browser=="msie"){c=d.css("-ms-transform");if(c==""||c=="none"){c=d.parents().css("-ms-transform")}}else{if(b.browser=="chrome"){c=d.css("-webkit-transform");if(c==""||c=="none"){c=d.parents().css("-webkit-transform")}}else{if(b.browser=="opera"){c=d.css("-o-transform");if(c==""||c=="none"){c=d.parents().css("-o-transform")}}else{if(b.browser=="mozilla"){c=d.css("-moz-transform");if(c==""||c=="none"){c=d.parents().css("-moz-transform")}}}}}}else{return c!=""&&c!="none"}}if(c==""||c=="none"){c=a(document.body).css("transform")}return c!=""&&c!="none"},getBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];return{browser:b[1]||"",version:b[2]||"0"}}});a.jqx.mobile=a.jqx.mobile||{};a.extend(a.jqx.mobile,{_touchListener:function(h,f){var b=function(i,l){var k=document.createEvent("MouseEvents");k.initMouseEvent(i,l.bubbles,l.cancelable,l.view,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget);k._pageX=l.pageX;k._pageY=l.pageY;return k};var g={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var d=b(g[h.type],h);h.target.dispatchEvent(d);var c=h.target["on"+g[h.type]];if(typeof c==="function"){c(h)}},setMobileSimulator:function(c,e){if(this.isTouchDevice()){return}this.simulatetouches=true;if(e==false){this.simulatetouches=false}var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var b=this;if(window.addEventListener){var f=function(){for(var g in d){if(c.addEventListener){c.removeEventListener(g,b._touchListener);c.addEventListener(g,b._touchListener,false)}}};if(a.browser.msie){f()}else{window.addEventListener("load",function(){f()},false)}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var b="Browser CodeName: "+navigator.appCodeName+"";b+="Browser Name: "+navigator.appName+"";b+="Browser Version: "+navigator.appVersion+"";b+="Platform: "+navigator.platform+"";b+="User-agent header: "+navigator.userAgent+"";if(b.indexOf("Android")!=-1){return true}if(b.indexOf("IEMobile")!=-1){return true}if(b.indexOf("Windows Phone OS")!=-1){return true}if(b.indexOf("Windows Phone 6.5")!=-1){return true}if(b.indexOf("BlackBerry")!=-1&&b.indexOf("Mobile Safari")!=-1){return true}if(b.indexOf("ipod")!=-1){return true}if(b.indexOf("nokia")!=-1||b.indexOf("Nokia")!=-1){return true}if(b.indexOf("Chrome/17")!=-1){return false}try{if(this.touchDevice!=undefined){return this.touchDevice}this.touchDevice=true;document.createEvent("TouchEvent");return true}catch(c){this.touchDevice=false;return false}},getLeftPos:function(b){var c=b.offsetLeft;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=b.offsetLeft;if(document.all){c+=b.clientLeft}}}return c},getTopPos:function(b){var c=b.offsetTop;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=(b.offsetTop-b.scrollTop);if(document.all){c+=b.clientTop}}}if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()){return c}c=c+a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("android")!=-1;return b},isOperaMiniMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1||c.indexOf("opera mobi")!=-1;return b},isOperaMiniBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1;return b},isNewSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/5")!=-1);return b},isSafari4MobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/4")!=-1);return b},isSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;return b},isIPhoneSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("iphone")!=-1;return b},isIPadSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1;return b},isMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("android")!=-1;return b},getTouches:function(b){if(b.originalEvent){if(b.originalEvent.touches&&b.originalEvent.touches.length){return b.originalEvent.touches}else{if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length){return b.originalEvent.changedTouches}}}if(!b.touches){b.touches=new Array();b.touches[0]=b.originalEvent}return b.touches},dispatchMouseEvent:function(b,f,d){if(this.simulatetouches){return}var c=document.createEvent("MouseEvent");c.initMouseEvent(b,true,true,f.view,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,0,null);if(d!=null){d.dispatchEvent(c)}},getRootNode:function(b){while(b.nodeType!==1){b=b.parentNode}return b},setTouchScroll:function(b,c){if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[c]=b},touchScroll:function(c,r,e,t){if(c==null){return}var s=this;var o=0;var g=0;var h=0;var p=0;var i=0;var k=0;var l=false;var f=false;var m=a(c);var q=["select","input","textarea"];var b=0;var d=0;if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[t]=true;var t=t;m.bind("touchstart.touchScroll",function(u){if(!s.enableScrolling[t]){return true}if(a.inArray(u.target.tagName.toLowerCase(),q)!==-1){return}var v=s.getTouches(u);var w=v[0];if(v.length==1){s.dispatchMouseEvent("mousedown",w,s.getRootNode(w.target))}l=true;f=false;g=w.pageY;i=w.pageX;if(s.simulatetouches){g=w._pageY;i=w._pageX}o=0;p=0;return true});m.bind("touchmove.touchScroll",function(y){if(!s.enableScrolling[t]){return true}if(!l){return true}var z=s.getTouches(y);if(z.length>1){return true}var w=z[0].pageY;var x=z[0].pageX;if(s.simulatetouches){w=z[0]._pageY;x=z[0]._pageX}var u=w-g;var v=x-i;d=w;touchHorizontalEnd=x;h=u-o;k=v-p;f=true;o=u;p=v;e(-k*3,-h*3,v,u,y);y.preventDefault();y.stopPropagation();return false});if(this.simulatetouches){a(window).bind("mouseup.touchScroll",function(u){l=false});if(window.frameElement){if(window.top!=null){var n=function(u){l=false};if(window.top.document.addEventListener){window.top.document.removeEventListener("mouseup",n,false);window.top.document.addEventListener("mouseup",n,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",n)}}}}a(document).bind("touchend",function(u){if(!l){return true}l=false;var w=s.getTouches(u)[0],v=s.getRootNode(w.target);s.dispatchMouseEvent("mouseup",w,v);s.dispatchMouseEvent("click",w,v)})}m.bind("touchend.touchScroll touchcancel.touchScroll",function(u){if(!s.enableScrolling[t]){return true}var w=s.getTouches(u)[0];if(!l){return true}l=false;if(f){s.dispatchMouseEvent("mouseup",w,v)}else{var w=s.getTouches(u)[0],v=s.getRootNode(w.target);s.dispatchMouseEvent("mouseup",w,v);s.dispatchMouseEvent("click",w,v)}})}});a.jqx.cookie=a.jqx.cookie||{};a.extend(a.jqx.cookie,{cookie:function(e,f,c){if(arguments.length>1&&String(f)!=="[object Object]"){c=jQuery.extend({},c);if(f===null||f===undefined){c.expires=-1}if(typeof c.expires==="number"){var h=c.expires,d=c.expires=new Date();d.setDate(d.getDate()+h)}f=String(f);return(document.cookie=[encodeURIComponent(e),"=",c.raw?f:encodeURIComponent(f),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join(""))}c=f||{};var b,g=c.raw?function(i){return i}:decodeURIComponent;return(b=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?g(b[1]):null}});a.jqx.string=a.jqx.string||{};a.extend(a.jqx.string,{contains:function(b,c){if(b==null||c==null){return false}return b.indexOf(c)!=-1},containsIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().indexOf(c.toUpperCase())!=-1},equals:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.slice(0,c.length)==c}return false},equalsIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.toUpperCase().slice(0,c.length)==c.toUpperCase()}return false},startsWith:function(b,c){if(b==null||c==null){return false}return b.slice(0,c.length)==c},startsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().slice(0,c.length)==c.toUpperCase()},normalize:function(b){if(b.charCodeAt(b.length-1)==65279){b=b.substring(0,b.length-1)}return b},endsWith:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.slice(-c.length)==c},endsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.toUpperCase().slice(-c.length)==c.toUpperCase()}});a.extend(jQuery.easing,{easeOutBack:function(f,g,e,k,i,h){if(h==undefined){h=1.70158}return k*((g=g/i-1)*g*((h+1)*g+h)+1)+e},easeInQuad:function(f,g,e,i,h){return i*(g/=h)*g+e},easeInOutCirc:function(f,g,e,i,h){if((g/=h/2)<1){return -i/2*(Math.sqrt(1-g*g)-1)+e}return i/2*(Math.sqrt(1-(g-=2)*g)+1)+e},easeInOutSine:function(f,g,e,i,h){return -i/2*(Math.cos(Math.PI*g/h)-1)+e},easeInCubic:function(f,g,e,i,h){return i*(g/=h)*g*g+e},easeOutCubic:function(f,g,e,i,h){return i*((g=g/h-1)*g*g+1)+e},easeInOutCubic:function(f,g,e,i,h){if((g/=h/2)<1){return i/2*g*g*g+e}return i/2*((g-=2)*g*g+2)+e},easeInSine:function(f,g,e,i,h){return -i*Math.cos(g/h*(Math.PI/2))+i+e},easeOutSine:function(f,g,e,i,h){return i*Math.sin(g/h*(Math.PI/2))+e},easeInOutSine:function(f,g,e,i,h){return -i/2*(Math.cos(Math.PI*g/h)-1)+e}})})(jQuery);(function(a){a.fn.extend({ischildof:function(c){var b=a(this).parents().get();for(j=0;j<b.length;j++){if(a(b[j]).is(c)){return true}}return false}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.dataAdapter=function(e,b){this._source=e;this._options=b||{};this.records=new Array();this._downloadComplete=new Array();this._bindingUpdate=new Array();if(this._options.autoBind==true){this.dataBind()}if(e!=undefined&&e.localdata!=null&&typeof e.localdata=="function"){var d=e.localdata();if(d!=null){e._localdata=e.localdata;var c=this;if(e._localdata.subscribe){c._oldlocaldata=[];e._localdata.subscribe(function(f){var g=function(h){if(jQuery.isArray(h)){return jQuery.makeArray(g(a(h)))}return jQuery.extend(true,{},h)};c._oldlocaldata=g(f)},e._localdata,"beforeChange");e._localdata.subscribe(function(g){if(c.suspendKO==false||c.suspendKO==undefined){var f="";c._oldrecords=c.records;if(c._oldlocaldata.length==0){e.localdata=e._localdata()}if(c._oldlocaldata.length==0){f="change"}else{if(c._oldlocaldata.length==g.length){f="update"}if(c._oldlocaldata.length>g.length){f="remove"}if(c._oldlocaldata.length<g.length){f="add"}}c.dataBind(null,f)}},e._localdata,"change");c._knockoutdatasource=true}e.localdata=d}}};a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=true},endUpdate:function(b){this.isUpdating=false;if(b!=false){this.dataBind(null,"")}},dataBind:function(m,r){if(this.isUpdating==true){return}var o=this._source;if(!o){return}if(o.dataFields!=null){o.datafields=o.dataFields}if(o.recordstartindex==undefined){o.recordstartindex=0}if(o.recordendindex==undefined){o.recordendindex=0}if(o.loadallrecords==undefined){o.loadallrecords=true}if(o.sort!=undefined){this.sort=o.sort}if(o.filter!=undefined){this.filter=o.filter}if(o.sortcolumn!=undefined){this.sortcolumn=o.sortcolumn}if(o.sortdirection!=undefined){this.sortdirection=o.sortdirection}if(o.sortcomparer!=undefined){this.sortcomparer=o.sortcomparer}this.records=new Array();var f=this._options||{};this.virtualmode=f.virtualmode!=undefined?f.virtualmode:false;this.totalrecords=f.totalrecords!=undefined?f.totalrecords:0;this.pageable=f.pageable!=undefined?f.pageable:false;this.pagesize=f.pagesize!=undefined?f.pagesize:0;this.pagenum=f.pagenum!=undefined?f.pagenum:0;this.cachedrecords=f.cachedrecords!=undefined?f.cachedrecords:new Array();this.originaldata=new Array();this.recordids=new Array();this.updaterow=f.updaterow!=undefined?f.updaterow:null;this.addrow=f.addrow!=undefined?f.addrow:null;this.deleterow=f.deleterow!=undefined?f.deleterow:null;this.cache=f.cache!=undefined?f.cache:true;this.unboundmode=false;if(f.unboundmode||o.unboundmode){this.unboundmode=f.unboundmode||o.unboundmode}if(o.cache!=undefined){this.cache=o.cache}if(this.koSubscriptions){for(var t=0;t<this.koSubscriptions.length;t++){this.koSubscriptions[t].dispose()}}this.koSubscriptions=new Array();if(this.pagenum<0){this.pagenum=0}var y=this;var l=o.datatype;if(o.datatype==="csv"||o.datatype==="tab"||o.datatype=="text"){l="text"}var h=f.async!=undefined?f.async:true;if(o.async!=undefined){h=o.async}switch(l){case"local":case"array":case"observablearray":default:if(o.localdata==undefined&&o.length){o.localdata=new Array();for(var q=0;q<o.length;q++){o.localdata[o.localdata.length]=o[q]}}var g=o.localdata.length;this.totalrecords=this.virtualmode?(o.totalrecords||g):g;if(this.unboundmode){this.totalrecords=this.unboundmode?(o.totalrecords||g):g;var u=o.datafields?o.datafields.length:0;if(u>0){for(var q=0;q<this.totalrecords;q++){var d={};for(var p=0;p<u;p++){d[o.datafields[p].name]=""}o.localdata[o.localdata.length]=d}}}if(this.totalrecords==undefined){this.totalrecords=0}var u=o.datafields?o.datafields.length:0;var c=function(E,G){var F={};for(var C=0;C<G;C++){var B=o.datafields[C];var H="";if(undefined==B||B==null){continue}if(B.map){var z=B.map.split(">");if(z.length>0){var D=E;for(var A=0;A<z.length;A++){D=D[z[A]]}H=D}else{H=E[B.map]}if(H!=undefined&&H!=null){H=H.toString()}else{H=""}}if(H==""){H=E[B.name];if(H!=undefined&&H!=null){if(o._localdata&&H.subscribe){H=H()}else{H=H.toString()}}else{H=""}}H=y.getvaluebytype(H,B);F[B.name]=H}return F};if(o._localdata){this._changedrecords=[];this.records=new Array();var x=o._localdata();a.each(x,function(I,N){if(typeof N==="string"){y.records.push(N)}else{var K={};var L=0;for(var H in this){var B=null;var M="string";if(u>0){var O=false;for(var F=0;F<u;F++){var E=o.datafields[F];if(E!=undefined&&E.name==H){O=true;B=E.map;M=E.type;break}}if(!O){continue}}var D=a.isFunction(this[H]);if(D){var N=this[H]();if(M!="string"){N=y.getvaluebytype(N,{type:M})}K[H]=N;if(this[H].subscribe){y.koSubscriptions[y.koSubscriptions.length]=this[H].subscribe(function(P){y.dataBind(null,null);return false})}}else{var N=this[H];if(B!=null){var A=B.split(">");if(A.length>0){var J=this;for(var C=0;C<A.length;C++){J=J[A[C]]}N=J}else{N=this[B]}}if(M!="string"){N=y.getvaluebytype(N,{type:M})}K[H]=N;L+=K[H].toString().length+K[H].toString().substr(0,1)}}y.records.push(K);K._koindex=L;if(y._oldrecords){var G=y.records.length-1;if(r=="update"){if(y._oldrecords[G]._koindex!=L){var z={index:G,oldrecord:y._oldrecords[G],record:K};y._changedrecords.push(z)}}}}});if(r=="add"){var g=y.records.length;for(var q=0;q<g;q++){var d=y.records[q];if(!y._oldrecords[q]){y._changedrecords.push({index:q,oldrecord:null,record:d})}else{if(y._oldrecords[q]._koindex!=d._koindex){y._changedrecords.push({index:q,oldrecord:null,record:d})}}}}else{if(r=="remove"){var g=y._oldrecords.length;for(var q=0;q<g;q++){var k=y._oldrecords[q];if(!y.records[q]){y._changedrecords.push({index:q,oldrecord:k,record:null})}else{if(y.records[q]._koindex!=k._koindex){y._changedrecords.push({index:q,oldrecord:k,record:null})}}}}}}else{if(!a.isArray(o.localdata)){this.records=new Array();a.each(o.localdata,function(A){if(u>0){var z=this;var B=c(z,u);y.records[y.records.length]=B}else{y.records[y.records.length]=this}})}else{if(u==0){this.records=o.localdata}else{a.each(o.localdata,function(A){var z=this;var B=c(z,u);y.records[y.records.length]=B})}}}this.originaldata=o.localdata;this.cachedrecords=this.records;if(f.uniqueDataFields){var n=this.getUniqueRecords(this.records,f.uniqueDataFields);this.records=n;this.cachedrecords=n}if(f.beforeLoadComplete){var v=f.beforeLoadComplete(y.records,data);if(v!=undefined){y.records=v;y.cachedrecords=v}}if(a.isFunction(f.loadComplete)){f.loadComplete(o.localdata)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(o.localdata!=null){if(a.isFunction(o.beforeprocessing)){o.beforeprocessing(o.localdata)}if(o.datatype==="xml"){y.loadxml(o.localdata,o.localdata,o)}else{if(l==="text"){y.loadtext(o.localdata,o)}else{y.loadjson(o.localdata,o.localdata,o)}}if(f.uniqueDataFields){var n=y.getUniqueRecords(y.records,f.uniqueDataFields);y.records=n;y.cachedrecords=n}if(a.isFunction(f.loadComplete)){f.loadComplete(o.localdata)}return}var w=f.data!=undefined?f.data:{};if(o.processdata){o.processdata(w)}if(a.isFunction(f.processData)){f.processData(w)}if(a.isFunction(f.formatData)){var b=f.formatData(w);if(b!=undefined){w=b}}var s="application/x-www-form-urlencoded";if(f.contentType){s=f.contentType}var e="GET";if(f.type){e=f.type}if(o.url&&o.url.length>0){if(a.isFunction(f.loadServerData)){y._requestData(w,o,f)}else{a.ajax({dataType:l,cache:this.cache,type:e,url:o.url,async:h,contentType:s,data:w,success:function(H,F,O){if(a.isFunction(o.beforeprocessing)){var z=o.beforeprocessing(H,F,O);if(z!=undefined){H=z}}if(a.isFunction(f.downloadComplete)){var z=f.downloadComplete(H,F,O);if(z!=undefined){H=z}}if(H==null){y.records=new Array();y.cachedrecords=new Array();y.originaldata=new Array();y.callDownloadComplete();if(a.isFunction(f.loadComplete)){f.loadComplete(new Array())}return}var C=H;if(H.records){C=H.records}if(H.totalrecords){o.totalrecords=H.totalrecords}if(o.datatype==="xml"){y.loadxml(null,C,o)}else{if(l==="text"){y.loadtext(C,o)}else{y.loadjson(null,C,o)}}var M=o.datafields?o.datafields.length:0;for(var E=0;E<M;E++){var B=o.datafields[E];if(B!=undefined){if(B.text!=undefined&&B.source!=undefined&&B.source.length!=undefined){var L=new Array();for(var G=0;G<y.records.length;G++){var I=y.records[G];var A=I[B.name];if(L[A]!=undefined){I[B.name]=L[A]}else{for(var E=0;E<B.source.length;E++){var K=B.source[E];var J=K[B.id];if(J==undefined){J=K.uid}if(J==A){I[B.name]=K[B.text];L[A]=K[B.text];break}}}}}}}if(f.uniqueDataFields){var N=y.getUniqueRecords(y.records,f.uniqueDataFields);y.records=N;y.cachedrecords=N}if(f.beforeLoadComplete){var D=f.beforeLoadComplete(y.records,H);if(D!=undefined){y.records=D;y.cachedrecords=D}}y.callDownloadComplete();if(a.isFunction(f.loadComplete)){f.loadComplete(H)}},error:function(B,z,A){if(a.isFunction(o.loaderror)){o.loaderror(B,z,A)}if(a.isFunction(f.loadError)){f.loadError(B,z,A)}B=null;y.callDownloadComplete()},beforeSend:function(A,z){if(a.isFunction(f.beforeSend)){f.beforeSend(A,z)}if(a.isFunction(o.beforesend)){o.beforesend(A,z)}}})}}else{y.callDownloadComplete();if(a.isFunction(f.loadComplete)){f.loadComplete(data)}}break}this.callBindingUpdate(r)},_requestData:function(c,e,b){var d=this;var f=function(g){if(g.totalrecords){e.totalrecords=g.totalrecords;d.totalrecords=g.totalrecords}if(g.records){d.records=g.records;d.cachedrecords=g.records}if(a.isFunction(b.loadComplete)){b.loadComplete(data)}d.callDownloadComplete()};b.loadServerData(c,e,f)},getUniqueRecords:function(d,f){if(d&&f){var b=d.length;var l=f.length;var h=new Array();var k=new Array();for(urec=0;urec<b;urec++){var g=d[urec];var e="";for(datafieldindex=0;datafieldindex<l;datafieldindex++){var c=f[datafieldindex];e+=g[c]+"_"}if(!k[e]){h[h.length]=g}k[e]=true}}return h},getAggregatedData:function(n,h,f){var e=f;if(!e){e=this.records}var k={};var d=e.length;if(d==0){return}for(var l=0;l<d;l++){var m=e[l];for(var g=0;g<n.length;g++){var c=n[g];var p=m[c.name];if(c.aggregates){k[c.name]=k[c.name]||{};var b=function(q){for(obj in q){var r=k[c.name][obj];if(r==null){k[c.name][obj]=0;r=0}if(a.isFunction(q[obj])){r=q[obj](r,p,c.name,m)}k[c.name][obj]=r}};var o=parseFloat(p);if(isNaN(o)){o=false}else{o=true}if(o){p=parseFloat(p)}if(typeof p==="number"&&isFinite(p)){a.each(c.aggregates,function(){var q=k[c.name][this];if(q==null){q=0;if(this=="min"){q=9999999999999}}if(this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){q+=parseFloat(p)}else{if(this=="product"){if(l==0){q=parseFloat(p)}else{q*=parseFloat(p)}}else{if(this=="min"){q=Math.min(q,parseFloat(p))}else{if(this=="max"){q=Math.max(q,parseFloat(p))}else{if(this=="count"){q++}else{if(typeof(this)=="object"){b(this);return}}}}}}k[c.name][this]=q})}else{a.each(c.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){k[c.name][this]=0;return true}if(typeof(this)=="object"){b(this)}})}}}}for(var g=0;g<n.length;g++){var c=n[g];if(k[c.name]["avg"]!=undefined){var p=k[c.name]["avg"];k[c.name]["avg"]=p/e.length}else{if(k[c.name]["count"]!=undefined){k[c.name]["count"]=d}}if(k[c.name]["stdev"]||k[c.name]["stdevp"]||k[c.name]["var"]||k[c.name]["varp"]){a.each(c.aggregates,function(w){if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var x=k[c.name][this];var v=d;var q=(x/d);var s=0;for(var t=0;t<d;t++){var u=e[t];var y=u[c.name];s+=(y-q)*(y-q)}var r=(this=="stdevp"||this=="varp")?v:v-1;if(r==0){r=1}if(this=="var"||this=="varp"){k[c.name][this]=s/r}else{if(this=="stdevp"||this=="stdev"){k[c.name][this]=Math.sqrt(s/r)}}}})}if(c.formatStrings){a.each(c.aggregates,function(r){var q=c.formatStrings[r];if(q){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var s=k[c.name][this];k[c.name][this]=a.jqx.dataFormat.formatnumber(s,q,h)}else{if(typeof this=="object"){for(obj in this){var s=k[c.name][obj];k[c.name][obj]=a.jqx.dataFormat.formatnumber(s,q,h)}}}}})}}return k},bindDownloadComplete:function(c,b){this._downloadComplete[this._downloadComplete.length]={id:c,func:b}},unbindDownloadComplete:function(c){for(var b=0;b<this._downloadComplete.length;b++){if(this._downloadComplete[b].id==c){this._downloadComplete[b].func=null;this._downloadComplete.splice(b,1);break}}},callDownloadComplete:function(){for(var b=0;b<this._downloadComplete.length;b++){var c=this._downloadComplete[b];if(c.func!=null){c.func()}}},setSource:function(b){this._source=b},generatekey:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b())},getGroupedRecords:function(E,H,s,z,F,x){var B=0;var w=this;var d=new Array();for(var h=0;h<E.length;h++){d[h]=w.generatekey()}if(!H){H="items"}if(!s){s="group"}if(!F){F="record"}if(!x){x="value"}var n=new Array();var f=0;var e=new Array();var m=E.length;var G=new Array();var I=this.records;var k=I.length;var A=function(q){var J=q;if(z){a.each(z,function(){if(this.name&&this.map){J[this.map]=J[this.name]}})}return J};for(var r=0;r<k;r++){var D=A(I[r]);id=D[w.uniqueId];var c=new Array();var t=0;for(h=0;h<m;h++){var l=E[h];var y=D[l];if(null==y){continue}c[t++]={value:y,hash:d[h]}}if(c.length!=m){break}var u=null;var o="";var b=-1;for(var v=0;v<c.length;v++){b++;var C=c[v].value;var g=c[v].hash;o=o+"_"+g+"_"+C;if(e[o]!=undefined&&e[o]!=null){u=e[o];continue}if(u==null){u={level:0};u[s]=C;u[F]=D;u[x]=D[x];u[H]=new Array();n[f++]=u}else{var p={parentItem:u,level:u.level+1};p[s]=C;p[H]=new Array();p[F]=D;p[x]=D[x];u[H][u[H].length]=p;u=p}e[o]=u}if(u!=null){D.parentItem=u;D.level=u.level+1;u[H][u[H].length]=D}}return n},getRecordsHierarchy:function(f,d,u,p){var b=new Array();var c=this.records;if(this.records.length==0){return null}var s=u!=null?u:"items";var m=[];var v=c;var k=v.length;var q=function(w){var x=w;if(p){a.each(p,function(){if(this.name&&this.map){x[this.map]=x[this.name]}})}return x};for(var r=0;r<k;r++){var t=a.extend({},v[r]);var o=t[d];var n=t[f];m[n]={parentid:o,item:t}}for(var r=0;r<k;r++){var t=a.extend({},v[r]);var o=t[d];var n=t[f];if(m[o]!=undefined){var t={parentid:o,item:m[n].item};var l=m[o].item;if(!l[s]){l[s]=[]}var g=l[s].length;var e=t.item;var h=q(e);l[s][g]=h;m[o].item=l;m[n]=t}else{var e=m[n].item;var h=q(e);b[b.length]=h}}return b},bindBindingUpdate:function(c,b){this._bindingUpdate[this._bindingUpdate.length]={id:c,func:b}},unbindBindingUpdate:function(c){for(var b=0;b<this._bindingUpdate.length;b++){if(this._bindingUpdate[b].id==c){this._bindingUpdate[b].func=null;this._bindingUpdate.splice(b,1);break}}},callBindingUpdate:function(b){for(var d=0;d<this._bindingUpdate.length;d++){var c=this._bindingUpdate[d];if(c.func!=null){c.func(b)}}},getid:function(e,c,d){if(a(e,c).length>0){return a(e,c).text()}if(e){if(e.toString().length>0){var b=a(c).attr(e);if(b!=null&&b.toString().length>0){return b}}}return d},loadjson:function(x,y,m){if(typeof(x)=="string"){x=a.parseJSON(x)}if(m.root==undefined){m.root=""}if(m.record==undefined){m.record=""}var x=x||y;if(!x){x=[]}if(m.root!=""){if(x[m.root]!=undefined){x=x[m.root]}else{a.each(x,function(z){var p=this;if(this==m.root){x=this;return false}else{if(this[m.root]!=undefined){x=this[m.root]}}})}}else{if(!x.length){for(obj in x){if(a.isArray(x[obj])){x=x[obj];break}}}}if(x!=null&&x.length==undefined){x=a.makeArray(x)}if(x==null||x.length==undefined){alert("JSON Parse error.");return}if(x.length==0){return}var e=x.length;this.totalrecords=this.virtualmode?(m.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var s=this.records;var o=!this.pageable?m.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(m.loadallrecords){o=0;e=this.totalrecords}var k=0;if(this.virtualmode){o=!this.pageable?m.recordstartindex:this.pagesize*this.pagenum;k=o;o=0;e=this.totalrecords}var t=m.datafields?m.datafields.length:0;if(t==0){var b=x[0];var v=new Array();for(obj in b){var c=obj;v[v.length]={name:c}}m.datafields=v;t=v.length}for(var r=o;r<e;r++){var d=x[r];if(d==undefined){break}if(m.record&&m.record!=""){d=d[m.record]}var w=this.getid(m.id,d,r);if(!this.recordids[w]){this.recordids[w]=d;var g={};for(var q=0;q<t;q++){var h=m.datafields[q];var n="";if(undefined==h||h==null){continue}if(h.map){var f=h.map.split(">");if(f.length>0){var u=d;for(var l=0;l<f.length;l++){u=u[f[l]]}n=u}else{n=d[h.map]}if(n!=undefined&&n!=null){n=n.toString()}else{n=""}}if(n==""){n=d[h.name];if(n==undefined||n==null){n=""}}n=this.getvaluebytype(n,h);g[h.name]=n}if(m.recordendindex<=0||o<m.recordendindex){s[k+r]=a.extend({},g);s[k+r].uid=w;this.originaldata[k+r]=a.extend({},s[r])}}}this.records=s;this.cachedrecords=this.records},loadxml:function(f,u,l){if(typeof(f)=="string"){f=u=a(a.parseXML(f))}if(l.root==undefined){l.root=""}if(l.record==undefined){l.record=""}var f;if(a.browser.msie&&u){if(u.xml!=undefined){f=a(l.root+" "+l.record,a.parseXML(u.xml))}else{f=f||a(l.root+" "+l.record,u)}}else{f=f||a(l.root+" "+l.record,u)}if(!f){f=[]}var e=f.length;if(f.length==0){return}this.totalrecords=this.virtualmode?(l.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var q=this.records;var n=!this.pageable?l.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(l.loadallrecords){n=0;e=this.totalrecords}var k=0;if(this.virtualmode){n=!this.pageable?l.recordstartindex:this.pagesize*this.pagenum;k=n;n=0;e=this.totalrecords}var r=l.datafields?l.datafields.length:0;if(r==0){var b=f[0];var s=new Array();for(obj in b){var c=obj;s[s.length]={name:c}}l.datafields=s;r=s.length}for(var p=n;p<e;p++){var d=f[p];if(d==undefined){break}var t=this.getid(l.id,d,p);if(!this.recordids[t]){this.recordids[t]=d;var g={};for(j=0;j<r;j++){var h=l.datafields[j];var o="";if(undefined==h||h==null){continue}if(h.map){o=a(h.map,d).text()}if(o==""){o=a(h.name,d).text()}var m=o;o=this.getvaluebytype(o,h);g[h.name]=o}if(l.recordendindex<=0||n<l.recordendindex){q[k+p]=a.extend({},g);q[k+p].uid=t;this.originaldata[k+p]=a.extend({},q[p])}}}this.records=q;this.cachedrecords=this.records},loadtext:function(k,b){if(k==null){return}var t=b.rowDelimiter||"\n";var s=k.split(t);var e=s.length;this.totalrecords=this.virtualmode?(b.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var g=this.records;var r=!this.pageable?b.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(b.loadallrecords){r=0;e=this.totalrecords}var d=0;if(this.virtualmode){r=!this.pageable?b.recordstartindex:this.pagesize*this.pagenum;d=r;r=0;e=this.totalrecords}var o=b.datafields.length;var q=b.columnDelimiter;if(!q){q=(b.datatype==="tab")?"\t":","}for(i=r;i<e;i++){var l=s[i];var c=this.getid(b.id,l,i);if(!this.recordids[c]){this.recordids[c]=l;var m={};var h=s[i].split(q);for(j=0;j<o;j++){if(j>=h.lenght){continue}var f=b.datafields[j];var n=h[j];if(f.type){n=this.getvaluebytype(n,f)}var p=f.map||f.name||j.toSring();m[p]=n}g[d+i]=a.extend({},m);g[d+i].uid=c;this.originaldata[d+i]=a.extend({},g[i])}}this.records=g;this.cachedrecords=this.records},getvaluebytype:function(f,c){var d=f;if(c.type=="date"){var e=new Date(f);if(typeof f=="string"){if(c.format){var b=a.jqx.dataFormat.parsedate(f,c.format);if(b!=null){e=b}}}if(e.toString()=="NaN"||e.toString()=="Invalid Date"){if(a.jqx.dataFormat){f=a.jqx.dataFormat.tryparsedate(f)}else{f=e}}else{f=e}if(f==null){f=d}}else{if(c.type=="float"||c.type=="number"||c.type=="decimal"){var f=parseFloat(f);if(isNaN(f)){f=d}}else{if(c.type=="int"||c.type=="integer"){var f=parseInt(f);if(isNaN(f)){f=d}}else{if(c.type=="bool"||c.type=="boolean"){if(f!=null){if(f.toLowerCase()=="false"){f=false}else{if(f.toLowerCase()=="true"){f=true}}}if(f==1){f=true}else{if(f==0){f=false}else{f=""}}}}}}return f}};a.jqx.dataFormat={};a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(b){return typeof b==="boolean"},isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},isDate:function(b){return b instanceof Date},arrayIndexOf:function(e,d){if(e.indexOf){return e.indexOf(d)}for(var b=0,c=e.length;b<c;b++){if(e[b]===d){return b}}return -1},isString:function(b){return typeof b==="string"},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isNull:function(b){return b===null},isUndefined:function(b){return typeof b==="undefined"},isValue:function(b){return(this.isObject(b)||this.isString(b)||this.isNumber(b)||this.isBoolean(b))},isEmpty:function(b){if(!this.isString(b)&&this.isValue(b)){return false}else{if(!this.isValue(b)){return true}}b=a.trim(b).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return b===""},startsWith:function(c,b){return c.indexOf(b)===0},endsWith:function(c,b){return c.substr(c.length-b.length)===b},trim:function(b){return(b+"").replace(this.regexTrim,"")},isArray:function(b){return this.toString.call(b)==="[object Array]"},defaultcalendar:function(){var b={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return b},expandFormat:function(f,e){e=e||"F";var d,c=f.patterns,b=e.length;if(b===1){d=c[e];if(!d){throw"Invalid date format string '"+e+"'."}e=d}else{if(b===2&&e.charAt(0)==="%"){e=e.charAt(1)}}return e},getEra:function(d,c){if(!c){return 0}var g,f=d.getTime();for(var e=0,b=c.length;e<b;e++){g=c[e].start;if(g===null||f>=g){return e}}return 0},toUpper:function(b){return b.split("\u00A0").join(" ").toUpperCase()},toUpperArray:function(b){var e=[];for(var d=0,c=b.length;d<c;d++){e[d]=this.toUpper(b[d])}return e},getEraYear:function(c,e,b,f){var d=c.getFullYear();if(!f&&e.eras){d-=e.eras[b].offset}return d},getDayIndex:function(f,e,c){var b,g=f.days,d=f._upperDays;if(!d){f._upperDays=d=[this.toUpperArray(g.names),this.toUpperArray(g.namesAbbr),this.toUpperArray(g.namesShort)]}e=toUpper(e);if(c){b=this.arrayIndexOf(d[1],e);if(b===-1){b=this.arrayIndexOf(d[2],e)}}else{b=this.arrayIndexOf(d[0],e)}return b},getMonthIndex:function(k,h,d){var b=k.months,c=k.monthsGenitive||k.months,f=k._upperMonths,g=k._upperMonthsGen;if(!f){k._upperMonths=f=[this.toUpperArray(b.names),this.toUpperArray(b.namesAbbr)];k._upperMonthsGen=g=[this.toUpperArray(c.names),this.toUpperArray(c.namesAbbr)]}h=this.toUpper(h);var e=this.arrayIndexOf(d?f[1]:f[0],h);if(e<0){e=this.arrayIndexOf(d?g[1]:g[0],h)}return e},appendPreOrPostMatch:function(f,b){var e=0,h=false;for(var g=0,d=f.length;g<d;g++){var k=f.charAt(g);switch(k){case"'":if(h){b.push("'")}else{e++}h=false;break;case"\\":if(h){b.push("\\")}h=!h;break;default:b.push(k);h=false;break}}return e},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(b,d){var c="";if(d&&d.target){c="target="+d.target}if(c!=""){return"<a "+c+' href="'+b+'">'+b+"</a>"}return'<a href="'+b+'">'+b+"</a>"},formatemail:function(b){return'<a href="mailto:'+b+'">'+b+"</a>"},formatnumber:function(q,p,l){if(l==undefined||l==null){l=this.defaultcalendar()}if(!this.isNumber(q)){q*=1}var m;if(p.length>1){m=parseInt(p.slice(1),10)}var s={};var n=p.charAt(0).toUpperCase();s.thousandsSeparator=l.thousandsseparator;s.decimalSeparator=l.decimalseparator;switch(n){case"D":case"d":case"F":case"f":s.decimalPlaces=m;break;case"N":case"n":s.decimalPlaces=0;break;case"C":case"c":s.decimalPlaces=m;if(l.currencysymbolposition=="before"){s.prefix=l.currencysymbol}else{s.suffix=l.currencysymbol}break;case"P":case"p":s.suffix=l.percentsymbol;s.decimalPlaces=m;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(q)){var f=(q<0);var d=q+"";var o=(s.decimalSeparator)?s.decimalSeparator:".";var b;if(this.isNumber(s.decimalPlaces)){var g=s.decimalPlaces;var k=Math.pow(10,g);d=Math.round(q*k)/k+"";b=d.lastIndexOf(".");if(g>0){if(b<0){d+=o;b=d.length-1}else{if(o!=="."){d=d.replace(".",o)}}while((d.length-1-b)<g){d+="0"}}}if(s.thousandsSeparator){var r=s.thousandsSeparator;b=d.lastIndexOf(o);b=(b>-1)?b:d.length;var e=d.substring(b);var c=-1;for(var h=b;h>0;h--){c++;if((c%3===0)&&(h!==b)&&(!f||(h>1))){e=r+e}e=d.charAt(h-1)+e}d=e}d=(s.prefix)?s.prefix+d:d;d=(s.suffix)?d+s.suffix:d;return d}else{return q}},tryparsedate:function(r,h){if(h==undefined||h==null){h=this.defaultcalendar()}var o=this;if(r==""){return null}if(r!=null&&r.substring(0,6)=="/Date("){var p=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var e=new Date(+r.replace(/\/Date\((\d+)\)\//,"$1"));if(e=="Invalid Date"){var f=r.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);var e=null;if(f){e=new Date(1*f[1]+3600000*f[2]+60000*f[3])}}if(e==null||e=="Invalid Date"){var k=p.exec(r);if(k){var s=new Date(parseInt(k[1]));if(k[2]){var b=parseInt(k[3]);if(k[2]==="-"){b=-b}var n=s.getUTCMinutes();s.setUTCMinutes(n-b)}if(!isNaN(s.valueOf())){return s}}}return e}patterns=h.patterns;for(prop in patterns){e=o.parsedate(r,patterns[prop],h);if(e){return e}}if(r!=null){var d=null;var q=[":","/","-"];var l=true;for(var c=0;c<q.length;c++){if(r.indexOf(q[c])!=-1){l=false}}if(l){var g=new Number(r);if(!isNaN(g)){return new Date(g)}}}return null},getparseregexp:function(b,p){var r=b._parseRegExp;if(!r){b._parseRegExp=r={}}else{var f=r[p];if(f){return f}}var o=this.expandFormat(b,p).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),l=["^"],c=[],k=0,e=0,u=this.getTokenRegExp(),g;while((g=u.exec(o))!==null){var t=o.slice(k,g.index);k=u.lastIndex;e+=this.appendPreOrPostMatch(t,l);if(e%2){l.push(g[0]);continue}var d=g[0],h=d.length,q;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":q="(\\D+)";break;case"tt":case"t":q="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":q="(\\d{"+h+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":q="(\\d\\d?)";break;case"zzz":q="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":q="([+-]?\\d\\d?)";break;case"/":q="(\\"+b["/"]+")";break;default:throw"Invalid date format pattern '"+d+"'.";break}if(q){l.push(q)}c.push(g[0])}this.appendPreOrPostMatch(o.slice(k),l);l.push("$");var s=l.join("").replace(/\s+/g,"\\s+"),n={regExp:s,groups:c};return r[p]=n},outOfRange:function(d,b,c){return d<b||d>c},expandYear:function(g,e){var c=new Date(),b=getEra(c);if(e<100){var d=g.twoDigitYearMax;d=typeof d==="string"?new Date().getFullYear()%100+parseInt(d,10):d;var f=this.getEraYear(c,g,b);e+=f-(f%100);if(e>d){e-=100}}return e},parsedate:function(z,G,u){if(u==undefined||u==null){u=this.defaultcalendar()}z=this.trim(z);var r=u,L=this.getparseregexp(r,G),k=new RegExp(L.regExp).exec(z);if(k===null){return null}var H=L.groups,x=null,p=null,K=null,J=null,q=null,g=0,C,B=0,I=0,b=0,d=null,s=false;for(var D=0,F=H.length;D<F;D++){var c=k[D+1];if(c){var y=H[D],f=y.length,h=parseInt(c,10);switch(y){case"dd":case"d":J=h;if(this.outOfRange(J,1,31)){return null}break;case"MMM":case"MMMM":K=this.getMonthIndex(r,c,f===3);if(this.outOfRange(K,0,11)){return null}break;case"M":case"MM":K=h-1;if(this.outOfRange(K,0,11)){return null}break;case"y":case"yy":case"yyyy":p=f<4?this.expandYear(r,h):h;if(this.outOfRange(p,0,9999)){return null}break;case"h":case"hh":g=h;if(g===12){g=0}if(this.outOfRange(g,0,11)){return null}break;case"H":case"HH":g=h;if(this.outOfRange(g,0,23)){return null}break;case"m":case"mm":B=h;if(this.outOfRange(B,0,59)){return null}break;case"s":case"ss":I=h;if(this.outOfRange(I,0,59)){return null}break;case"tt":case"t":s=r.PM&&(c===r.PM[0]||c===r.PM[1]||c===r.PM[2]);if(!s&&(!r.AM||(c!==r.AM[0]&&c!==r.AM[1]&&c!==r.AM[2]))){return null}break;case"f":case"ff":case"fff":b=h*Math.pow(10,3-f);if(this.outOfRange(b,0,999)){return null}break;case"ddd":case"dddd":q=this.getDayIndex(r,c,f===3);if(this.outOfRange(q,0,6)){return null}break;case"zzz":var e=c.split(/:/);if(e.length!==2){return null}C=parseInt(e[0],10);if(this.outOfRange(C,-12,13)){return null}var n=parseInt(e[1],10);if(this.outOfRange(n,0,59)){return null}d=(C*60)+(startsWith(c,"-")?-n:n);break;case"z":case"zz":C=h;if(this.outOfRange(C,-12,13)){return null}d=C*60;break;case"g":case"gg":var t=c;if(!t||!r.eras){return null}t=trim(t.toLowerCase());for(var E=0,A=r.eras.length;E<A;E++){if(t===r.eras[E].name.toLowerCase()){x=E;break}}if(x===null){return null}break}}}var o=new Date(),w,m=r.convert;w=o.getFullYear();if(p===null){p=w}else{if(r.eras){p+=r.eras[(x||0)].offset}}if(K===null){K=0}if(J===null){J=1}if(m){o=m.toGregorian(p,K,J);if(o===null){return null}}else{o.setFullYear(p,K,J);if(o.getDate()!==J){return null}if(q!==null&&o.getDay()!==q){return null}}if(s&&g<12){g+=12}o.setHours(g,B,I,b);if(d!==null){var v=o.getMinutes()-(d+o.getTimezoneOffset());o.setHours(o.getHours()+parseInt(v/60,10),v%60)}return o},cleardatescache:function(){this.datescache=new Array()},formatdate:function(w,A,r){if(r==undefined||r==null){r=this.defaultcalendar()}var e=w.toString()+"_"+A;if(this.datescache&&this.datescache[e]){return this.datescache[e]}if(!A||!A.length||A==="i"){var C;C=this.formatDate(w,r.patterns.F,culture);return C}var x=r.eras,c=A==="s";A=this.expandFormat(r,A);C=[];var h,y=["0","00","000"],n,o,b=/([^d]|^)(d|dd)([^d]|$)/g,B=0,t=this.getTokenRegExp(),d;function l(D,G){var F,E=D+"";if(G>1&&E.length<G){F=(y[G-2]+E);return F.substr(F.length-G,G)}else{F=E}return F}function z(){if(n||o){return n}n=b.test(A);o=true;return n}function f(E,D){if(d){return d[D]}if(E.getMonth!=undefined){switch(D){case 0:return E.getFullYear();case 1:return E.getMonth();case 2:return E.getDate()}}}for(;;){var k=t.lastIndex,s=t.exec(A);var p=A.slice(k,s?s.index:A.length);B+=this.appendPreOrPostMatch(p,C);if(!s){break}if(B%2){C.push(s[0]);continue}var u=s[0],g=u.length;switch(u){case"ddd":case"dddd":var q=(g===3)?r.days.namesAbbr:r.days.names;C.push(q[w.getDay()]);break;case"d":case"dd":n=true;C.push(l(f(w,2),g));break;case"MMM":case"MMMM":var v=f(w,1);C.push(r.months[g===3?"namesAbbr":"names"][v]);break;case"M":case"MM":C.push(l(f(w,1)+1,g));break;case"y":case"yy":case"yyyy":v=this.getEraYear(w,r,this.getEra(w,x),c);if(g<4){v=v%100}C.push(l(v,g));break;case"h":case"hh":h=w.getHours()%12;if(h===0){h=12}C.push(l(h,g));break;case"H":case"HH":C.push(l(w.getHours(),g));break;case"m":case"mm":C.push(l(w.getMinutes(),g));break;case"s":case"ss":C.push(l(w.getSeconds(),g));break;case"t":case"tt":v=w.getHours()<12?(r.AM?r.AM[0]:" "):(r.PM?r.PM[0]:" ");C.push(g===1?v.charAt(0):v);break;case"f":case"ff":case"fff":C.push(l(w.getMilliseconds(),3).substr(0,g));break;case"z":case"zz":h=w.getTimezoneOffset()/60;C.push((h<=0?"+":"-")+l(Math.floor(Math.abs(h)),g));break;case"zzz":h=w.getTimezoneOffset()/60;C.push((h<=0?"+":"-")+l(Math.floor(Math.abs(h)),2)+":"+l(Math.abs(w.getTimezoneOffset()%60),2));break;case"g":case"gg":if(r.eras){C.push(r.eras[getEra(w,x)].name)}break;case"/":C.push(r["/"]);break;default:throw"Invalid date format pattern '"+u+"'.";break}}var m=C.join("");if(!this.datescache){this.datescache=new Array()}this.datescache[e]=m;return m}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.cssroundedcorners=function(b){var c={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-br"};for(prop in c){if(!c.hasOwnProperty(prop)){continue}if(b==prop){return c[prop]}}};a.jqx.jqxWidget("jqxButton","",{});a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow";this.roundedCorners="all";this.disabled=false;this.height=null;this.width=null;this.overrideTheme=false;this.enableHover=true},createInstance:function(d){var b=this;this._setSize();if(!this.overrideTheme){this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners)));this.host.addClass(this.toThemeProperty("jqx-button"));this.host.addClass(this.toThemeProperty("jqx-widget"))}this.isTouchDevice=a.jqx.mobile.isTouchDevice();this.host.css({cursor:this.cursor});if(!this.isTouchDevice){this.addHandler(this.host,"mouseenter",function(g){if(!b.disabled&&b.enableHover){b.isMouseOver=true;b.refresh()}});this.addHandler(this.host,"mouseleave",function(g){if(!b.disabled&&b.enableHover){b.isMouseOver=false;b.refresh()}})}this.addHandler(this.host,"selectstart",function(g){return false});this.addHandler(this.host,"mousedown",function(g){if(!b.disabled){b.isPressed=true;b.refresh()}});this.addHandler(this.host,"focus",function(g){if(!b.disabled){b.isFocused=true;b.refresh()}});this.addHandler(this.host,"blur",function(g){if(!b.disabled){b.isFocused=false;b.refresh()}});this.mouseupfunc=function(g){if(!b.disabled){b.isPressed=false;b.refresh()}};this.addHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);if(document.referrer!=""||window.frameElement){try{if(window.top!=null&&window.top!=window.self){var f="";if(window.parent&&document.referrer){f=document.referrer}if(f.indexOf(document.location.host)!=-1){var e=function(g){b.isPressed=false;b.refresh()};if(window.top.document){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",e,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",e)}}}}}}catch(c){}}this.propertyChangeMap.roundedCorners=function(g,i,h,j){g.refresh()};this.propertyChangeMap.width=function(g,i,h,j){g._setSize();g.refresh()};this.propertyChangeMap.height=function(g,i,h,j){g._setSize();g.refresh()};this.propertyChangeMap.disabled=function(g,i,h,j){if(h!=j){b.host[0].disabled=j;g.refresh()}};this.propertyChangeMap.theme=function(g,i,h,j){g.host.removeClass();g.host.addClass(g.toThemeProperty("jqx-button"));g.host.addClass(g.toThemeProperty("jqx-widget"));if(!g.overrideTheme){g.host.addClass(g.toThemeProperty(a.jqx.cssroundedcorners(g.roundedCorners)))}g._oldCSSCurrent=null;g.refresh()}},_setSize:function(){if(this.width!=null&&(this.width.toString().indexOf("px")!=-1||this.width.toString().indexOf("%")!=-1)){this.host.css("width",this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.css("width",this.width)}}if(this.height!=null&&(this.height.toString().indexOf("px")!=-1||this.height.toString().indexOf("%")!=-1)){this.host.css("height",this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.css("height",this.height)}}},_removeHandlers:function(){this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"click");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"mousedown");this.removeHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);this.mouseupfunc=null},destroy:function(){this._removeHandlers();this.host.removeClass();this.host.removeData();this.host.remove()},refresh:function(){if(this.overrideTheme){return}var d=this.toThemeProperty("jqx-fill-state-focus");var h=this.toThemeProperty("jqx-fill-state-disabled");var b=this.toThemeProperty("jqx-fill-state-normal");var g=this.toThemeProperty("jqx-fill-state-hover");var e=this.toThemeProperty("jqx-fill-state-pressed");var f=this.toThemeProperty("jqx-fill-state-pressed");var c="";this.host[0].disabled=this.disabled;if(this.disabled){c=h}else{if(this.isMouseOver&&!this.isTouchDevice){if(this.isPressed){c=f}else{c=g}}else{if(this.isPressed){c=e}else{c=b}}}if(this.isFocused){c+=" "+d}if(c!=this._oldCSSCurrent){if(this._oldCSSCurrent){this.host.removeClass(this._oldCSSCurrent)}this.host.addClass(c);this._oldCSSCurrent=c}}});a.jqx.jqxWidget("jqxLinkButton","",{});a.extend(a.jqx._jqxLinkButton.prototype,{createInstance:function(d){var c=this;this.host.onselectstart=function(){return false};var b=this.height||this.host.height();var e=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");var f=this.host.find("input");f.addClass(this.toThemeProperty("jqx-reset"));f.width(e);f.height(b);f.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));f.css({width:e});f.css({height:b});var g=d==undefined?{}:d[0]||{};f.jqxButton(g);if(this.disabled){this.host[0].disabled=true}this.propertyChangeMap.disabled=function(h,j,i,k){c.host[0].disabled=k};this.addHandler(f,"click",function(h){if(!this.disabled){c.onclick(h)}return false})},onclick:function(b){if(this.target!=null){window.open(this.href,this.target)}else{window.location=this.href}}});a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});a.extend(a.jqx._jqxRepeatButton.prototype,{createInstance:function(d){var b=this;this.delay=this.delay||50;var c=a.jqx.mobile.isTouchDevice();this.addHandler(a(document),"mouseup."+this.base.element.id,function(e){if(!c){if(b.timeout!=null){clearTimeout(b.timeout);b.timeout=null;b.refresh()}if(b.timer!=undefined){clearInterval(b.timer);b.timer=null;b.refresh()}}});this.addHandler(this.base.host,"mousedown",function(e){if(!c){if(b.timer!=null){clearInterval(b.timer)}b.timeout=setTimeout(function(){clearInterval(b.timer);b.timer=setInterval(function(f){b.ontimer(f)},b.delay)},150)}});this.addHandler(this.base.host,"mousemove",function(e){if(!c){if(e.which==0){if(b.timer!=null){clearInterval(b.timer);b.timer=null}}}})},destroy:function(){this.removeHandler(this.base.host,"mousemove");this.removeHandler(this.base.host,"mousedown");this.removeHandler(a(document),"mouseup."+this.base.element.id);this.timer=null;this.base.destroy()},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(b){var b=new jQuery.Event("click");if(this.base!=null&&this.base.host!=null){this.base.host.trigger(b)}}});a.jqx.jqxWidget("jqxToggleButton","jqxButton",{});a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=false},createInstance:function(c){var b=this;this.base.overrideTheme=true;this.isTouchDevice=a.jqx.mobile.isTouchDevice();this.addHandler(this.base.host,"click",function(d){b.toggle()});if(!this.isTouchDevice){this.addHandler(this.base.host,"mouseenter",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(this.base.host,"mouseleave",function(d){if(!b.base.disabled){b.refresh()}})}this.addHandler(this.base.host,"mousedown",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(a(document),"mouseup",function(d){if(!b.base.disabled){b.refresh()}})},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(a(document),"mouseup")},toggle:function(){this.toggled=!this.toggled;this.refresh()},unCheck:function(){this.toggled=false;this.refresh()},check:function(){this.toggled=true;this.refresh()},refresh:function(){var g=this.base.toThemeProperty("jqx-fill-state-disabled");var b=this.base.toThemeProperty("jqx-fill-state-normal");var f=this.base.toThemeProperty("jqx-fill-state-hover");var d=this.base.toThemeProperty("jqx-fill-state-pressed");var e=this.base.toThemeProperty("jqx-fill-state-pressed");var c="";this.base.host[0].disabled=this.base.disabled;if(this.base.disabled){c=g}else{if(this.base.isMouseOver&&!this.isTouchDevice){if(this.base.isPressed||this.toggled){c=e}else{c=f}}else{if(this.base.isPressed||this.toggled){c=d}else{c=b}}}if(this.base.host.hasClass(g)&&g!=c){this.base.host.removeClass(g)}if(this.base.host.hasClass(b)&&b!=c){this.base.host.removeClass(b)}if(this.base.host.hasClass(f)&&f!=c){this.base.host.removeClass(f)}if(this.base.host.hasClass(d)&&d!=c){this.base.host.removeClass(d)}if(this.base.host.hasClass(e)&&e!=c){this.base.host.removeClass(e)}if(!this.base.host.hasClass(c)){this.base.host.addClass(c)}}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("myWidget","",{});a.extend(a.jqx._myWidget.prototype,{var1:5,var2:10,foo:function(b){this.var1*=b},bar:function(){alert(this.var1)},createInstance:function(b){}});a.jqx.jqxWidget("jqxScrollBar","",{});a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null;this.width=null;this.vertical=false;this.min=0;this.max=1000;this.value=this.min;this.step=10;this.largestep=50;this.thumbMinSize=10;this.thumbSize=0;this.roundedCorners="all";this.showButtons=true;this.disabled=false;this.touchMode="auto";this.touchModeStyle="auto";this.thumbTouchSize=8;this._triggervaluechanged=true},createInstance:function(b){this.render()},render:function(){this._mouseup=new Date();var b=this;this.element.innerHTML="";this.host.append("<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.btnUp=this.host.find("#jqxScrollBtnUp");this.btnDown=this.host.find("#jqxScrollBtnDown");this.btnThumb=this.host.find("#jqxScrollThumb");this.areaUp=this.host.find("#jqxScrollAreaUp");this.arrowUp=a("<div></div>");this.arrowUp.appendTo(this.btnUp);this.arrowDown=a("<div></div>");this.arrowDown.appendTo(this.btnDown);this.areaDown=this.host.find("#jqxScrollAreaDown");this.scrollWrap=this.host.find("#jqxScrollWrap");this.scrollOuterWrap=this.host.find("#jqxScrollOuterWrap");this.btnUp[0].id="jqxScrollBtnUp"+this.element.id;this.btnDown[0].id="jqxScrollBtnDown"+this.element.id;this.btnThumb[0].id="jqxScrollThumb"+this.element.id;this.areaUp[0].id="jqxScrollAreaUp"+this.element.id;this.areaDown[0].id="jqxScrollAreaDown"+this.element.id;this.scrollWrap[0].id="jqxScrollWrap"+this.element.id;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+this.element.id;if(!this.host.jqxRepeatButton){alert("jqxbuttons.js is not loaded.");return}this.btnUp.jqxRepeatButton({overrideTheme:true,disabled:this.disabled});this.btnDown.jqxRepeatButton({overrideTheme:true,disabled:this.disabled});this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({overrideTheme:true,delay:300});this.areaDown.jqxRepeatButton({overrideTheme:true,delay:300});this.btnThumb.jqxButton({overrideTheme:true,disabled:this.disabled});this.propertyChangeMap.value=function(c,e,d,f){if(!(isNaN(f))){if(d!=f){c.setPosition(parseFloat(f),true)}}};this.propertyChangeMap.width=function(c,e,d,f){if(c.width!=undefined&&parseInt(c.width)>0){c.host.width(parseInt(c.width));c._arrange()}};this.propertyChangeMap.height=function(c,e,d,f){if(c.height!=undefined&&parseInt(c.height)>0){c.host.height(parseInt(c.height));c._arrange()}};this.propertyChangeMap.theme=function(c,e,d,f){c.setTheme()};this.propertyChangeMap.max=function(c,e,d,f){if(!(isNaN(f))){if(d!=f){c.max=parseInt(f);if(c.min>c.max){c.max=c.min+1}c._arrange();c.setPosition(c.value)}}};this.propertyChangeMap.min=function(c,e,d,f){if(!(isNaN(f))){if(d!=f){c.min=parseInt(f);if(c.min>c.max){c.max=c.min+1}c._arrange();c.setPosition(c.value)}}};this.propertyChangeMap.disabled=function(c,e,d,f){if(d!=f){if(f){c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled"))}else{c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled"))}c.btnUp.jqxRepeatButton("disabled",c.disabled);c.btnDown.jqxRepeatButton("disabled",c.disabled);c.btnThumb.jqxButton("disabled",c.disabled)}};this.propertyChangeMap.touchMode=function(c,e,d,f){if(d!=f){c._updateTouchBehavior()}};this.buttonUpCapture=false;this.buttonDownCapture=false;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},_updateTouchBehavior:function(){this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){this.isTouchDevice=true;a.jqx.mobile.setMobileSimulator(this.btnThumb[0]);this._removeHandlers();this._addHandlers();this.setTheme()}else{if(this.touchMode==false){this.isTouchDevice=false}}},_addHandlers:function(){var d=this;if(d.isTouchDevice){this.addHandler(this.btnThumb,"touchend",function(g){var h=d.vertical?d.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):d.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");var i=d.toThemeProperty("jqx-fill-state-pressed");d.btnThumb.removeClass(h);d.btnThumb.removeClass(i);if(!d.disabled){d.handlemouseup(d,g)}});this.addHandler(this.btnThumb,"touchstart",function(g){if(!d.disabled){if(d.touchMode==true){g.clientX=g.originalEvent.clientX;g.clientY=g.originalEvent.clientY}else{var h=g;if(h.originalEvent.touches&&h.originalEvent.touches.length){g.clientX=h.originalEvent.touches[0].clientX;g.clientY=h.originalEvent.touches[0].clientY}}d.handlemousedown(g)}});a.jqx.mobile.touchScroll(this.element,d.max,function(m,l,h,g,i){if(d.host.css("visibility")=="visible"){if(d.touchMode==true){i.clientX=i.originalEvent.clientX;i.clientY=i.originalEvent.clientY}else{var k=i;if(k.originalEvent.touches&&k.originalEvent.touches.length){i.clientX=k.originalEvent.touches[0].clientX;i.clientY=k.originalEvent.touches[0].clientY}}var j=d.vertical?d.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):d.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");d.btnThumb.addClass(j);d.btnThumb.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.handlemousemove(i)}})}this.addHandler(this.btnUp,"click",function(g){if(d.buttonUpCapture&&!d.isTouchDevice){if(!d.disabled){d.setPosition(d.value-d.step)}}else{if(!d.disabled&&d.isTouchDevice){d.setPosition(d.value-d.step)}}});this.addHandler(this.btnDown,"click",function(g){if(d.buttonDownCapture&&!d.isTouchDevice){if(!d.disabled){d.setPosition(d.value+d.step)}}else{if(!d.disabled&&d.isTouchDevice){d.setPosition(d.value+d.step)}}});if(!this.isTouchDevice){if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){parentLocation=document.referrer}if(parentLocation.indexOf(document.location.host)!=-1){var e=function(g){if(!d.disabled){d.handlemouseup(d,g)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",e,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",e)}}}}}this.addHandler(this.btnDown,"mouseup",function(g){if(!d.btnDownInstance.base.disabled&&d.buttonDownCapture){d.buttonDownCapture=false;d.btnDown.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.btnDown.removeClass(d.toThemeProperty("jqx-fill-state-pressed"));d._removeArrowClasses("pressed","down");d.handlemouseup(d,g);d.setPosition(d.value+d.step);return false}});this.addHandler(this.btnUp,"mouseup",function(g){if(!d.btnUpInstance.base.disabled&&d.buttonUpCapture){d.buttonUpCapture=false;d.btnUp.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.btnUp.removeClass(d.toThemeProperty("jqx-fill-state-pressed"));d._removeArrowClasses("pressed","up");d.handlemouseup(d,g);d.setPosition(d.value-d.step);return false}});this.addHandler(this.btnDown,"mousedown",function(g){if(!d.btnDownInstance.base.disabled){d.buttonDownCapture=true;d.btnDown.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.btnDown.addClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d._addArrowClasses("pressed","down");return false}});this.addHandler(this.btnUp,"mousedown",function(g){if(!d.btnUpInstance.base.disabled){d.buttonUpCapture=true;d.btnUp.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.btnUp.addClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d._addArrowClasses("pressed","up");return false}})}var c="click";if(this.isTouchDevice){c="touchend"}this.addHandler(this.areaUp,c,function(g){if(!d.disabled){d.setPosition(d.value-d.largestep);return false}});this.addHandler(this.areaDown,c,function(g){if(!d.disabled){d.setPosition(d.value+d.largestep);return false}});this.addHandler(this.areaUp,"mousedown",function(g){if(!d.disabled){return false}});this.addHandler(this.areaDown,"mousedown",function(g){if(!d.disabled){return false}});this.addHandler(this.btnThumb,"mousedown",function(g){if(!d.disabled){d.handlemousedown(g)}return false});this.addHandler(this.btnThumb,"dragstart",function(g){return false});this.addHandler(a(document),"mouseup."+this.element.id,function(g){if(!d.disabled){d.handlemouseup(d,g)}});if(!this.isTouchDevice){var f=function(g){if(!d.disabled){d.handlemousemove(g)}};this.addHandler(a(document),"mousemove."+this.element.id,f);this.addHandler(a(document),"mouseleave."+this.element.id,function(g){if(!d.disabled){d.handlemouseleave(g)}});this.addHandler(a(document),"mouseenter."+this.element.id,function(g){if(!d.disabled){d.handlemouseenter(g)}});if(!d.disabled){this.btnUp.hover(function(){if(!d.disabled&&!d.btnUpInstance.base.disabled&&d.touchMode!=true){d.btnUp.addClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnUp.addClass(d.toThemeProperty("jqx-fill-state-hover"));d._addArrowClasses("hover","up")}},function(){if(!d.disabled&&!d.btnUpInstance.base.disabled&&d.touchMode!=true){d.btnUp.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnUp.removeClass(d.toThemeProperty("jqx-fill-state-hover"));d._removeArrowClasses("hover","up")}});var b=d.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!d.vertical){b=d.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.btnThumb.hover(function(){if(!d.disabled&&d.touchMode!=true){d.btnThumb.addClass(b);d.btnThumb.addClass(d.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!d.disabled&&d.touchMode!=true){d.btnThumb.removeClass(b);d.btnThumb.removeClass(d.toThemeProperty("jqx-fill-state-hover"))}});this.btnDown.hover(function(){if(!d.disabled&&!d.btnDownInstance.base.disabled&&d.touchMode!=true){d.btnDown.addClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnDown.addClass(d.toThemeProperty("jqx-fill-state-hover"));d._addArrowClasses("hover","down")}},function(){if(!d.disabled&&!d.btnDownInstance.base.disabled&&d.touchMode!=true){d.btnDown.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnDown.removeClass(d.toThemeProperty("jqx-fill-state-hover"));d._removeArrowClasses("hover","down")}})}}},destroy:function(){var b=this.btnUp;var f=this.btnDown;var d=this.btnThumb;var c=this.scrollWrap;var g=this.areaUp;var e=this.areaDown;e.removeClass();g.removeClass();f.removeClass();b.removeClass();d.removeClass();b.jqxRepeatButton("destroy");f.jqxRepeatButton("destroy");g.jqxRepeatButton("destroy");e.jqxRepeatButton("destroy");d.jqxButton("destroy");this._removeHandlers();this.host.removeClass();this.host.removeData();this.host.remove();this.host=null;this.btnUp=null;this.btnDown=null;this.scrollWrap=null;this.areaUp=null;this.areaDown=null},_removeHandlers:function(){this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(a(document),"mouseup."+this.element.id);this.removeHandler(a(document),"mousemove."+this.element.id);this.removeHandler(a(document),"mouseleave."+this.element.id);this.removeHandler(a(document),"mouseenter."+this.element.id);this.btnUp.unbind("hover");this.btnThumb.unbind("hover");this.btnDown.unbind("hover");var b=this},_addArrowClasses:function(c,b){if(c=="pressed"){c="selected"}if(c!=""){c="-"+c}if(this.vertical){if(b=="up"||b==undefined){this.arrowUp.addClass(this.toThemeProperty("icon-arrow-up"+c))}if(b=="down"||b==undefined){this.arrowDown.addClass(this.toThemeProperty("icon-arrow-down"+c))}}else{if(b=="up"||b==undefined){this.arrowUp.addClass(this.toThemeProperty("icon-arrow-left"+c))}if(b=="down"||b==undefined){this.arrowDown.addClass(this.toThemeProperty("icon-arrow-right"+c))}}},_removeArrowClasses:function(c,b){if(c=="pressed"){c="selected"}if(c!=""){c="-"+c}if(this.vertical){if(b=="up"||b==undefined){this.arrowUp.removeClass(this.toThemeProperty("icon-arrow-up"+c))}if(b=="down"||b==undefined){this.arrowDown.removeClass(this.toThemeProperty("icon-arrow-down"+c))}}else{if(b=="up"||b==undefined){this.arrowUp.removeClass(this.toThemeProperty("icon-arrow-left"+c))}if(b=="down"||b==undefined){this.arrowDown.removeClass(this.toThemeProperty("icon-arrow-right"+c))}}},setTheme:function(){var o=this.btnUp;var m=this.btnDown;var p=this.btnThumb;var e=this.scrollWrap;var g=this.areaUp;var h=this.areaDown;var f=this.arrowUp;var i=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var k=this.toThemeProperty("jqx-reset");this.areaDown[0].className=k;this.areaUp[0].className=k;var d=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.element.className=d;m[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");o[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var q="";if(this.vertical){f[0].className=k+" "+this.toThemeProperty("icon-arrow-up");i[0].className=k+" "+this.toThemeProperty("icon-arrow-down");q=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")}else{f[0].className=k+" "+this.toThemeProperty("icon-arrow-left");i[0].className=k+" "+this.toThemeProperty("icon-arrow-right");q=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")}q+=" "+this.toThemeProperty("jqx-fill-state-normal");p[0].className=q;if(this.disabled){e.addClass(this.toThemeProperty("jqx-fill-state-disabled"));e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.roundedCorners=="all"){if(this.vertical){var j=a.jqx.cssroundedcorners("top");j=this.toThemeProperty(j);o.addClass(j);var c=a.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c);m.addClass(c)}else{var n=a.jqx.cssroundedcorners("left");n=this.toThemeProperty(n);o.addClass(n);var l=a.jqx.cssroundedcorners("right");l=this.toThemeProperty(l);m.addClass(l)}}else{var b=a.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);elBtnUp.addClass(b);elBtnDown.addClass(b)}var b=a.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);if(!p.hasClass(b)){p.addClass(b)}if(this.isTouchDevice&&this.touchModeStyle!=false){this.showButtons=false;p.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))}},isScrolling:function(){if(this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined){return false}return this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture},handlemousedown:function(c){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var b=this.btnThumb;if(b!=null){b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(this.vertical){b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=c.clientX;this.dragStartY=c.clientY;this.dragStartValue=this.value},toggleHover:function(c,b){},refresh:function(){this._arrange()},_setElementPosition:function(c,b,d){if(!isNaN(b)){if(parseInt(c[0].style.left)!=parseInt(b)){c[0].style.left=b+"px"}}if(!isNaN(d)){if(parseInt(c[0].style.top)!=parseInt(d)){c[0].style.top=d+"px"}}},_setElementTopPosition:function(b,c){if(!isNaN(c)){b[0].style.top=c+"px"}},_setElementLeftPosition:function(c,b){if(!isNaN(b)){c[0].style.left=b+"px"}},handlemouseleave:function(e){var b=this.btnUp;var d=this.btnDown;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this._removeArrowClasses("pressed");if(this.thumbCapture!=true){return}var c=this.btnThumb;var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(f);c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemouseenter:function(e){var b=this.btnUp;var d=this.btnDown;if(this.buttonUpCapture){b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","up")}if(this.buttonDownCapture){d.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","down")}if(this.thumbCapture!=true){return}var c=this.btnThumb;if(this.vertical){c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemousemove:function(b){var h=this.btnUp;var d=this.btnDown;var c=0;if(d==null||h==null){return}if(h!=null&&d!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&b.which==c){d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","down");this.buttonDownCapture=false}else{if(this.buttonUpCapture&&b.which==c){h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));h.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","up");this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var j=this.btnThumb;if(b.which==c&&!this.isTouchDevice){this.thumbCapture=false;this._arrange();var i=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");j.removeClass(i);j.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));return true}if(b.preventDefault!=undefined){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}var k=0;try{if(!this.vertical){k=b.clientX-this.dragStartX}else{k=b.clientY-this.dragStartY}var e=this._btnAndThumbSize;if(!this._btnAndThumbSize){e=(this.vertical)?h.height()+d.height()+j.height():h.width()+d.width()+j.width()}var f=(this.max-this.min)/(this.scrollBarSize-e);k*=f;this.setPosition(this.dragStartValue+k)}catch(g){alert(g)}return false},handlemouseup:function(d,h){var c=false;try{d._mouseup=new Date()}catch(f){}if(this.thumbCapture){this.thumbCapture=false;var e=this.btnThumb;var i=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.removeClass(i);e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c=true}if(this.buttonUpCapture||this.buttonDownCapture){var b=this.btnUp;var g=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));g.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));g.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed");c=true}if(c){if(h.preventDefault!=undefined){h.preventDefault()}if(h.originalEvent!=null){h.originalEvent.mouseHandled=true}if(h.stopPropagation!=undefined){h.stopPropagation()}}},setPosition:function(b,g){var d=this.element;if(b==undefined||b==NaN){b=this.min}if(b>=this.max){b=this.max}if(b<this.min){b=this.min}if(this.value!==b||g==true){if(b==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}var f=this.value;if(this._triggervaluechanged){var e=new jQuery.Event("valuechanged");e.previousValue=this.value;e.currentValue=b}this.value=b;this._positionelements();if(this._triggervaluechanged){this.host.trigger(e)}if(this.valuechanged){this.valuechanged({currentValue:this.value,previousvalue:f})}}return b},_getThumbSize:function(b){var d=this.max-this.min;var c=0;if(d>1){c=(b/(d+b)*b)}else{if(d==1){c=b}}if(this.thumbSize>0){c=this.thumbSize}if(c<this.thumbMinSize){c=this.thumbMinSize}return Math.min(c,b)},_positionelements:function(){var g=this.element;var n=this.areaUp;var e=this.areaDown;var h=this.btnUp;var f=this.btnDown;var o=this.btnThumb;var b=this.scrollWrap;var p=this._height?this._height:this.host.height();var c=this._width?this._width:this.host.width();var l=(!this.vertical)?p:c;if(!this.showButtons){l=0}var m=(!this.vertical)?c:p;this.scrollBarSize=m;var d=this._getThumbSize(m-2*l);d=Math.round(d);if(d<this.thumbMinSize){d=this.thumbMinSize}if(p==NaN||p<10){p=10}if(c==NaN||c<10){c=10}l+=2;this.btnSize=l;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=(this.vertical)?2*this.btnSize+o.outerHeight():2*this.btnSize+o.outerWidth();i=Math.round(i)}var k=(m-i)/(this.max-this.min)*(this.value-this.min);k=Math.round(k);if(this.vertical){var j=m-k-i;if(j<0){j=0}e[0].style.height=j+"px";n[0].style.height=k+"px";this._setElementTopPosition(n,l);this._setElementTopPosition(o,l+k);this._setElementTopPosition(e,l+k+d)}else{n[0].style.width=k+"px";e[0].style.width=m-k-i+"px";this._setElementLeftPosition(n,l);this._setElementLeftPosition(o,l+k);this._setElementLeftPosition(e,2+l+k+d)}},_arrange:function(){var d=this.element;var g=this.areaUp;var q=this.areaDown;var c=this.btnUp;var k=this.btnDown;var r=this.btnThumb;var n=this.scrollWrap;var l=parseInt(this.element.style.height);var o=parseInt(this.element.style.width);if(isNaN(l)){l=0}if(isNaN(o)){o=0}this._width=o;this._height=l;var b=(!this.vertical)?l:o;if(!this.showButtons){b=0}c[0].style.width=b+"px";c[0].style.height=b+"px";k[0].style.width=b+"px";k[0].style.height=b+"px";if(this.vertical){n[0].style.width=o+2+"px"}else{n[0].style.height=l+2+"px"}this._setElementPosition(c,0,0);if(this.vertical){this._setElementPosition(k,0,l-k.outerHeight())}else{this._setElementPosition(k,o-k.outerWidth(),0)}var e=(!this.vertical)?o:l;this.scrollBarSize=e;var h=this._getThumbSize(e-2*b);h=Math.round(h);if(h<this.thumbMinSize){h=this.thumbMinSize}var m=false;if(this.isTouchDevice&&this.touchModeStyle!=false){m=true}if(!this.vertical){r[0].style.width=h+"px";r[0].style.height=l+"px";if(m){r.css({height:this.thumbTouchSize+"px"});r.css("margin-top",(this.host.height()-this.thumbTouchSize)/2)}}else{r[0].style.width=o+"px";r[0].style.height=h+"px";if(m){r.css({width:this.thumbTouchSize+"px"});r.css("margin-left",(this.host.width()-this.thumbTouchSize)/2)}}if(l==NaN||l<10){l=10}if(o==NaN||o<10){o=10}b+=2;this.btnSize=b;var f=(this.vertical)?2*this.btnSize+(2+parseInt(r[0].style.height)):2*this.btnSize+(2+parseInt(r[0].style.width));f=Math.round(f);this._btnAndThumbSize=f;var t=(e-f)/(this.max-this.min)*(this.value-this.min);t=Math.round(t);if(t===-Infinity||t==Infinity){t=0}if(isNaN(t)){t=0}if(this.vertical){var s=(e-t-f);if(s<0){s=0}q[0].style.height=s+"px";q[0].style.width=o+"px";g[0].style.height=t+"px";g[0].style.width=o+"px";var i=parseInt(this.host.height());r[0].style.visibility="inherit";if(i-3*parseInt(b)<0){r[0].style.visibility="hidden"}else{if(i<f){r[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){r[0].style.visibility="inherit"}}}this._setElementPosition(g,0,b);this._setElementPosition(r,0,b+t);this._setElementPosition(q,0,b+t+h)}else{g[0].style.width=t+"px";g[0].style.height=l+"px";var j=(e-t-f);if(j<0){j=0}q[0].style.width=j+"px";q[0].style.height=l+"px";var p=parseInt(this.host.width());r[0].style.visibility="inherit";if(p-3*parseInt(b)<0){r[0].style.visibility="hidden"}else{if(p<f){r[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){r[0].style.visibility="inherit"}}}this._setElementPosition(g,b,0);this._setElementPosition(r,b+t,0);this._setElementPosition(q,2+b+t+h,0)}}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxListBox","",{});a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.multiple=false;this.selectedIndex=-1;this.selectedIndexes=new Array();this.source=null;this.scrollBarSize=15;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.checkboxes=false;this.hasThreeStates=false;this.autoHeight=false;this.roundedcorners=true;this.touchMode="auto";this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.allowDrag=false;this.allowDrop=true;this.dropAction="default";this.touchModeStyle="auto";this.keyboardNavigation=true;this.enableMouseWheel=true;this.multipleextended=false;this.events=["select","unselect","change","checkChange","dragStart","dragEnd"]},createInstance:function(b){this.render()},render:function(){this.element.innerHTML="";var b=this;this.host.addClass(this.toThemeProperty("jqx-listbox"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);f=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);if(this.host.height()==0){this.host.height(200)}f=true}if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var c=a("<div tabIndex=0 style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div tabIndex=1 style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' tabIndex=2 style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this._addInput();this.host.attr("tabIndex",1);this.host.append(c);var e=this.host.find("#verticalScrollBar"+this.element.id);if(!e.jqxScrollBar){alert("jqxscrollbar.js is not loaded.");return}this.vScrollBar=e.jqxScrollBar({vertical:true,theme:this.theme,touchMode:this.touchMode,largestep:parseInt(this.host.height())/2});var d=this.host.find("#horizontalScrollBar"+this.element.id);this.hScrollBar=d.jqxScrollBar({vertical:false,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#listBoxContent");this.content[0].id="listBoxContent"+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;if(this.isTouchDevice()){var g=a("<div class='overlay' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(g);this.overlayContent=this.host.find(".overlay")}this._updateTouchScrolling();this.host.addClass("jqx-disableselect");if(f){a(window).resize(function(){b._updateSize()})}if(this.host.jqxDragDrop){jqxListBoxDragDrop()}},_addInput:function(){var b=this.host.attr("name");if(!b){b=this.element.id}else{this.host.attr("name","")}this.input=a("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=false;var c=this.overlayContent?this.overlayContent:this.content;a(c).unbind("touchstart.touchScroll");a(c).unbind("touchmove.touchScroll");a(c).unbind("touchend.touchScroll");a(c).unbind("touchcancel.touchScroll");a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(f,e){if(b.vScrollBar.css("visibility")!="hidden"){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+e);b._lastScroll=new Date()}if(b.hScrollBar.css("visibility")!="hidden"){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+f);b._lastScroll=new Date()}},this.element.id);if(b.vScrollBar.css("visibility")!="visible"&&b.hScrollBar.css("visibility")!="visible"){a.jqx.mobile.setTouchScroll(false,this.element.id)}else{a.jqx.mobile.setTouchScroll(true,this.element.id)}}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true;a.jqx.mobile.setMobileSimulator(this.element)}else{if(this.touchMode==false){b=false}}if(b&&this.touchModeStyle!=false){this.scrollBarSize=10}if(b){this.host.addClass(this.toThemeProperty("jqx-touch"))}return b},beginUpdate:function(){this.updatingListBox=true},endUpdate:function(){this.updatingListBox=false;this._addItems();this._renderItems()},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this._render(false)},_updateSize:function(){var c=this;var d=c.host.width();var b=c.host.height();if(!c._oldWidth){c._oldWidth=d}if(!c._oldHeight){c._oldHeight=b}setTimeout(function(){if(d!=c._oldWidth){c._updatescrollbars();c._renderItems()}if(b!=c._oldHeight){if(c.items){if(c.items.length>0&&c.virtualItemsCount*c.items[0].height<b){c._render(false)}else{c._updatescrollbars();c._renderItems()}}}c._oldWidth=d;c._oldHeight=b},1)},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"||c=="checkboxes"){b.clearSelection();b.refresh()}if(c=="scrollBarSize"||c=="equalItemsWidth"){if(d!=e){b._updatescrollbars()}}if(c=="disabled"){b._renderItems()}if(c=="touchMode"){b._removeHandlers();b.vScrollBar.jqxScrollBar({touchMode:d});b.hScrollBar.jqxScrollBar({touchMode:d});b._updateTouchScrolling();b._addHandlers();b._render(false)}if(!this.updating){if(c=="width"||c=="height"){setTimeout(function(){b.vScrollInstance.value=0;if(c=="width"){if(e!=d){b.host.width(d);b._updatescrollbars();b._renderItems()}}else{if(e!=d){b.host.height(d);if(b.items){if(b.items.length>0&&b.virtualItemsCount*b.items[0].height<d){b._render(false)}else{b._updatescrollbars();b._renderItems()}}}}},1)}}if(c=="theme"){if(e!=d){b.hScrollBar.jqxScrollBar({theme:b.theme});b.vScrollBar.jqxScrollBar({theme:b.theme});b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-listbox"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.host.addClass(b.toThemeProperty("jqx-reset"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.refresh()}}if(c=="selectedIndex"){b.clearSelection();b.selectIndex(d,true)}if(c=="displayMember"||c=="valueMember"){if(e!=d){var f=b.selectedIndex;b.refresh();b.selectedIndex=f;b.selectedIndexes[f]=f}b._renderItems()}if(c=="autoHeight"){b._render()}},loadFromSelect:function(i){if(i==null){return}var c="#"+i;var f=a(c);if(f.length>0){var e=f.find("option");var b=f.find("optgroup");var d=0;var h=-1;var g=new Array();a.each(e,function(){var l=b.find(this).length>0;var n=null;if(this.text!=this.value&&(this.label==null||this.label=="")){this.label=this.text}var m={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};var k=a.browser.msie&&a.browser.version<8;if(k){if(m.value==""&&this.text!=null&&this.text.length>0){m.value=this.text}}if(l){n=b.find(this).parent()[0].label;m.group=n}if(this.selected){h=d}g[d]=m;d++});this.source=g;this.fromSelect=true;this.clearSelection();this.selectedIndex=h;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},refresh:function(c){var b=this;if(this.vScrollBar==undefined){return}this.visibleItems=new Array();var d=function(e){if(e==true){if(b.selectedIndex!=-1){var f=b.selectedIndex;b.selectedIndex=-1;b._stopEvents=true;b.selectIndex(f,false,true);if(b.selectedIndex==-1){b.selectedIndex=f}b._stopEvents=false}}};if(a.jqx.dataAdapter&&this.source!=null&&this.source._source){this.databind(this.source);d(c);return}this.items=this.loadItems(this.source);this._render(false,c==true);d(c)},_render:function(c,b){this._addItems();this._renderItems();this.vScrollInstance.setPosition(0);this._cachedItemHtml=new Array();if(c==undefined||c){if(this.items!=undefined&&this.items!=null){if(this.selectedIndex>=0&&this.selectedIndex<this.items.length){this.selectIndex(this.selectedIndex,true,true,true)}}}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop();if(this.isTouchDevice()){this._removeHandlers();if(this.overlayContent){this.overlayContent.remove();this.overlayContent=null}this._updateTouchScrolling();this._addHandlers();return}}this._updateTouchScrolling();if(this.rendered){this.rendered()}},_createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;while(this.items[b]){b=Math.random()+"";b=b.replace(".","");b=b/1}return"listitem"+b},_hitTest:function(c,f){var e=parseInt(this.vScrollInstance.value);var b=this._searchFirstVisibleIndex(f+e,this.renderedVisibleItems);if(this.renderedVisibleItems[b]!=undefined&&this.renderedVisibleItems[b].isGroup){return null}if(this.renderedVisibleItems.length>0){var d=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(d.height+d.top<f+e){return null}}b=this._searchFirstVisibleIndex(f+e);return this.visibleItems[b];return null},_searchFirstVisibleIndex:function(e,f){if(e==undefined){e=parseInt(this.vScrollInstance.value)}var c=0;if(f==undefined||f==null){f=this.visibleItems}var b=f.length;while(c<=b){mid=parseInt((c+b)/2);var d=f[mid];if(d==undefined){break}if(d.initialTop>e&&d.initialTop+d.height>e){b=mid-1}else{if(d.initialTop<e&&d.initialTop+d.height<=e){c=mid+1}else{return mid;break}}}return 0},_renderItems:function(){if(this.items==undefined||this.items.length==0){this.visibleItems=new Array();return}if(this.updatingListBox==true){return}var F=this.vScrollInstance;var h=this.hScrollInstance;var g=parseInt(F.value);var f=parseInt(h.value);var A=this.items.length;var L=this.host.width();var J=parseInt(this.content[0].style.width);var b=J+parseInt(h.max);var p=parseInt(this.vScrollBar[0].style.width)+2;if(this.vScrollBar[0].style.visibility!="visible"){p=0}if(this.hScrollBar[0].style.visibility!="visible"){b=J}var k=this._getVirtualItemsCount();var K=new Array();var E=0;var D=parseInt(this.element.style.height)+2;if(this.element.style.height.indexOf("%")!=-1){D=this.host.outerHeight()}if(isNaN(D)){D=0}var s=0;var r=0;var O=0;if(F.value==0||this.visibleItems.length==0){for(var q=0;q<this.items.length;q++){var w=this.items[q];if(w.visible){w.top=-g;w.initialTop=-g;if(!w.isGroup&&w.visible){this.visibleItems[r++]=w;w.visibleIndex=r-1}this.renderedVisibleItems[O++]=w;w.left=-f;var c=w.top+w.height;if(c>=0&&w.top-w.height<=D){K[E++]={index:q,item:w}}g-=w.height}}}var l=g>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0;var M=0;E=0;var x=this.vScrollInstance.value;var I=0;while(M<100+D){var w=this.renderedVisibleItems[l];if(w==undefined){break}if(w.visible){w.left=-f;var c=w.top+w.height-x;if(c>=0&&w.initialTop-x-w.height<=2*D){K[E++]={index:l,item:w}}}l++;if(w.visible){M+=w.initialTop-x+w.height-M}I++;if(I>this.items.length-1){break}}var n=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item");var i=this.toThemeProperty("jqx-listitem-state-group");var N=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");var B=0;var m=this;for(var q=0;q<this.visualItems.length;q++){var C=this.visualItems[q];var H=function(){var y=C[0].firstChild;if(m.checkboxes){y=C[0].lastChild}if(y!=null){y.style.visibility="hidden";y.className=""}if(m.checkboxes&&m.host.jqxCheckBox){var P=C.find(".chkbox");P.css({visibility:"hidden"})}};if(q<K.length){var w=K[q].item;if(w.initialTop-x>=D){H();continue}var z=a(C[0].firstChild);if(this.checkboxes){z=a(C[0].lastChild)}if(z.length==0){continue}if(z[0]==null){continue}z[0].className="";z[0].style.display="block";z[0].style.visibility="inherit";var o="";if(!w.isGroup&&!this.selectedIndexes[w.index]>=0){o=n}else{o=i}if(w.disabled||this.disabled){o+=" "+N}if(this.roundedcorners){o+=" "+this.toThemeProperty("jqx-rc-all")}z[0].className=o;if(this.renderer){if(!w.key){w.key=this.generatekey()}if(!this._cachedItemHtml){this._cachedItemHtml=new Array()}if(this._cachedItemHtml[w.key]){if(z[0].innerHTML!=this._cachedItemHtml[w.key]){z[0].innerHTML=this._cachedItemHtml[w.key]}}else{var v=this.renderer(w.index,w.label,w.value);z[0].innerHTML=v;this._cachedItemHtml[w.key]=z[0].innerHTML}}else{if(w.html!=null&&w.html.toString().length>0){z[0].innerHTML=w.html}else{if(w.label!=null||w.value!=null){if(w.label!=null){if(z[0].innerHTML!==w.label){z[0].innerHTML=w.label}}else{if(z[0].innerHTML!==w.value){z[0].innerHTML=w.value}}}else{if(w.label==""||w.label==null){z[0].innerHTML="";z[0].style.height=(w.height-10)+"px"}}}}C[0].style.left=w.left+"px";C[0].style.top=w.initialTop-x+"px";w.element=z[0];if(w.title){z[0].title=w.title}if(this.equalItemsWidth&&!w.isGroup){if(s==0){var d=parseInt(b);var u=parseInt(z.outerWidth())-parseInt(z.width());d-=u;var G=1;if(G!=null){G=parseInt(G)}else{G=0}d-=2*G;s=d;if(this.checkboxes&&this.host.jqxCheckBox&&this.hScrollBar[0].style.visibility=="hidden"){s-=18}}if(J>this.virtualSize.width){z[0].style.width=s+"px";w.width=s}else{z[0].style.width=-4+this.virtualSize.width+"px";w.width=this.virtualSize.width-4}}else{if(z.width()<this.host.width()){z.width(this.host.width()-2)}}if(this.checkboxes&&this.host.jqxCheckBox&&!w.isGroup){if(B==0){B=(parseInt(C.outerHeight(true))-16)/2;B++}var e=a(C.children()[0]);e[0].item=w;if(z[0].style.left!="18px"){z[0].style.left="18px"}e.css("top",B+"px");e.css({display:"block",visibility:"inherit"});var t=e.jqxCheckBox("checked");if(t!=w.checked){e.jqxCheckBox({checked:w.checked,disabled:w.disabled})}}else{if(this.checkboxes&&this.host.jqxCheckBox){var e=a(C.children()[0]);e.css({display:"none",visibility:"inherit"})}}if(this.selectedIndexes[w.visibleIndex]>=0&&!w.disabled){z.addClass(this.toThemeProperty("jqx-listitem-state-selected"));z.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}}else{H()}}},generatekey:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b())},_calculateVirtualSize:function(){var d=0;var q=2;var o=0;var g=a("<span></span>");var f=0;var c=this.host.outerHeight();a(document.body).append(g);var e=this.items.length;if(this.renderer||this.groups.length>1||(e>0&&this.items[0].html!=null)){for(var o=0;o<e;o++){var r=this.items[o];if(r.isGroup&&(r.label==""&&r.html=="")){continue}if(!r.visible){continue}var k="";if(!r.isGroup){k+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all")}else{k+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all")}k+=" "+this.toThemeProperty("jqx-fill-state-normal");if(this.isTouchDevice()){k+=" "+this.toThemeProperty("jqx-touch")}if(this.equalItemsWidth){g.css("float","left")}g[0].className=k;if(this.renderer){var h=this.renderer(r.index,r.label,r.value);g[0].innerHTML=h}else{if(r.html!=null&&r.html.toString().length>0){g[0].innerHTML=r.html}else{if(r.label!=null||r.value!=null){if(r.label!=null){g[0].innerHTML=r.label}else{g[0].innerHTML=r.value}}}}var b=g.outerHeight();var p=g.outerWidth();if(this.itemHeight>-1){b=this.itemHeight}r.height=b;r.width=p;q+=b;d=Math.max(d,p);if(q<=c){f++}}}else{var q=0;var i=0;var n="";var l=0;var m=0;for(var o=0;o<e;o++){var r=this.items[o];if(r.isGroup&&(r.label==""&&r.html=="")){continue}if(!r.visible){continue}var k="";if(o==0){k+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all");k+=" "+this.toThemeProperty("jqx-fill-state-normal");k+=" "+this.toThemeProperty("jqx-widget");k+=" "+this.toThemeProperty("jqx-listbox");k+=" "+this.toThemeProperty("jqx-widget-content");if(this.isTouchDevice()){k+=" "+this.toThemeProperty("jqx-touch")}if(this.equalItemsWidth){g.css("float","left")}g[0].className=k;if(r.html==null&&(r.label==""||r.label==null)){g[0].innerHTML="Item"}else{if(r.html!=null&&r.html.toString().length>0){g[0].innerHTML=r.html}else{if(r.label!=null||r.value!=null){if(r.label!=null){g[0].innerHTML=r.label}else{g[0].innerHTML=r.value}}}}var b=g.outerHeight();if(this.itemHeight>-1){b=this.itemHeight}i=b}if(l!=undefined){m=l}if(r.html!=null&&r.html.toString().length>0){l=Math.max(l,r.html.toString().length);if(m!=l){n=r.html}}else{if(r.label!=null){l=Math.max(l,r.label.length);if(m!=l){n=r.label}}else{if(r.value!=null){l=Math.max(l,r.value.length);if(m!=l){n=r.value}}}}r.height=i;q+=i;if(q<=c){f++}}g[0].innerHTML=n;d=g.outerWidth()}q+=2;if(f<10){f=10}g.remove();return{width:d,height:q,itemsPerPage:f}},_getVirtualItemsCount:function(){if(this.virtualItemsCount==0){var b=parseInt(this.host.height())/5;if(b>this.items.length){b=this.items.length}return b}else{return this.virtualItemsCount}},_addItems:function(){if(this.updatingListBox==true){return}if(this.items==undefined||this.items.length==0){this.virtualSize={width:0,height:0,itemsPerPage:0};this._updatescrollbars();this.renderedVisibleItems=new Array();if(this.itemswrapper){this.itemswrapper.children().remove()}return}var n=this;var h=0;this.visibleItems=new Array();this.renderedVisibleItems=new Array();this._removeHandlers();this.content[0].innerHTML="";this.itemswrapper=a('<div tabIndex=1 style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>');this.itemswrapper.height(2*this.host.height());this.content.append(this.itemswrapper);var i=this._calculateVirtualSize();var l=i.itemsPerPage*2;if(this.autoHeight){l=this.items.length}this.virtualItemsCount=Math.min(l,this.items.length);var g=this;var f=i.width;this.virtualSize=i;this.itemswrapper.width(Math.max(this.host.width(),17+i.width));for(var k=0;k<this.virtualItemsCount;k++){var m=this.items[k];var b=a("<div style='border: none; tabIndex=0 width:100%; height: 100%; align:left; valign:top; position: absolute;'><span id='spanElement'></span></div>");b[0].id=n._createID();if(this.allowDrag&&this._enableDragDrop){b.addClass("draggable")}b.appendTo(this.itemswrapper);if(this.checkboxes&&this.host.jqxCheckBox){var e=a('<div tabIndex=1 style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox"/>');b.css("float","left");var c=a(b[0].firstChild);c.css("float","left");b.prepend(e);e.jqxCheckBox({checked:m.checked,animationShowDelay:0,animationHideDelay:0,disabled:m.disabled,enableContainerClick:false,keyboardCheck:false,hasThreeStates:this.hasThreeStates,theme:this.theme});m.checkBoxElement=e[0];var d=function(r,q){var o=r.owner.element.item;if(o!=null){var p=r.args;if(q){g.checkIndex(o.index,true)}else{if(q==false){g.uncheckIndex(o.index,true)}else{g.indeterminateIndex(o.index,true)}}}g.focused=true};e.jqxCheckBox("updated",d)}b[0].style.height=m.height+"px";b[0].style.top=h+"px";h+=m.height;this.visualItems[k]=b}this._addHandlers();this._updatescrollbars();if(a.browser.msie&&a.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true)}},_updatescrollbars:function(){var k=this.virtualSize.height;var h=this.virtualSize.width;var d=this.vScrollInstance;var c=this.hScrollInstance;this._arrange();var i=false;if(k>this.host.outerHeight()){var b=0;if(h>this.host.outerWidth()){b=this.hScrollBar.outerHeight()+2}d.max=2+parseInt(k)+b-parseInt(this.host.height());if(this.vScrollBar[0].style.visibility!="inherit"){this.vScrollBar[0].style.visibility="inherit";i=true}}else{if(this.vScrollBar[0].style.visibility!="hidden"){this.vScrollBar[0].style.visibility="hidden";i=true}}var f=0;if(this.vScrollBar[0].style.visibility!="hidden"){f=this.scrollBarSize+6}var e=this.checkboxes?20:0;if(h>=this.host.outerWidth()-f-e){var g=c.max;if(this.vScrollBar[0].style.visibility=="inherit"){c.max=e+f+parseInt(h)-this.host.width()+4}else{c.max=e+parseInt(h)-this.host.width()+6}if(this.hScrollBar[0].style.visibility!="inherit"){this.hScrollBar[0].style.visibility="inherit";i=true}if(g!=c.max){c._arrange()}if(this.vScrollBar[0].style.visibility=="inherit"){d.max=2+parseInt(k)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height())}}else{if(this.hScrollBar[0].style.visibility!="hidden"){this.hScrollBar[0].style.visibility="hidden";i=true}}c.setPosition(0);if(i){this._arrange()}if(this.itemswrapper){this.itemswrapper.width(Math.max(this.host.width(),17+h));this.itemswrapper.height(2*this.host.height())}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(b){for(indx=0;indx<this.selectedIndexes.length;indx++){this.selectedIndexes[indx]=-1}this.selectedIndex=-1;if(b!=false){this._renderItems()}},unselectIndex:function(b,c){if(isNaN(b)){return}this.selectedIndexes[b]=-1;if(c==undefined||c==true){this._renderItems();this._raiseEvent("1",{index:b,type:type})}this._updateInputSelection();this._raiseEvent("2",{index:b,item:this.getItem(b)})},getItem:function(c){if(c==-1||isNaN(c)){return null}var b=null;var d=a.each(this.items,function(){if(this.index==c){b=this;return false}});return b},getVisibleItem:function(b){if(b==-1||isNaN(b)){return null}return this.visibleItems[b]},checkIndex:function(b,c){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(d!=null){var e=a(d.checkBoxElement);d.checked=true;if(c==undefined||c==true){this._updateCheckedItems()}}this._raiseEvent(3,{label:d.label,value:d.value,checked:true,item:d})},getCheckedItems:function(){if(!this.checkboxes||!this.host.jqxCheckBox){return null}var b=new Array();a.each(this.items,function(){if(this.checked){b[b.length]=this}});return b},checkAll:function(){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(this.disabled){return}a.each(this.items,function(){this.checked=true});this._updateCheckedItems();this._raiseEvent(3,{checked:true})},uncheckAll:function(){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(this.disabled){return}a.each(this.items,function(){this.checked=false});this._updateCheckedItems();this._raiseEvent(3,{checked:false})},uncheckIndex:function(b,c){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(d!=null){var e=a(d.checkBoxElement);d.checked=false;if(c==undefined||c==true){this._updateCheckedItems()}}this._raiseEvent(3,{label:d.label,value:d.value,checked:false,item:d})},indeterminateIndex:function(b,c){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(d!=null){var e=a(d.checkBoxElement);d.checked=null;if(c==undefined||c==true){this._updateCheckedItems()}}this._raiseEvent(3,{checked:null})},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var b=this.getItems();var e=this.selectedIndexes;var d=[];for(var c in e){if(e[c]!=-1){d[d.length]=b[c]}}return d},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(false);var c=this.getCheckedItems();this.selectedIndex=b;this._renderItems();var d=a.data(this.element,"hoveredItem");if(d!=null){a(d).addClass(this.toThemeProperty("jqx-listitem-state-hover"));a(d).addClass(this.toThemeProperty("jqx-fill-state-hover"))}this._updateInputSelection()},selectIndex:function(k,r,c,d,n,b){if(isNaN(k)){return}if(k<-1||k>=this.visibleItems.length){return}if(this.visibleItems[k]!=null&&this.visibleItems[k].disabled){return}if(this.disabled){return}if(!this.multiple&&!this.multipleextended&&this.selectedIndex==k&&!d){return}if(this.checkboxes){this._updateCheckedItems();return}this.focused=true;var q=false;if(this.selectedIndex!=k){q=true}var p=this.selectedIndex;if(this.selectedIndex==k&&!this.multiple){p=-1}if(n==undefined){n="none"}var h=this.getItem(k);var s=this.getItem(p);if(this.visibleItems&&this.visibleItems.length!=this.items.length){h=this.getVisibleItem(k);s=this.getVisibleItem(p)}if(d!=undefined&&d){this._raiseEvent("1",{index:p,type:n,item:s,originalEvent:b});this.selectedIndex=k;this.selectedIndexes[p]=-1;this.selectedIndexes[k]=k;this._raiseEvent("0",{index:k,type:n,item:h,originalEvent:b})}else{var m=this;var e=function(t,x,v,w,u,i){m._raiseEvent("1",{index:x,type:v,item:w,originalEvent:i});m.selectedIndex=t;m.selectedIndexes[x]=-1;x=t;m.selectedIndexes[t]=t;m._raiseEvent("0",{index:t,type:v,item:u,originalEvent:i})};var l=function(t,x,v,w,u,i){if(m.selectedIndexes[t]==undefined||m.selectedIndexes[t]==-1){m.selectedIndexes[t]=t;m.selectedIndex=t;m._raiseEvent("0",{index:t,type:v,item:u,originalEvent:i})}else{x=m.selectedIndexes[t];m.selectedIndexes[t]=-1;m.selectedIndex=-1;m._raiseEvent("1",{index:x,type:v,item:w,originalEvent:i})}};if(this.multipleextended){if(!this._shiftKey&&!this._ctrlKey){if(n!="keyboard"&&n!="mouse"){l(k,p,n,s,h,b);m._clickedIndex=k}else{this.clearSelection(false);m._clickedIndex=k;e(k,p,n,s,h,b)}}else{if(this._ctrlKey){if(n=="keyboard"){this.clearSelection(false)}l(k,p,n,s,h,b)}else{if(this._shiftKey){if(m._clickedIndex==undefined){m._clickedIndex=p}var f=Math.min(m._clickedIndex,k);var o=Math.max(m._clickedIndex,k);this.clearSelection(false);for(var g=f;g<=o;g++){m.selectedIndexes[g]=g;m._raiseEvent("0",{index:g,type:n,item:this.getVisibleItem(g),originalEvent:b})}if(n!="keyboard"){m.selectedIndex=m._clickedIndex}else{m.selectedIndex=k}}}}}else{if(this.multiple){l(k,p,n,s,h,b)}else{e(k,p,n,s,h,b)}}}if(c==undefined||c==true){this._renderItems()}if(r!=undefined&&r!=null&&r==true){this.ensureVisible(k)}this._raiseEvent("2",{index:k,item:h});this._updateInputSelection();return q},_updateInputSelection:function(){if(this.input){if(this.selectedIndex==-1){this.input.val("")}else{if(this.items[this.selectedIndex]!=undefined){this.input.val(this.items[this.selectedIndex].value)}}if(this.multiple||this.multipleextended||this.checkboxes){var b=!this.checkboxes?this.getSelectedItems():this.getCheckedItems();var d="";for(var c=0;c<b.length;c++){if(c==b.length-1){d+=b[c].value}else{d+=b[c].value+","}}this.input.val(d)}}},isIndexInView:function(c){if(isNaN(c)){return false}if(c<0||c>=this.items.length){return false}var d=this.vScrollInstance.value;var e=this.visibleItems[this.selectedIndex];if(e==undefined){return true}var b=e.initialTop;var f=e.height;if(b-d<0||b-d+f>=this.host.outerHeight()){return false}return true},_itemsInPage:function(){var b=0;var c=this;a.each(this.items,function(){if((this.initialTop+this.height)>=c.content.height()){return false}b++});return b},_firstItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[0].isGroup){return this._nextItemIndex(0)}else{return 0}}return -1},_lastItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[this.visibleItems.length-1].isGroup){return this._prevItemIndex(this.visibleItems.length-1)}else{return this.visibleItems.length-1}}return -1},_nextItemIndex:function(b){for(indx=b+1;indx<this.visibleItems.length;indx++){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_prevItemIndex:function(b){for(indx=b-1;indx>=0;indx--){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_getMatches:function(g,d){if(g==undefined||g.length==0){return -1}if(d==undefined){d=0}var b=this.getItems();var f=this;var c=-1;var e=0;a.each(b,function(h){var l="";if(!this.isGroup){if(this.label){l=this.label}else{if(this.value){l=this.value}else{if(this.title){l=this.title}else{l="jqxItem"}}}var k=false;switch(f.searchMode){case"containsignorecase":k=a.jqx.string.containsIgnoreCase(l,g);break;case"contains":k=a.jqx.string.contains(l,g);break;case"equals":k=a.jqx.string.equals(l,g);break;case"equalsignorecase":k=a.jqx.string.equalsIgnoreCase(l,g);break;case"startswith":k=a.jqx.string.startsWith(l,g);break;case"startswithignorecase":k=a.jqx.string.startsWithIgnoreCase(l,g);break;case"endswith":k=a.jqx.string.endsWith(l,g);break;case"endswithignorecase":k=a.jqx.string.endsWithIgnoreCase(l,g);break}if(k&&this.visibleIndex>=d){c=this.visibleIndex;return false}}});return c},findItems:function(e){var b=this.getItems();var d=this;var c=0;var f=new Array();a.each(b,function(g){var k="";if(!this.isGroup){if(this.label){k=this.label}else{if(this.value){k=this.value}else{if(this.title){k=this.title}else{k="jqxItem"}}}var h=false;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(k,e);break;case"contains":h=a.jqx.string.contains(k,e);break;case"equals":h=a.jqx.string.equals(k,e);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(k,e);break;case"startswith":h=a.jqx.string.startsWith(k,e);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(k,e);break;case"endswith":h=a.jqx.string.endsWith(k,e);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(k,e);break}if(h){f[c++]=this}}});return f},_handleKeyDown:function(b){var p=b.keyCode;var q=this;var k=q.selectedIndex;var d=q.selectedIndex;var m=false;if(!this.keyboardNavigation){return}var i=function(){if(q.multiple){q.clearSelection(false)}};if(b.altKey){p=-1}if(q.incrementalSearch){var r=-1;if(!q._searchString){q._searchString=""}if((p==8||p==46)&&q._searchString.length>=1){q._searchString=q._searchString.substr(0,q._searchString.length-1)}var c=String.fromCharCode(p);var l=(!isNaN(parseInt(c)));if((p>=65&&p<=97)||l||p==8||p==32||p==46){if(!b.shiftKey){c=c.toLocaleLowerCase()}var o=1+q.selectedIndex;if(p!=8&&p!=32&&p!=46){if(q._searchString.length>0&&q._searchString.substr(0,1)==c){o=1+q.selectedIndex}else{q._searchString+=c}}if(p==32){q._searchString+=" "}var h=this._getMatches(q._searchString,o);r=h;if(r==q._lastMatchIndex||r==-1){var h=this._getMatches(q._searchString,0);r=h}q._lastMatchIndex=r;if(r>=0){i();q.selectIndex(r,false,false,false,"keyboard",b);var e=q.isIndexInView(r);if(!e){q.ensureVisible(r)}else{q._renderItems()}}}if(q._searchTimer!=undefined){clearTimeout(q._searchTimer)}if(p==27||p==13){q._searchString=""}q._searchTimer=setTimeout(function(){q._searchString=""},q.incrementalSearchDelay);if(r>=0){return}}if(this.checkboxes){return true}if(p==33){var g=q._itemsInPage();if(q.selectedIndex-g>=0){i();q.selectIndex(d-g,false,false,false,"keyboard",b)}else{i();q.selectIndex(q._firstItemIndex(),false,false,false,"keyboard",b)}q._searchString=""}if(p==32&&this.checkboxes){var f=this.getItem(k);if(f!=null){q._updateItemCheck(f,k);b.preventDefault()}q._searchString=""}if(p==36){i();q.selectIndex(q._firstItemIndex(),false,false,false,"keyboard",b);q._searchString=""}if(p==35){i();q.selectIndex(q._lastItemIndex(),false,false,false,"keyboard",b);q._searchString=""}if(p==34){var g=q._itemsInPage();if(q.selectedIndex+g<q.visibleItems.length){i();q.selectIndex(d+g,false,false,false,"keyboard",b)}else{i();q.selectIndex(q._lastItemIndex(),false,false,false,"keyboard",b)}q._searchString=""}if(p==38){q._searchString="";if(q.selectedIndex>0){var n=q._prevItemIndex(q.selectedIndex);if(n!=q.selectedIndex&&n!=-1){i();q.selectIndex(n,false,false,false,"keyboard",b)}else{return true}}else{return false}}else{if(p==40){q._searchString="";if(q.selectedIndex+1<q.visibleItems.length){var n=q._nextItemIndex(q.selectedIndex);if(n!=q.selectedIndex&&n!=-1){i();q.selectIndex(n,false,false,false,"keyboard",b)}else{return true}}else{return false}}}if(p==35||p==36||p==38||p==40||p==34||p==33){var e=q.isIndexInView(q.selectedIndex);if(!e){q.ensureVisible(q.selectedIndex)}else{q._renderItems()}return false}return true},_updateItemCheck:function(b,c){if(b.checked==true){b.checked=this.hasThreeStates?null:false}else{b.checked=b.checked!=null}switch(b.checked){case true:this.checkIndex(c);break;case false:this.uncheckIndex(c);break;default:this.indeterminateIndex(c);break}},wheel:function(d,c){if(c.autoHeight||!c.enableMouseWheel){d.returnValue=true;return true}var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(b){if(d.preventDefault){d.preventDefault()}if(d.originalEvent!=null){d.originalEvent.mouseHandled=true}if(d.stopPropagation!=undefined){d.stopPropagation()}}if(b){b=false;d.returnValue=b;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(d){var c=this.vScrollInstance.value;if(d<0){this.scrollDown()}else{this.scrollUp()}var b=this.vScrollInstance.value;if(c!=b){return true}return false},getTouches:function(b){if(b.originalEvent){if(b.originalEvent.touches&&b.originalEvent.touches.length){return b.originalEvent.touches}else{if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length){return b.originalEvent.changedTouches}}}if(!b.touches){b.touches=new Array();b.touches[0]=b.originalEvent}return b.touches},focus:function(){this.focused=true;this.content.focus();var b=this;setTimeout(function(){b.content.focus()},10)},_removeHandlers:function(){var b=this;this.removeHandler(a(document),"keydown.listbox"+this.element.id);this.removeHandler(a(document),"keyup.listbox"+this.element.id);this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"touchend");this.removeHandler(this.content,"mousemove");if(a.browser.msie){this.removeHandler(this.content,"selectstart")}if(this.overlayContent){this.removeHandler(this.overlayContent,"touchend")}},_addHandlers:function(){var k=this;this.focused=false;var l=false;var i=0;var e=null;var i=0;var b=0;var g=new Date();var d=this.isTouchDevice();if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){a(window).unbind("resize."+this.element.id);a(window).bind("resize."+this.element.id,function(){if(k.host.height()!=k._oldheight||k.host.width()!=k._oldwidth){k._oldwidth=k.host.width();k._oldheight=k.host.height();if(k.items){if(k.items.length>0&&k.virtualItemsCount*k.items[0].height<k._oldheight){k._render(false)}else{k._updatescrollbars();k._renderItems()}}}})}this.addHandler(this.vScrollBar,"valuechanged",function(m){if(a.browser.msie&&a.browser.version>9){setTimeout(function(){k._renderItems()},1)}else{k._renderItems()}});this.addHandler(this.hScrollBar,"valuechanged",function(){k._renderItems()});this.addHandler(this.host,"mousewheel",function(m){k.wheel(m,k)});this.addHandler(a(document),"keydown.listbox"+this.element.id,function(m){k._ctrlKey=m.ctrlKey;k._shiftKey=m.shiftKey});this.addHandler(a(document),"keyup.listbox"+this.element.id,function(m){k._ctrlKey=m.ctrlKey;k._shiftKey=m.shiftKey});this.addHandler(this.host,"keydown",function(m){if(k.focused){return k._handleKeyDown(m)}});this.addHandler(this.content,"mouseleave",function(m){k.focused=false;var n=a.data(k.element,"hoveredItem");if(n!=null){a(n).removeClass(k.toThemeProperty("jqx-listitem-state-hover"));a(n).removeClass(k.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.content,"focus",function(m){k.focused=true});this.addHandler(this.content,"blur",function(m){k.focused=false});this.addHandler(this.content,"mouseenter",function(m){k.focused=true});if(this.enableSelection){var f=k.isTouchDevice();var h=!f?"mousedown":"touchend";if(this.overlayContent){this.addHandler(this.overlayContent,"touchend",function(o){if(f){k._newScroll=new Date();if(k._newScroll-k._lastScroll<500){return false}}var r=k.getTouches(o);var q=r[0];var s=k.host.offset();var p=parseInt(q.pageX);var t=parseInt(q.pageY);if(k.touchmode==true){p=parseInt(q._pageX);t=parseInt(q._pageY)}p=p-s.left;t=t-s.top;var u=k._hitTest(p,t);if(u!=null&&!u.isGroup){if(k.checkboxes){var n=a(u.element).offset();var m=parseInt(n.left);if(p<=m+20){if(u.checked){k.uncheckIndex(u.visibleIndex)}else{k.checkIndex(u.visibleIndex)}}}if(u.html.indexOf("href")!=-1){setTimeout(function(){k.selectIndex(u.visibleIndex,false,true,false,"mouse",o)},100)}else{k.selectIndex(u.visibleIndex,false,true,false,"mouse",o)}}})}var c=a.jqx.utilities.hasTransform(this.host);this.addHandler(this.content,h,function(m){if(f){k._newScroll=new Date();if(k._newScroll-k._lastScroll<500){return false}}k.focused=true;if(!k.isTouchDevice()){k.content.focus()}if(m.target.id!=("listBoxContent"+k.element.id)&&k.itemswrapper[0]!=m.target){var q=m.target;var v=a(q).offset();var p=k.host.offset();if(c){var n=a.jqx.mobile.getLeftPos(q);var s=a.jqx.mobile.getTopPos(q);v.left=n;v.top=s;n=a.jqx.mobile.getLeftPos(k.element);s=a.jqx.mobile.getTopPos(k.element);p.left=n;p.top=s}var r=parseInt(v.top)-parseInt(p.top);var t=parseInt(v.left)-parseInt(p.left);var u=k._hitTest(t,r);if(u!=null&&!u.isGroup){var o=function(x,w){if(!k._shiftKey){k._clickedIndex=x.visibleindex}if(!k.checkboxes){k.selectIndex(x.visibleIndex,false,true,false,"mouse",w)}else{k.selectedIndex=x.visibleIndex;if(t>=20){k._updateItemCheck(x,x.visibleIndex)}}};if(u.html.indexOf("href")!=-1){setTimeout(function(){o(u,m)},100)}else{o(u,m)}}if(h=="mousedown"){return false}}return true});this.addHandler(this.content,"mouseup",function(m){k.vScrollInstance.handlemouseup(k,m)});if(a.browser.msie){this.addHandler(this.content,"selectstart",function(m){return false})}}var d=this.isTouchDevice();if(this.enableHover&&!d){this.addHandler(this.content,"mousemove",function(m){if(d){return true}if(!k.enableHover){return true}var o=a.browser.msie==true&&a.browser.version<9?0:1;if(m.target==null){return true}if(k.disabled){return true}k.focused=true;var q=k.vScrollInstance.isScrolling();if(!q&&m.target.id!=("listBoxContent"+k.element.id)){if(k.itemswrapper[0]!=m.target){var s=m.target;var A=a(s).offset();var r=k.host.offset();if(c){var n=a.jqx.mobile.getLeftPos(s);var u=a.jqx.mobile.getTopPos(s);A.left=n;A.top=u;n=a.jqx.mobile.getLeftPos(k.element);u=a.jqx.mobile.getTopPos(k.element);r.left=n;r.top=u}var t=parseInt(A.top)-parseInt(r.top);var v=parseInt(A.left)-parseInt(r.left);var z=k._hitTest(v,t);if(z!=null&&!z.isGroup&&!z.disabled){var p=a.data(k.element,"hoveredItem");if(p!=null){a(p).removeClass(k.toThemeProperty("jqx-listitem-state-hover"));a(p).removeClass(k.toThemeProperty("jqx-fill-state-hover"))}a.data(k.element,"hoveredItem",z.element);var w=a(z.element);w.addClass(k.toThemeProperty("jqx-listitem-state-hover"));w.addClass(k.toThemeProperty("jqx-fill-state-hover"))}}}})}},_arrange:function(){var c=null;var l=null;var h=this;var f=function(o){o=h.host.height();if(o==0){o=200;h.host.height(o)}return o};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){c=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){c=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){l=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){l=this.height}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);c=this.host.width()}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);l=f(l)}var k=this.host.css("border-width");if(k==null){k=0}if(c!=null){c=parseInt(c);if(parseInt(this.element.style.width)!=parseInt(this.width)){this.host.width(this.width)}}if(!this.autoHeight){if(l!=null){l=parseInt(l);if(parseInt(this.element.style.height)!=parseInt(this.height)){this.host.height(this.height);f(l)}}}else{if(this.virtualSize){if(this.hScrollBar.css("visibility")!="hidden"){this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3);this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3}else{this.host.height(this.virtualSize.height);this.height=this.virtualSize.height}}}var b=this.scrollBarSize;if(isNaN(b)){b=parseInt(b);if(isNaN(b)){b="17px"}else{b=b+"px"}}b=parseInt(b);var g=4;var n=2;var i=0;if(this.vScrollBar){if(this.vScrollBar[0].style.visibility!="hidden"){i=b+g}else{this.vScrollInstance.setPosition(0)}}else{return}if(this.hScrollBar){if(this.hScrollBar[0].style.visibility!="hidden"){n=b+g}else{this.hScrollInstance.setPosition(0)}}else{return}var m=parseInt(l)-g-b;if(m<0){m=0}this.hScrollBar.height(b);this.hScrollBar.css({top:m+"px",left:"0px"});this.hScrollBar.width(c-b-g+"px");if(i==0){this.hScrollBar.width(c-2)}if(b!=parseInt(this.vScrollBar[0].style.width)){this.vScrollBar.width(b)}if((parseInt(l)-n)!=parseInt(this.vScrollBar[0].style.height)){this.vScrollBar.height(parseInt(l)-n+"px")}this.vScrollBar.css({left:parseInt(c)-parseInt(b)-g+"px",top:"0px"});var e=this.vScrollInstance;e.disabled=this.disabled;e._arrange();var d=this.hScrollInstance;d.disabled=this.disabled;d._arrange();if((this.vScrollBar[0].style.visibility!="hidden")&&(this.hScrollBar[0].style.visibility!="hidden")){this.bottomRight.css("visibility","inherit");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(b)+3);this.bottomRight.height(parseInt(b)+3)}else{this.bottomRight.css("visibility","hidden")}if(parseInt(this.content[0].style.width)!=(parseInt(c)-i)){this.content.width(parseInt(c)-i)}if(parseInt(this.content[0].style.height)!=(parseInt(l)-n)){this.content.height(parseInt(l)-n)}if(this.overlayContent){this.overlayContent.width(parseInt(c)-i);this.overlayContent.height(parseInt(l)-n)}},ensureVisible:function(d){var c=this.isIndexInView(d);if(!c){if(d<0){return}if(this.autoHeight){var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(0)}else{for(indx=0;indx<this.visibleItems.length;indx++){var e=this.visibleItems[indx];if(e.visibleIndex==d&&!e.isGroup){var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(e.initialTop);break}}}}this._renderItems()},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var b=this.vScrollInstance;if(b.value+b.largestep<=b.max){b.setPosition(b.value+b.largestep);return true}else{b.setPosition(b.max);return true}return false},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var b=this.vScrollInstance;if(b.value-b.largestep>=b.min){b.setPosition(b.value-b.largestep);return true}else{if(b.value!=b.min){b.setPosition(b.min);return true}}return false},databind:function(h){this.records=new Array();var d=h._source?true:false;var i=new a.jqx.dataAdapter(h,{autoBind:false});if(d){i=h;h=h._source}var g=function(k){if(h.type!=undefined){i._options.type=h.type}if(h.formatdata!=undefined){i._options.formatData=h.formatdata}if(h.contenttype!=undefined){i._options.contentType=h.contenttype}if(h.async!=undefined){i._options.async=h.async}};var c=function(q,p){var r=function(s){if(typeof s==="string"){var u=s;var v=s}else{var v=s[q.valueMember];var u=s[q.displayMember]}var t=new a.jqx._jqxListBox.item();t.label=u;t.value=v;t.html="";t.visible=true;t.originalItem=s;t.group="";t.groupHtml="";t.disabled=false;return t};if(p!=undefined){var n=i._changedrecords[0];if(n){a.each(i._changedrecords,function(){var s=this.index;var t=this.record;if(p!="remove"){var u=r(t)}switch(p){case"update":q.updateAt(u,s);break;case"add":q.insertAt(u,s);break;case"remove":q.removeAt(s);break}});return}}q.records=i.records;var m=q.records.length;q.items=new Array();for(var o=0;o<m;o++){var k=q.records[o];var l=r(k);l.index=o;q.items[o]=l}q._render()};g(this);var f=this;switch(h.datatype){case"local":case"array":default:if(h.localdata!=null){i.dataBind();c(this);i.unbindBindingUpdate(this.element.id);i.bindBindingUpdate(this.element.id,function(k){c(f,k)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(h.localdata!=null){i.dataBind();c(this);i.unbindBindingUpdate(this.element.id);i.bindBindingUpdate(this.element.id,function(){c(f)});return}var e={};if(i._options.data){a.extend(i._options.data,e)}else{if(h.data){a.extend(e,h.data)}i._options.data=e}var b=function(){c(f)};i.unbindDownloadComplete(f.element.id);i.bindDownloadComplete(f.element.id,b);i.dataBind()}},loadItems:function(h){if(h==null){this.groups=new Array();this.items=new Array();this.visualItems=new Array();return}var n=this;var f=0;var d=0;var b=0;this.groups=new Array();this.items=new Array();this.visualItems=new Array();var e=new Array();a.map(h,function(s){if(s==undefined){return null}var p=new a.jqx._jqxListBox.item();var t=s.group;var o=s.groupHtml;var u=s.title;if(u==null||u==undefined){u=""}if(t==null||t==undefined){t=""}if(o==null||o==undefined){o=""}if(!n.groups[t]){n.groups[t]={items:new Array(),index:-1,caption:t,captionHtml:o};f++;var q=f+"jqxGroup";n.groups[q]=n.groups[t];d++;n.groups.length=d}var r=n.groups[t];r.index++;r.items[r.index]=p;if(typeof s==="string"){p.label=s;p.value=s}else{if(s.label==null&&s.value==null&&s.html==null&&s.group==null&&s.groupHtml==null){p.label=s.toString();p.value=s.toString()}else{p.label=s.label||s.value;p.value=s.value||s.label}}if(typeof s!="string"){if(n.displayMember!=""){if(s[n.displayMember]){p.label=s[n.displayMember]}}if(n.valueMember!=""){p.value=s[n.valueMember]}}p.originalItem=s;p.title=u;p.html=s.html||"";p.group=t;p.checked=s.checked||false;p.groupHtml=s.groupHtml||"";p.disabled=s.disabled||false;p.visible=s.visible||true;p.index=b;e[b]=p;b++;return p});var c=new Array();var k=0;if(this.fromSelect==undefined||this.fromSelect==false){for(indx=0;indx<d;indx++){var f=indx+1;var i=f+"jqxGroup";var l=this.groups[i];if(l==undefined||l==null){break}if(indx==0&&l.caption==""&&l.captionHtml==""&&d<=1){return l.items}else{var g=new a.jqx._jqxListBox.item();g.isGroup=true;g.label=l.caption;if(l.caption==""&&l.captionHtml==""){l.caption=this.emptyGroupText;g.label=l.caption}g.html=l.captionHtml;c[k]=g;k++}for(j=0;j<l.items.length;j++){c[k]=l.items[j];k++}}}else{var k=0;var m=new Array();a.each(e,function(){if(!m[this.group]){if(this.group!=""){var o=new a.jqx._jqxListBox.item();o.isGroup=true;o.label=this.group;c[k]=o;k++;m[this.group]=true}}c[k]=this;k++})}return c},_mapItem:function(c){var b=new a.jqx._jqxListBox.item();if(typeof c==="string"){b.label=c;b.value=c}else{if(typeof c==="number"){b.label=c.toString();b.value=c.toString()}else{b.label=c.label||c.value;b.value=c.value||c.label}}if(b.label==undefined&&b.value==undefined&&b.html==undefined){b.label=b.value=c}b.html=c.html||"";b.group=c.group||"";b.title=c.title||"";b.groupHtml=c.groupHtml||"";b.disabled=c.disabled||false;b.visible=c.visible||true;return b},addItem:function(b){if(this.items==undefined||this.items.length==0){this.source=new Array();this.source[0]=b;this.refresh();return}return this.insertAt(b,this.items.length)},updateAt:function(d,c){if(d!=null){var b=this._mapItem(d);this.items[c].value=b.value;this.items[c].label=b.label;this.items[c].html=b.html;this.items[c].disabled=b.disabled}this._cachedItemHtml=[];this._renderItems();if(this.rendered){this.rendered()}},insertAt:function(l,f){if(l==null){return false}this._cachedItemHtml=[];if(this.items==undefined||this.items.length==0){this.source=new Array();this.source[0]=l;this.refresh();if(this.rendered){this.rendered()}return false}var g=this._mapItem(l);if(f==-1||f==undefined||f==null||f>=this.items.length){g.index=this.items.length;this.items[this.items.length]=g}else{var c=new Array();var k=0;var e=false;var h=0;for(var b=0;b<this.items.length;b++){if(this.items[b].isGroup==false){if(h>=f&&!e){c[k++]=g;g.index=f;h++;e=true}}c[k]=this.items[b];if(!this.items[b].isGroup){c[k].index=h;h++}k++}this.items=c}this.visibleItems=new Array();this.renderedVisibleItems=new Array();var d=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var i=d.value;d.setPosition(0);this._addItems();this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}d.setPosition(i);if(this.rendered){this.rendered()}return true},removeAt:function(g){if(g<0||g>this.items.length-1){return false}var d=this.items[g].height;this.items.splice(g,1);var c=new Array();var k=0;var e=false;var h=0;for(var b=0;b<this.items.length;b++){c[k]=this.items[b];if(!this.items[b].isGroup){c[k].index=h;h++}k++}this.items=c;var f=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var f=a.data(this.vScrollBar[0],"jqxScrollBar").instance;var i=f.value;f.setPosition(0);this.visibleItems=new Array();this.renderedVisibleItems=new Array();if(this.items.length>0){if(this.virtualSize){this.virtualSize.height-=d;var l=this.virtualSize.itemsPerPage*2;if(this.autoHeight){l=this.items.length}this.virtualItemsCount=Math.min(l,this.items.length)}this._updatescrollbars()}else{this._addItems()}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}if(this.vScrollBar.css("visibility")!="hidden"){f.setPosition(i)}else{f.setPosition(0)}if(this.rendered){this.rendered()}return true},removeItem:function(b){this.removeAt(b.index)},getItems:function(){return this.items},disableAt:function(b){if(!this.items){return false}if(b<0||b>this.items.length-1){return false}this.items[b].disabled=true;this._renderItems();return true},enableAt:function(b){if(!this.items){return false}if(b<0||b>this.items.length-1){return false}this.items[b].disabled=false;this._renderItems();return true},destroy:function(){this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.host.removeClass("jqx-listbox jqx-rc-all");this.host.remove()},_raiseEvent:function(f,c){if(this._stopEvents==true){return true}if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;this._updateInputSelection();var e=new jQuery.Event(d);e.owner=this;e.args=args;if(this.host!=null){var b=this.host.trigger(e)}return b}})})(jQuery);(function(a){a.jqx._jqxListBox.item=function(){var b={group:"",groupHtml:"",selected:false,isGroup:false,highlighted:false,value:null,label:"",html:null,visible:true,disabled:false,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:false,visibleIndex:-1};return b}})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxDropDownList","",{});a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.selectedIndex=-1;this.source=null;this.scrollBarSize=15;this.arrowSize=19;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.checkboxes=false;if(this.openDelay==undefined){this.openDelay=350}if(this.closeDelay==undefined){this.closeDelay=400}this.animationType="default";this.autoOpen=false;this.dropDownWidth="auto";this.dropDownHeight="200px";this.autoDropDownHeight=false;this.keyboardSelection=true;this.enableBrowserBoundsDetection=false;this.dropDownHorizontalAlignment="left";this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.renderer=null;this.promptText="Please Choose:";this.events=["open","close","select","unselect","change","checkChange"]},createInstance:function(b){this.render()},render:function(){this.element.innerHTML="";this.isanimating=false;var d=a("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' style='background-color: transparent; border: none; float: right; position: relative;'><div></div></div></div></div>");this._addInput();if(a.jqx._jqxListBox==null||a.jqx._jqxListBox==undefined){alert("jqxListBox is not loaded.")}var h=this;this.touch=a.jqx.mobile.isTouchDevice();this.comboStructure=d;this.host.append(d);this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper");this.dropdownlistArrow=this.host.find("#dropdownlistArrow");this.arrow=a(this.dropdownlistArrow.children()[0]);this.dropdownlistContent=this.host.find("#dropdownlistContent");this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content"));this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect"));this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return false});this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id;this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id;this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;var j=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal");this.element.className+=" "+j;this._firstDiv=this.host.find("div:first");try{var k="listBox"+this.element.id;var f=a(a.find("#"+k));if(f.length>0){f.remove()}var b=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.element.id+"'><div id='innerListBox"+this.element.id+"'></div></div>");b.hide();b.appendTo(document.body);this.container=b;this.listBoxContainer=a(a.find("#innerListBox"+this.element.id));var c=this.width;if(this.dropDownWidth!="auto"){c=this.dropDownWidth}if(this.dropDownHeight==null){this.dropDownHeight=200}var h=this;this.container.width(parseInt(c)+25);this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.jqxListBox({checkboxes:this.checkboxes,itemHeight:this.itemHeight,width:c,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){if(h.selectedIndex!=h.listBoxContainer.jqxListBox("selectedIndex")){h.listBox=a.data(h.listBoxContainer[0],"jqxListBox").instance;h.listBoxContainer.jqxListBox({selectedIndex:h.selectedIndex});h.renderSelection("mouse")}else{h.renderSelection("mouse")}},renderer:this.renderer});this.listBoxContainer.css({position:"absolute",zIndex:9999999999999,top:0,left:0});this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance;this.listBox.enableSelection=this.enableSelection;this.listBox.enableHover=this.enableHover;this.listBox.equalItemsWidth=this.equalItemsWidth;this.listBox.selectIndex(this.selectedIndex);this.listBox._arrange();this.addHandler(this.listBoxContainer,"unselect",function(e){h._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})});this.addHandler(this.listBoxContainer,"change",function(e){h._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item})});if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(g){}var l=this;this.propertyChangeMap.disabled=function(e,n,m,o){if(o){e.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled"));e.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"));e.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))}else{e.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled"));e.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled"));e.dropdownlistContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))}};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))}this.arrow.addClass(this.toThemeProperty("icon-arrow-down"));this.arrow.addClass(this.toThemeProperty("icon"));this._setSize();this._updateHandlers();if(a.browser.msie&&a.browser.version<8){if(this.host.parents(".jqx-window").length>0){var i=this.host.parents(".jqx-window").css("z-index");b.css("z-index",i+10);this.listBoxContainer.css("z-index",i+10)}}},_addInput:function(){var b=this.host.attr("name");if(!b){b=this.element.id}this.input=a("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",b)},getItems:function(){if(!this.listBox){return new Array()}return this.listBox.items},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var e=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){e=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){e=true;this.host.height(this.height)}if(e){var c=this;var b=this.host.width();if(this.dropDownWidth!="auto"){b=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:b});this.container.width(parseInt(b)+25);var d=function(){c._arrange();if(c.dropDownWidth=="auto"){var f=c.host.width();c.listBoxContainer.jqxListBox({width:f});c.container.width(parseInt(f)+25)}};a(window).unbind("resize."+this.element.id);a(window).bind("resize."+this.element.id,function(){d()})}},isOpened:function(){var c=this;var b=a.data(document.body,"openedJQXListBox"+this.element.id);if(b!=null&&b==c.listBoxContainer){return true}return false},_updateHandlers:function(){var b=this;var c=false;this.removeHandlers();if(!this.touch){this.host.hover(function(){if(!b.disabled&&b.enableHover){c=true;b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover"));b.arrow.addClass(b.toThemeProperty("icon-arrow-down-hover"));b.host.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!b.disabled&&b.enableHover){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b.arrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"));c=false}})}this.addHandler(this.dropdownlistWrapper,"mousedown",function(f){if(!b.disabled){var e=b.container.css("display")=="block";if(!b.isanimating){if(e){b.hideListBox()}else{b.showListBox()}}}});if(b.autoOpen){this.addHandler(this.host,"mouseenter",function(){var e=b.isOpened();if(!e&&b.autoOpen){b.open();b.host.focus()}});a(document).bind("mousemove."+b.element.id,function(h){var g=b.isOpened();if(g&&b.autoOpen){var l=b.host.offset();var k=l.top;var j=l.left;var i=b.container.offset();var e=i.left;var f=i.top;canClose=true;if(h.pageY>=k&&h.pageY<=k+b.host.height()){if(h.pageX>=j&&h.pageX<j+b.host.width()){canClose=false}}if(h.pageY>=f&&h.pageY<=f+b.container.height()){if(h.pageX>=e&&h.pageX<e+b.container.width()){canClose=false}}if(canClose){b.close()}}})}this.addHandler(a(document),"mousedown."+this.element.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.element.id});if(this.touch){this.addHandler(a(document),"touchstart."+this.element.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.element.id})}if(document.referrer!=""||window.frameElement){if(window.top!=null){if(window.parent&&document.referrer){parentLocation=document.referrer}if(parentLocation.indexOf(document.location.host)!=-1){var d=function(e){if(b.isOpened()){var f={me:b,listbox:b.listBox,id:b.element.id};e.data=f}};if(window.top.document.addEventListener){window.top.document.addEventListener("mousedown",d,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmousedown",d)}}}}}this.addHandler(this.host,"keydown",function(f){var e=b.container.css("display")=="block";if(b.host.css("display")=="none"){return true}if(f.keyCode=="13"){if(!b.isanimating){if(e){b.renderSelection();b.hideListBox();if(!b.keyboardSelection){b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})}}else{b.showListBox()}}}if(f.keyCode==115){if(!b.isanimating){if(!b.isOpened()){b.showListBox()}else{if(b.isOpened()){b.hideListBox()}}}return false}if(f.altKey){if(b.host.css("display")=="block"){if(f.keyCode==38){if(b.isOpened()){b.hideListBox()}}else{if(f.keyCode==40){if(!b.isOpened()){b.showListBox()}}}}}if(f.keyCode=="27"){if(!b.ishiding){b.hideListBox();if(b.tempSelectedIndex!=undefined){b.selectIndex(b.tempSelectedIndex)}}}if(e&&!b.disabled){return b.listBox._handleKeyDown(f)}});this.addHandler(this.listBoxContainer,"checkChange",function(e){b.renderSelection();b._updateInputSelection();b._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})});this.addHandler(this.listBoxContainer,"select",function(e){if(!b.disabled){if(e.args.type!="keyboard"||b.keyboardSelection){b.renderSelection();b._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent});if(e.args.type=="mouse"){if(!b.checkboxes){b.hideListBox()}}}}});if(this.listBox){if(this.listBox.content){this.addHandler(this.listBox.content,"click",function(e){if(!b.disabled){b.renderSelection("mouse");if(!b.touch){if(!b.ishiding){if(!b.checkboxes){b.hideListBox()}}}if(!b.keyboardSelection){if(b._oldSelectedInd==undefined){b._oldSelectedIndx=b.selectedIndex}if(b.selectedIndex!=b._oldSelectedIndx){b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)});b._oldSelectedIndx=b.selectedIndex}}}})}}this.addHandler(this._firstDiv,"focus",function(){b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus"));b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._firstDiv,"blur",function(){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var b=this;this.removeHandler(this.dropdownlistWrapper,"mousedown");if(this.listBox){if(this.listBox.content){this.removeHandler(this.listBox.content,"click")}}this.removeHandler(this.host,"loadContent");this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.host,"keydown");this.removeHandler(this._firstDiv,"focus");this.removeHandler(this._firstDiv,"blur");this.host.unbind("hover");this.removeHandler(this.host,"mouseenter");a(document).unbind("mousemove."+b.element.id)},getItem:function(b){var c=this.listBox.getItem(b);return c},renderSelection:function(){if(this.listBox==null){return}var p=this.listBox.getItem(this.listBox.selectedIndex);var m=this;if(this.checkboxes){var g=this.getCheckedItems();if(g!=null&&g.length>0){p=g[0]}else{p=null}}if(p==null){var d=a('<span style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body));d.addClass(this.toThemeProperty("jqx-widget"));d.addClass(this.toThemeProperty("jqx-listitem-state-normal"));d.addClass(this.toThemeProperty("jqx-item"));d.html(this.promptText);var c=this.dropdownlistContent.css("padding-top");var q=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",c);d.css("padding-bottom",q);var b=d.outerHeight();d.remove();d.removeClass();this.dropdownlistContent.html(d);var o=this.host.height();if(this.height!=null&&this.height!=undefined){o=parseInt(this.height)}var n=parseInt((parseInt(o)-parseInt(b))/2);if(n>0){this.dropdownlistContent.css("margin-top",n+"px");this.dropdownlistContent.css("margin-bottom",n+"px")}if(this.selectionRenderer){this.dropdownlistContent.html(this.selectionRenderer());this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;return}this.selectedIndex=this.listBox.selectedIndex;var d=a('<span style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body));d.addClass(this.toThemeProperty("jqx-widget"));d.addClass(this.toThemeProperty("jqx-listitem-state-normal"));d.addClass(this.toThemeProperty("jqx-item"));var e=false;try{if(p.html!=undefined&&p.html!=null&&p.html.toString().length>0){d.html(p.html)}else{if(p.label!=undefined&&p.label!=null&&p.label.toString().length>0){d.html(p.label)}else{if(p.value!=undefined&&p.value!=null&&p.value.toString().length>0){d.html(p.value)}else{if(p.title!=undefined&&p.title!=null&&p.title.toString().length>0){d.html(p.title)}else{if(p.label==""||p.label==null){e=true;d.html("Item")}}}}}}catch(l){var h=l}var c=this.dropdownlistContent.css("padding-top");var q=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",c);d.css("padding-bottom",q);var b=d.outerHeight();if((p.label==""||p.label==null)&&e){d.html("")}d.remove();d.removeClass();if(this.selectionRenderer){this.dropdownlistContent.html(this.selectionRenderer(d,p.index,p.label,p.value))}else{if(this.checkboxes){var j=this.getCheckedItems();var k="";for(var f=0;f<j.length;f++){if(f==j.length-1){k+=j[f].label}else{k+=j[f].label+","}}d.text(k);d.css("max-width",this.host.width()-30);d.css("overflow","hidden");d.css("display","block");d.css("width",this.host.width()-30);d.css("text-overflow","ellipsis");this.dropdownlistContent.html(d)}else{this.dropdownlistContent.html(d)}}var o=this.host.height();if(this.height!=null&&this.height!=undefined){o=parseInt(this.height)}var n=parseInt((parseInt(o)-parseInt(b))/2);if(n>0){this.dropdownlistContent.css("margin-top",n+"px");this.dropdownlistContent.css("margin-bottom",n+"px")}if(this.dropdownlistContent&&this.input){this._updateInputSelection()}},_updateInputSelection:function(){if(this.input){if(this.selectedIndex==-1){this.input.val("")}else{this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var b=this.getCheckedItems();var d="";if(b!=null){for(var c=0;c<b.length;c++){if(c==b.length-1){d+=b[c].value}else{d+=b[c].value+","}}}this.input.val(d)}}},setContent:function(b){this.dropdownlistContent.html(b);this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(b){this.selectedIndex=-1;this.listBox.clearSelection();this.renderSelection();this.dropdownlistContent.html("")},unselectIndex:function(b,c){if(isNaN(b)){return}this.listBox.unselectIndex(b,c);this.renderSelection()},selectIndex:function(b,d,e,c){this.listBox.selectIndex(b,d,e,c);this.renderSelection()},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(b){this.listBox.checkIndex(b)},uncheckIndex:function(b){this.listBox.uncheckIndex(b)},indeterminateIndex:function(b){this.listBox.indeterminateIndex(b)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},insertAt:function(c,b){if(c==null){return false}return this.listBox.insertAt(c,b)},addItem:function(b){return this.listBox.addItem(b)},removeAt:function(c){var b=this.listBox.removeAt(c);this.renderSelection("mouse");return b},ensureVisible:function(b){this.listBox.ensureVisible(b)},disableAt:function(b){this.listBox.disableAt(b)},enableAt:function(b){this.listBox.enableAt(b)},_findPos:function(c){while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}var b=a(c).offset();return[b.left,b.top]},testOffset:function(h,f,c){var g=h.outerWidth();var j=h.outerHeight();var i=a(window).width()+a(window).scrollLeft();var e=a(window).height()+a(window).scrollTop();if(f.left+g>i){if(g>this.host.width()){var d=this.host.offset().left;var b=g-this.host.width();f.left=d-b+2}}if(f.left<0){f.left=parseInt(this.host.offset().left)+"px"}f.top-=Math.min(f.top,(f.top+j>e&&e>j)?Math.abs(j+c+22):0);return f},open:function(){this.showListBox()},close:function(){this.hideListBox()},hide:function(){this.close()},show:function(){this.open()},showListBox:function(){var o=this;var d=this.listBoxContainer;var i=this.listBox;var l=a(window).scrollTop();var g=a(window).scrollLeft();var j=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var f=parseInt(this.host.offset().left)+"px";var n=a.jqx.mobile.isSafariMobileBrowser();if(this.listBox==null){return}var c=a.jqx.utilities.hasTransform(this.host);this.ishiding=false;if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex)}this.tempSelectedIndex=this.selectedIndex;if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25)}if(c||(n!=null&&n)){f=a.jqx.mobile.getLeftPos(this.element);j=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight())}d.stop();this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.addClass(this.toThemeProperty("icon-arrow-down-selected"));this.container.css("left",f);this.container.css("top",j);i._arrange();var e=true;var p=false;if(this.dropDownHorizontalAlignment=="right"){var k=this.container.width();var b=Math.abs(k-this.host.width());if(k>this.host.width()){this.container.css("left",25+parseInt(f)-b+"px")}else{this.container.css("left",25+parseInt(f)+b+"px")}}if(this.enableBrowserBoundsDetection){var h=this.testOffset(d,{left:parseInt(this.container.css("left")),top:parseInt(j)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=h.top){p=true;d.css("top",23)}else{d.css("top",0)}this.container.css("top",h.top);if(parseInt(this.container.css("left"))!=h.left){this.container.css("left",h.left)}}if(this.animationType=="none"){this.container.css("display","block");a.data(document.body,"openedJQXListBoxParent",o);a.data(document.body,"openedJQXListBox"+this.element.id,d);d.css("margin-top",0);d.css("opacity",1)}else{this.container.css("display","block");o.isanimating=true;if(this.animationType=="fade"){d.css("margin-top",0);d.css("opacity",0);d.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",o);a.data(document.body,"openedJQXListBox"+o.element.id,d);o.ishiding=false;o.isanimating=false})}else{d.css("opacity",1);var m=d.outerHeight();if(p){d.css("margin-top",m)}else{d.css("margin-top",-m)}d.animate({"margin-top":0},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",o);a.data(document.body,"openedJQXListBox"+o.element.id,d);o.ishiding=false;o.isanimating=false})}}i._renderItems();this._raiseEvent("0",i)},hideListBox:function(){var f=this.listBoxContainer;var g=this.listBox;var c=this.container;var d=this;a.data(document.body,"openedJQXListBox"+this.element.id,null);if(this.animationType=="none"){this.container.css("display","none")}else{if(!d.ishiding){f.stop();var b=f.outerHeight();f.css("margin-top",0);d.isanimating=true;var e=-b;if(parseInt(this.container.offset().top)<parseInt(this.host.offset().top)){e=b}if(this.animationType=="fade"){f.css({opacity:1});f.animate({opacity:0},this.closeDelay,function(){c.css("display","none");d.isanimating=false;d.ishiding=false})}else{f.animate({"margin-top":e},this.closeDelay,function(){c.css("display","none");d.isanimating=false;d.ishiding=false})}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.removeClass(this.toThemeProperty("icon-arrow-down-selected"));this._raiseEvent("1",g)},closeOpenedListBox:function(e){var d=e.data.me;var b=a(e.target);var c=e.data.listbox;if(c==null){return true}if(a(e.target).ischildof(e.data.me.host)){return true}if(!d.isOpened()){return true}var f=d;var g=false;a.each(b.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){g=true;return false}if(this.className.indexOf("jqx-dropdownlist")!=-1){if(d.element.id==this.id){g=true}return false}}}});if(c!=null&&!g&&d.isOpened()){d.hideListBox()}return true},loadFromSelect:function(b){this.listBox.loadFromSelect(b)},refresh:function(b){this._setSize();this._arrange();if(this.listBox){this.renderSelection()}},_arrange:function(){var f=parseInt(this.host.width());var b=parseInt(this.host.height());var e=this.arrowSize;var d=this.arrowSize;var g=3;var c=f-d-2*g;if(c>0){this.dropdownlistContent.width(c+"px")}this.dropdownlistContent.height(b);this.dropdownlistContent.css("left",0);this.dropdownlistContent.css("top",0);this.dropdownlistArrow.width(d);this.dropdownlistArrow.height(b)},destroy:function(){this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(a(document),"mousedown."+this.element.id,self.closeOpenedListBox);if(this.touch){this.removeHandler(a(document),"touchstart."+this.element.id)}this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;if(f==2||f==3||f==4||f==5){e.args=c}var b=this.host.trigger(e);return b},propertyChangedHandler:function(b,c,f,e){if(b.isInitialized==undefined||b.isInitialized==false){return}if(c=="autoOpen"){b._updateHandlers()}if(c=="renderer"){b.listBox.renderer=b.renderer}if(c=="itemHeight"){b.listBox.itemHeight=e}if(c=="source"){b.listBoxContainer.jqxListBox({source:b.source});b.listBox.selectedIndex=-1;b.listBox.selectIndex(this.selectedIndex);b.renderSelection();if(e==null){b.clear()}}if(c=="displayMember"||c=="valueMember"){b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember});b.renderSelection()}if(c=="theme"&&e!=null){b.listBoxContainer.jqxListBox({theme:e});b.dropdownlistContent.removeClass();b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content"));b.dropdownlistWrapper.removeClass();b.dropdownlistWrapper.addClass(b.toThemeProperty("jqx-disableselect"));b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-fill-state-normal"));b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-normal"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.arrow.removeClass();b.arrow.addClass(b.toThemeProperty("icon-arrow-down"));b.arrow.addClass(b.toThemeProperty("icon"))}if(c=="autoDropDownHeight"&&e!=f){b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight});if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25)}else{b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="searchMode"){b.listBoxContainer.jqxListBox({searchMode:b.searchMode})}if(c=="incrementalSearch"){b.listBoxContainer.jqxListBox({incrementalSearch:b.incrementalSearch})}if(c=="incrementalSearchDelay"){b.listBoxContainer.jqxListBox({incrementalSearchDelay:b.incrementalSearchDelay})}if(c=="dropDownHeight"){if(!b.autoDropDownHeight){b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="dropDownWidth"||c=="scrollBarSize"){var d=b.width;if(b.dropDownWidth!="auto"){d=b.dropDownWidth}b.listBoxContainer.jqxListBox({width:d,scrollBarSize:b.scrollBarSize});b.container.width(parseInt(d)+25)}if(c=="width"||c=="height"){if(e!=f){this.refresh();if(c=="width"){if(b.dropDownWidth=="auto"){var d=b.host.width();b.listBoxContainer.jqxListBox({width:d});b.container.width(parseInt(d)+25)}}}}if(c=="checkboxes"){b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes})}if(c=="selectedIndex"){if(b.listBox!=null){b.listBox.selectIndex(e);b.renderSelection()}}}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxMenu","",{});a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array();this.mode="horizontal";this.width=null;this.height=null;this.easing="easeInOutSine";this.animationShowDuration=200;this.animationHideDuration=200;this.autoCloseInterval=0;this.animationHideDelay=100;this.animationShowDelay=100;this.menuElements=new Array();this.autoSizeMainItems=false;this.autoCloseOnClick=true;this.autoCloseOnMouseLeave=true;this.enableRoundedCorners=true;this.disabled=false;this.autoOpenPopup=true;this.enableHover=true;this.autoOpen=true;this.autoGenerate=true;this.clickToOpen=false;this.showTopLevelArrows=false;this.touchMode="auto";this.source=null;this.events=["shown","closed","itemclick","initialized"]},createInstance:function(d){var c=this;this.host.css("display","block");this.propertyChangeMap.disabled=function(h,k,j,l){if(c.disabled){c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled"));c.host.addClass(c.toThemeProperty("jqx-menu-disabled"))}else{c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled"));c.host.removeClass(c.toThemeProperty("jqx-menu-disabled"))}};this.setSize();var b=false;var f=this;if(f.width!=null&&f.width.toString().indexOf("%")!=-1){b=true}if(f.height!=null&&f.height.toString().indexOf("%")!=-1){b=true}a(window).bind("resize.menu"+this.element.id,function(){if(b){if(f.refreshTimer){clearTimeout(f.refreshTimer)}f.refreshTimer=setTimeout(function(){f.refresh()},1)}});if(b){setInterval(function(){var j=f.host.width();var h=f.host.height();if(f._lastWidth!=j||f._lastHeight!=h){f.refresh()}f._lastWidth=j;f._lastHeight=h},100)}if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))}this.host.attr("tabIndex",1);this.host.css("outline","none");if(this.source){if(this.source!=null){var e=this.loadItems(this.source);this.element.innerHTML=e}}if(this.element.innerHTML.indexOf("UL")){var g=this.host.find("ul:first");if(g.length>0){this._createMenu(g[0])}}this.host.data("autoclose",{});this._render();var f=this;if(a.browser.msie&&a.browser.version<8){this.host.attr("hideFocus",true)}},loadItems:function(c,e){if(c==null){return}if(c.length==0){return""}var b=this;this.items=new Array();var d="<ul>";if(e){d='<ul style="width:'+e+';">'}a.map(c,function(f){if(f==undefined){return null}d+=b._parseItem(f)});d+="</ul>";return d},_parseItem:function(f){var c="";if(f==undefined){return null}var b=f.label;if(!f.label&&f.html){b=f.html}if(!b){b="Item"}if(typeof f==="string"){b=f}var e=false;if(f.selected!=undefined&&f.selected){e=true}var d=false;if(f.disabled!=undefined&&f.disabled){d=true}c+="<li";if(d){c+=' item-disabled="true" '}if(f.label&&!f.html){c+=' item-label="'+b+'" '}if(f.value!=null){c+=' item-value="'+f.value+'" '}if(f.id!=undefined){c+=' id="'+f.id+'" '}c+=">"+b;if(f.items){if(f.subMenuWidth){c+=this.loadItems(f.items,f.subMenuWidth)}else{c+=this.loadItems(f.items)}}c+="</li>";return c},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}}},isTouchDevice:function(){if(this._isTouchDevice!=undefined){return this._isTouchDevice}var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}if(b){this.host.addClass(this.toThemeProperty("jqx-touch"));a(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))}this._isTouchDevice=b;return b},refresh:function(b){if(!b){this.setSize()}},_closeAll:function(f){var d=f!=null?f.data:this;var b=d.items;a.each(b,function(){var e=this;if(e.hasItems==true){if(e.isOpen){d._closeItem(d,e)}}});if(d.mode=="popup"){if(f!=null){var c=d._isRightClick(f);if(!c){d.close()}}}},closeItem:function(e){if(e==null){return false}var b=e;var c=document.getElementById(b);var d=this;a.each(d.items,function(){var f=this;if(f.isOpen==true&&f.element==c){d._closeItem(d,f);if(f.parentId){d.closeItem(f.parentId)}}});return true},openItem:function(e){if(e==null){return false}var b=e;var c=document.getElementById(b);var d=this;a.each(d.items,function(){var f=this;if(f.isOpen==false&&f.element==c){d._openItem(d,f);if(f.parentId){d.openItem(f.parentId)}}});return true},_getClosedSubMenuOffset:function(c){var b=a(c.subMenuElement);var f=-b.outerHeight();var e=-b.outerWidth();var d=c.level==0&&this.mode=="horizontal";if(d){e=0}else{f=0}switch(c.openVerticalDirection){case"up":case"center":f=b.outerHeight();break}switch(c.openHorizontalDirection){case"left":if(d){e=0}else{e=b.outerWidth()}break;case"center":if(d){e=0}else{e=b.outerWidth()}break}return{left:e,top:f}},_closeItem:function(l,o,g,c){if(l==null||o==null){return false}var j=a(o.subMenuElement);var b=o.level==0&&this.mode=="horizontal";var f=this._getClosedSubMenuOffset(o);var m=f.top;var e=f.left;$menuElement=a(o.element);var k=j.closest("div.jqx-menu-popup");if(k!=null){var h=l.animationHideDelay;if(c==true){h=0}if(j.data("timer").show!=null){clearTimeout(j.data("timer").show);j.data("timer").show=null}var n=function(){o.isOpen=false;if(!a.browser.msie&&this.animationtype=="fade"){}if(b){if(!a.browser.msie){}j.stop().animate({top:m},l.animationHideDuration,function(){a(o.element).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.element).removeClass(l.toThemeProperty("jqx-menu-item-top-selected"));var p=a(o.arrow);if(p.length>0&&l.showTopLevelArrows){p.removeClass();if(o.openVerticalDirection=="down"){p.addClass(l.toThemeProperty("jqx-menu-item-arrow-down"))}else{p.addClass(l.toThemeProperty("jqx-menu-item-arrow-up"))}}k.css({display:"none"});if(l.animationHideDuration==0){j.css({top:m})}l._raiseEvent("1",o)})}else{if(!a.browser.msie){}j.stop().animate({left:e},l.animationHideDuration,function(){if(l.animationHideDuration==0){j.css({left:e})}if(o.level>0){a(o.element).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.element).removeClass(l.toThemeProperty("jqx-menu-item-selected"));var p=a(o.arrow);if(p.length>0){p.removeClass();if(o.openHorizontalDirection!="left"){p.addClass(l.toThemeProperty("jqx-menu-item-arrow-right"))}else{p.addClass(l.toThemeProperty("jqx-menu-item-arrow-left"))}}}else{a(o.element).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.element).removeClass(l.toThemeProperty("jqx-menu-item-top-selected"));var p=a(o.arrow);if(p.length>0){p.removeClass();if(o.openHorizontalDirection!="left"){p.addClass(l.toThemeProperty("jqx-menu-item-arrow-top-right"))}else{p.addClass(l.toThemeProperty("jqx-menu-item-arrow-top-left"))}}}k.css({display:"none"});l._raiseEvent("1",o)})}};if(h>0){j.data("timer").hide=setTimeout(function(){n()},h)}else{n()}if(g!=undefined&&g){var d=j.children();a.each(d,function(){if(l.menuElements[this.id]&&l.menuElements[this.id].isOpen){var p=a(l.menuElements[this.id].subMenuElement);l._closeItem(l,l.menuElements[this.id],true,true)}})}}},getSubItems:function(j,h){if(j==null){return false}var g=this;var c=new Array();if(h!=null){a.extend(c,h)}var d=j;var f=this.menuElements[d];var b=a(f.subMenuElement);var e=b.find(".jqx-menu-item");a.each(e,function(){c[this.id]=g.menuElements[this.id];var k=g.getSubItems(this.id,c);a.extend(c,k)});return c},disable:function(g,d){if(g==null){return}var c=g;var f=this;if(this.menuElements[c]){var e=this.menuElements[c];e.disabled=d;var b=a(e.element);e.element.disabled=d;a.each(b.children(),function(){this.disabled=d});if(d){b.addClass(f.toThemeProperty("jqx-menu-item-disabled"));b.addClass(f.toThemeProperty("jqx-fill-state-disabled"))}else{b.removeClass(f.toThemeProperty("jqx-menu-item-disabled"));b.removeClass(f.toThemeProperty("jqx-fill-state-disabled"))}}},_setItemProperty:function(g,c,f){if(g==null){return}var b=g;var e=this;if(this.menuElements[b]){var d=this.menuElements[b];if(d[c]){d[c]=f}}},setItemOpenDirection:function(d,c,e){if(d==null){return}var k=d;var g=this;var f=a.browser.msie&&a.browser.version<8;if(this.menuElements[k]){var j=this.menuElements[k];if(c!=null){j.openHorizontalDirection=c;if(j.hasItems&&j.level>0){var h=a(j.element);if(h!=undefined){var b=a(j.arrow);if(j.arrow==null){b=a('<span id="arrow'+h[0].id+'"></span>');if(!f){b.prependTo(h)}else{b.appendTo(h)}}b.removeClass();if(j.openHorizontalDirection=="left"){b.addClass(g.toThemeProperty("jqx-menu-item-arrow-left"))}else{b.addClass(g.toThemeProperty("jqx-menu-item-arrow-right"))}b.css("visibility","visible");if(!f){b.css("display","block");b.css("float","right")}else{b.css("display","inline-block");b.css("float","none")}}}}if(e!=null){j.openVerticalDirection=e;var b=a(j.arrow);var h=a(j.element);if(h!=undefined){if(j.arrow==null){b=a('<span id="arrow'+h[0].id+'"></span>');if(!f){b.prependTo(h)}else{b.appendTo(h)}}b.removeClass();if(j.openVerticalDirection=="down"){b.addClass(g.toThemeProperty("jqx-menu-item-arrow-down"))}else{b.addClass(g.toThemeProperty("jqx-menu-item-arrow-up"))}b.css("visibility","visible");if(!f){b.css("display","block");b.css("float","right")}else{b.css("display","inline-block");b.css("float","none")}}}}},_getSiblings:function(c){var d=new Array();var b=0;for(i=0;i<this.items.length;i++){if(this.items[i]==c){continue}if(this.items[i].parentId==c.parentId&&this.items[i].hasItems){d[b++]=this.items[i]}}return d},_openItem:function(s,r,q){if(s==null||r==null){return false}if(r.isOpen){return false}if(r.disabled){return false}if(s.disabled){return false}var l=1000;if(q!=undefined){l=q}var e=s.animationHideDuration;s.animationHideDuration=0;s._closeItem(s,r,true,true);s.animationHideDuration=e;this.host.focus();var f=[5,5];var t=a(r.subMenuElement);if(t!=null){t.stop()}if(t.data("timer").hide!=null){clearTimeout(t.data("timer").hide)}var o=t.closest("div.jqx-menu-popup");var h=a(r.element);var j=r.level==0?this._getOffset(r.element):h.position();if(r.level>0&&this.hasTransform){var p=parseInt(h.offset().top)-parseInt(this._getOffset(r.element).top);j.top+=p}if(r.level==0&&this.mode=="popup"){j=h.offset()}var k=r.level==0&&this.mode=="horizontal";var b=k?j.left:this.menuElements[r.parentId]!=null&&this.menuElements[r.parentId].subMenuElement!=null?parseInt(a(a(this.menuElements[r.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-f[0]:parseInt(t.outerWidth());o.css({visibility:"visible",display:"block",left:b,top:k?j.top+h.outerHeight():j.top,zIndex:l});t.css("display","block");if(this.mode!="horizontal"&&r.level==0){var d=this._getOffset(this.element);o.css("left",-1+d.left+this.host.outerWidth());t.css("left",-t.outerWidth())}else{var c=this._getClosedSubMenuOffset(r);t.css("left",c.left);t.css("top",c.top)}o.css({height:parseInt(t.outerHeight())+parseInt(f[1])+"px"});var n=0;var g=0;switch(r.openVerticalDirection){case"up":if(k){t.css("top",t.outerHeight());n=f[1];o.css({display:"block",top:j.top-o.outerHeight(),zIndex:l})}else{n=f[1];t.css("top",t.outerHeight());o.css({display:"block",top:j.top-o.outerHeight()+f[1]+h.outerHeight(),zIndex:l})}break;case"center":if(k){t.css("top",0);o.css({display:"block",top:j.top-o.outerHeight()/2+f[1],zIndex:l})}else{t.css("top",0);o.css({display:"block",top:j.top+h.outerHeight()/2-o.outerHeight()/2+f[1],zIndex:l})}break}switch(r.openHorizontalDirection){case"left":if(k){o.css({left:j.left-(o.outerWidth()-h.outerWidth()-f[0])})}else{g=f[0];t.css("left",o.outerWidth());o.css({left:j.left-(o.outerWidth())})}break;case"center":if(k){o.css({left:j.left-(o.outerWidth()/2-h.outerWidth()/2-f[0]/2)})}else{o.css({left:j.left-(o.outerWidth()/2-h.outerWidth()/2-f[0]/2)});t.css("left",o.outerWidth())}break}if(k){if(parseInt(t.css("top"))==n){r.isOpen=true;return}}else{if(parseInt(t.css("left"))==g){r.isOpen==true;return}}a.each(s._getSiblings(r),function(){s._closeItem(s,this,true,true)});var m=a.data(s.element,"animationHideDelay");s.animationHideDelay=m;if(this.autoCloseInterval>0){if(this.host.data("autoclose")!=null&&this.host.data("autoclose").close!=null){clearTimeout(this.host.data("autoclose").close)}if(this.host.data("autoclose")!=null){this.host.data("autoclose").close=setTimeout(function(){s._closeAll()},this.autoCloseInterval)}}t.data("timer").show=setTimeout(function(){if(o!=null){if(k){t.stop();t.css("left",g);if(!a.browser.msie){}h.addClass(s.toThemeProperty("jqx-fill-state-pressed"));h.addClass(s.toThemeProperty("jqx-menu-item-top-selected"));var u=a(r.arrow);if(u.length>0&&s.showTopLevelArrows){u.removeClass();if(r.openVerticalDirection=="down"){u.addClass(s.toThemeProperty("jqx-menu-item-arrow-down-selected"))}else{u.addClass(s.toThemeProperty("jqx-menu-item-arrow-up-selected"))}}if(s.animationShowDuration==0){t.css({top:n});r.isOpen=true;s._raiseEvent("0",r)}else{t.animate({top:n},s.animationShowDuration,s.easing,function(){r.isOpen=true;s._raiseEvent("0",r)})}}else{t.stop();t.css("top",n);if(!a.browser.msie){}if(r.level>0){h.addClass(s.toThemeProperty("jqx-fill-state-pressed"));h.addClass(s.toThemeProperty("jqx-menu-item-selected"));var u=a(r.arrow);if(u.length>0){u.removeClass();if(r.openHorizontalDirection!="left"){u.addClass(s.toThemeProperty("jqx-menu-item-arrow-right-selected"))}else{u.addClass(s.toThemeProperty("jqx-menu-item-arrow-left-selected"))}}}else{h.addClass(s.toThemeProperty("jqx-fill-state-pressed"));h.addClass(s.toThemeProperty("jqx-menu-item-top-selected"));var u=a(r.arrow);if(u.length>0){u.removeClass();if(r.openHorizontalDirection!="left"){u.addClass(s.toThemeProperty("jqx-menu-item-arrow-right-selected"))}else{u.addClass(s.toThemeProperty("jqx-menu-item-arrow-left-selected"))}}}if(!a.browser.msie){}if(s.animationShowDuration==0){t.css({left:g});s._raiseEvent("0",r);r.isOpen=true}else{t.animate({left:g},s.animationShowDuration,s.easing,function(){s._raiseEvent("0",r);r.isOpen=true})}}}},this.animationShowDelay)},_applyOrientation:function(h,c){var f=this;var e=0;this.host.removeClass(f.toThemeProperty("jqx-menu-horizontal"));this.host.removeClass(f.toThemeProperty("jqx-menu-vertical"));this.host.removeClass(f.toThemeProperty("jqx-menu"));this.host.removeClass(f.toThemeProperty("jqx-widget"));this.host.addClass(f.toThemeProperty("jqx-widget"));this.host.addClass(f.toThemeProperty("jqx-menu"));if(h!=undefined&&c!=undefined&&c=="popup"){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var g=a.data(document.body,"jqxMenuOldHost"+this.element.id);if(g!=null){var d=this.host.closest("div.jqx-menu-wrapper");d.remove();d.appendTo(g);this.host.css("display","block");this.host.css("visibility","visible");d.css("display","block");d.css("visibility","visible")}}}else{if(h==undefined&&c==undefined){a.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0])}}if(this.autoOpenPopup){if(this.mode=="popup"){a(document).bind("contextmenu",function(j){return false});a(document).bind("mousedown.menu"+this.element.id,f,this._openContextMenu)}else{a(document).unbind("contextmenu");a(document).unbind("mousedown.menu"+this.element.id,this._openContextMenu)}}else{a(document).unbind("contextmenu");a(document).unbind("mousedown.menu"+this.element.id,this._openContextMenu)}switch(this.mode){case"horizontal":this.host.addClass(f.toThemeProperty("jqx-widget-header"));this.host.addClass(f.toThemeProperty("jqx-menu-horizontal"));a.each(this.items,function(){var l=this;$element=a(l.element);var k=a(l.arrow);k.removeClass();if(l.hasItems&&l.level>0){var k=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');k.prependTo($element);k.css("float","right");k.addClass(f.toThemeProperty("jqx-menu-item-arrow-right"));l.arrow=k[0]}if(l.level==0){a(l.element).css("float","left");if(!l.ignoretheme&&l.hasItems&&f.showTopLevelArrows){var k=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');var j=a.browser.msie&&a.browser.version<8;if(l.arrow==null){if(!j){k.prependTo($element)}else{k.appendTo($element)}}else{k=a(l.arrow)}if(l.openVerticalDirection=="down"){k.addClass(f.toThemeProperty("jqx-menu-item-arrow-down"))}else{k.addClass(f.toThemeProperty("jqx-menu-item-arrow-up"))}k.css("visibility","visible");if(!j){k.css("display","block");k.css("float","right")}else{k.css("display","inline-block")}l.arrow=k[0]}else{if(!l.ignoretheme&&l.hasItems&&!f.showTopLevelArrows){if(l.arrow!=null){var k=a(l.arrow);k.remove();l.arrow=null}}}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":this.host.addClass(f.toThemeProperty("jqx-menu-vertical"));a.each(this.items,function(){var k=this;$element=a(k.element);if(k.hasItems&&!k.ignoretheme){if(k.arrow){a(k.arrow).remove()}var j=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');j.prependTo($element);j.css("float","right");if(k.level==0){j.addClass(f.toThemeProperty("jqx-menu-item-arrow-top-right"))}else{j.addClass(f.toThemeProperty("jqx-menu-item-arrow-right"))}k.arrow=j[0]}$element.css("float","none")});if(this.mode=="popup"){this.host.addClass(f.toThemeProperty("jqx-widget-content"));this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+999999999+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var d=this.host.closest("div.jqx-menu-wrapper");d[0].id="menuWrapper"+this.element.id;d.appendTo(a(document.body))}else{this.host.addClass(f.toThemeProperty("jqx-widget-header"))}if(this.mode=="popup"){var b=this.host.height();this.host.css("position","absolute");this.host.css("top","0");this.host.css("left","0");this.host.height(b);this.host.css("display","none")}break}},_getOffset:function(c){var g=a(window).scrollTop();var j=a(window).scrollLeft();var d=a.jqx.mobile.isSafariMobileBrowser();var h=a(c).offset();var f=h.top;var e=h.left;if(this.hasTransform||(d!=null&&d)){var b={left:a.jqx.mobile.getLeftPos(c),top:a.jqx.mobile.getTopPos(c)};return b}else{return a(c).offset()}},_isRightClick:function(c){var b;if(!c){var c=window.event}if(c.which){b=(c.which==3)}else{if(c.button){b=(c.button==2)}}return b},_openContextMenu:function(d){var c=d.data;var b=c._isRightClick(d);if(b){c.open(parseInt(d.clientX)+5,parseInt(d.clientY)+5)}},close:function(){var c=this;var d=a.data(this.element,"contextMenuOpened"+this.element.id);if(d){var b=this.host;a.each(c.items,function(){var e=this;if(e.hasItems){c._closeItem(c,e)}});a.each(c.items,function(){var e=this;if(e.isOpen==true){$submenu=a(e.subMenuElement);var f=$submenu.closest("div.jqx-menu-popup");f.hide(this.animationHideDuration)}});this.host.hide(this.animationHideDuration);a.data(c.element,"contextMenuOpened"+this.element.id,false);c._raiseEvent("1",c)}},open:function(e,d){if(this.mode=="popup"){var c=0;if(this.host.css("display")=="block"){this.close();c=this.animationHideDuration}var b=this;if(e==undefined||e==null){e=0}if(d==undefined||d==null){d=0}setTimeout(function(){b.host.show(b.animationShowDuration);b.host.css("visibility","visible");a.data(b.element,"contextMenuOpened"+b.element.id,true);b._raiseEvent("0",b);b.host.css("z-index",9999);if(e!=undefined&&d!=undefined){b.host.css({left:e,top:d})}},c)}},_renderHover:function(c,e,b){var d=this;if(!b){c.unbind("hover");if(!e.ignoretheme){c.hover(function(){if(!e.disabled&&!e.separator&&d.enableHover&&!d.disabled){if(e.level>0){c.addClass(d.toThemeProperty("jqx-fill-state-hover"));c.addClass(d.toThemeProperty("jqx-menu-item-hover"))}else{c.addClass(d.toThemeProperty("jqx-fill-state-hover"));c.addClass(d.toThemeProperty("jqx-menu-item-top-hover"))}}},function(){if(!e.disabled&&!e.separator&&d.enableHover&&!d.disabled){if(e.level>0){c.removeClass(d.toThemeProperty("jqx-fill-state-hover"));c.removeClass(d.toThemeProperty("jqx-menu-item-hover"))}else{c.removeClass(d.toThemeProperty("jqx-fill-state-hover"));c.removeClass(d.toThemeProperty("jqx-menu-item-top-hover"))}}})}}},_closeAfterClick:function(c){var b=c!=null?c.data:this;var d=false;if(b.autoCloseOnClick){a.each(a(c.target).parents(),function(){if(this.className.indexOf){if(this.className.indexOf("jqx-menu")!=-1){d=true;return false}}});if(!d){c.data=b;b._closeAll(c)}}},_autoSizeHorizontalMenuItems:function(){var c=this;if(c.autoSizeMainItems&&this.mode=="horizontal"){var b=this.maxHeight;if(parseInt(b)>parseInt(this.host.height())){b=parseInt(this.host.height())}b=parseInt(this.host.height());a.each(this.items,function(){var m=this;$element=a(m.element);if(m.level==0&&b>0){var d=$element.children().length>0?parseInt($element.children().height()):$element.height();var g=c.host.find("ul:first");var h=parseInt(g.css("padding-top"));var n=parseInt(g.css("margin-top"));var k=b-2*(n+h);var j=parseInt(k)/2-d/2;var e=parseInt(j);var l=parseInt(j);$element.css("padding-top",e);$element.css("padding-bottom",l);if(parseInt($element.outerHeight())>k){var f=1;$element.css("padding-top",e-f);e=e-f}}})}},_render:function(f,b){var g=1000;var c=[5,5];var e=this;a.data(e.element,"animationHideDelay",e.animationHideDelay);var d=this.isTouchDevice();a.data(document.body,"menuel",this);if(this.autoCloseOnClick){this.removeHandler(a(document),"mousedown.menu"+this.element.id,e._closeAfterClick);this.addHandler(a(document),"mousedown.menu"+this.element.id,e._closeAfterClick,e);if(d){this.addHandler(a(document),"touchstart.menu"+this.element.id,e._closeAfterClick,e)}}this.hasTransform=a.jqx.utilities.hasTransform(this.host);this._applyOrientation(f,b);if(e.enableRoundedCorners){this.host.addClass(e.toThemeProperty("jqx-rc-all"))}a.each(this.items,function(){var p=this;var l=a(p.element);if(e.enableRoundedCorners){l.addClass(e.toThemeProperty("jqx-rc-all"))}e.removeHandler(l,"click");e.addHandler(l,"click",function(u){if(p.disabled){return}e._raiseEvent("2",{item:p.element,event:u});if(!e.autoOpen){if(p.level>0){if(e.autoCloseOnClick&&!d&&!e.clickToOpen){u.data=e;e._closeAll(u)}}}else{if(e.autoCloseOnClick&&!d&&!e.clickToOpen){if(p.closeOnClick){u.data=e;e._closeAll(u)}}}if(d&&e.autoCloseOnClick){u.data=e;if(!p.hasItems){e._closeAll(u)}}if(u.target.tagName!="A"&&u.target.tagName!="a"){var s=p.anchor!=null?a(p.anchor):null;if(s!=null&&s.length>0){var r=s.attr("href");var t=s.attr("target");if(r!=null){if(t!=null){window.open(r,t)}else{window.location=r}}}}});e.removeHandler(l,"mouseenter");e.removeHandler(l,"mouseleave");e._renderHover(l,p,d);if(p.subMenuElement!=null){var m=a(p.subMenuElement);m.wrap('<div class="jqx-menu-popup" style="border: none; background-color: transparent; z-index:'+g+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>');m.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-m.outerHeight()});m.data("timer",{});if(p.level>0){m.css("left",-m.outerWidth())}else{if(e.mode=="horizontal"){m.css("left",0)}}g++;var o=a(p.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(p.subMenuElement).outerWidth())+parseInt(c[0])+"px",height:parseInt(a(p.subMenuElement).outerHeight())+parseInt(c[1])+"px"});var q=l.closest("div.jqx-menu-popup");if(q.length>0){var h=m.css("margin-left");var k=m.css("margin-right");var j=m.css("padding-left");var n=m.css("padding-right");o.appendTo(q);m.css("margin-left",h);m.css("margin-right",k);m.css("padding-left",j);m.css("padding-right",n)}else{var h=m.css("margin-left");var k=m.css("margin-right");var j=m.css("padding-left");var n=m.css("padding-right");o.appendTo(a(document.body));m.css("margin-left",h);m.css("margin-right",k);m.css("padding-left",j);m.css("padding-right",n)}if(!d&&!e.clickToOpen){e.addHandler(l,"mouseenter",function(){if(e.autoOpen||(p.level>0&&!e.autoOpen)){clearTimeout(m.data("timer").hide)}if(p.parentId&&p.parentId!=0){if(e.menuElements[p.parentId]){var r=e.menuElements[p.parentId].isOpen;if(!r){return}}}if(e.autoOpen||(p.level>0&&!e.autoOpen)){e._openItem(e,p)}return false});e.addHandler(l,"mousedown",function(){if(!e.autoOpen&&p.level==0){clearTimeout(m.data("timer").hide);if(m!=null){m.stop()}if(!p.isOpen){e._openItem(e,p)}else{e._closeItem(e,p,true)}}});e.addHandler(l,"mouseleave",function(s){if(e.autoCloseOnMouseLeave){clearTimeout(m.data("timer").hide);var v=a(p.subMenuElement);var r={left:parseInt(s.pageX),top:parseInt(s.pageY)};var u={left:parseInt(v.offset().left),top:parseInt(v.offset().top),width:parseInt(v.outerWidth()),height:parseInt(v.outerHeight())};var t=true;if(u.left-5<=r.left&&r.left<=u.left+u.width+5){if(u.top<=r.top&&r.top<=u.top+u.height){t=false}}if(t){e._closeItem(e,p,true)}}});e.removeHandler(o,"mouseenter");e.addHandler(o,"mouseenter",function(){clearTimeout(m.data("timer").hide)});e.removeHandler(o,"mouseleave");e.addHandler(o,"mouseleave",function(r){if(e.autoCloseOnMouseLeave){clearTimeout(m.data("timer").hide);clearTimeout(m.data("timer").show);if(m!=null){m.stop()}e._closeItem(e,p,true)}})}else{e.removeHandler(l,"mousedown");e.addHandler(l,"mousedown",function(r){clearTimeout(m.data("timer").hide);if(m!=null){m.stop()}if(p.level==0&&!p.isOpen){r.data=e;e._closeAll(r)}if(!p.isOpen){e._openItem(e,p)}else{e._closeItem(e,p,true)}})}}});this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;while(this.items[b]){b=Math.random()+"";b=b.replace(".","");b=b/1}return"menuItem"+b},_createMenu:function(m,o){if(m==null){return}if(o==undefined){o=true}if(o==null){o=true}var t=this;var f=a(m).find("li");var g=0;for(var n=0;n<f.length;n++){var c=f[n];var s=a(c);if(c.className.indexOf("jqx-menu")==-1&&this.autoGenerate==false){continue}var d=c.id;if(!d){d=this.createID()}if(o){c.id=d;this.items[g]=new a.jqx._jqxMenu.jqxMenuItem();this.menuElements[d]=this.items[g]}g+=1;var l=0;var r=this;s.children().each(function(){if(!o){a(this).removeClass();if(r.autoGenerate){a(r.items[g-1].subMenuElement).removeClass();a(r.items[g-1].subMenuElement).addClass(r.toThemeProperty("jqx-widget-content"));a(r.items[g-1].subMenuElement).addClass(r.toThemeProperty("jqx-menu-dropdown"))}}if(this.className.indexOf("jqx-menu-dropdown")!=-1){if(o){r.items[g-1].subMenuElement=this}return false}else{if(r.autoGenerate&&(this.tagName=="ul"||this.tagName=="UL")){if(o){r.items[g-1].subMenuElement=this}a(this).removeClass();a(this).addClass(r.toThemeProperty("jqx-widget-content"));a(this).addClass(r.toThemeProperty("jqx-menu-dropdown"));return false}}});s.parents().each(function(){if(this.className.indexOf("jqx-menu-item")!=-1){l=this.id;return false}else{if(r.autoGenerate&&(this.tagName=="li"||this.tagName=="LI")){l=this.id;return false}}});var j=false;var q=c.getAttribute("type");var p=c.getAttribute("ignoretheme");if(p){if(p=="true"||p==true){p=true}}else{p=false}if(!q){q=c.type}else{if(q=="separator"){var j=true}}if(!j){if(l){q="sub"}else{q="top"}}var b=this.items[g-1];if(o){b.id=d;b.parentId=l;b.type=q;b.separator=j;b.element=f[n];var h=s.find("a:first");b.level=s.parents("li").length;b.anchor=h.parents("li").length==b.level+1?h:null}b.ignoretheme=p;var e=this.menuElements[l];if(e!=null){if(e.ignoretheme){b.ignoretheme=e.ignoretheme;p=e.ignoretheme}}if(this.autoGenerate){if(q=="separator"){s.removeClass();s.addClass(this.toThemeProperty("jqx-menu-item-separator"))}else{if(!p){s.removeClass();if(b.level>0){s.addClass(this.toThemeProperty("jqx-item"));s.addClass(this.toThemeProperty("jqx-menu-item"))}else{s.addClass(this.toThemeProperty("jqx-item"));s.addClass(this.toThemeProperty("jqx-menu-item-top"))}}}}if(o&&!p){b.hasItems=s.find("li").length>0}}},destroy:function(){var c=this.host.closest("div.jqx-menu-wrapper");c.remove();var b=this;this.removeHandler(a(document),"mousedown.menu"+this.element.id,b._closeAfterClick);this.removeHandler(a(document),"mouseup.menu"+this.element.id,b._closeAfterClick);a(window).unbind("resize.menu"+b.element.id);a.each(this.items,function(){var e=this;var d=a(e.element);b.removeHandler(d,"click");b.removeHandler(d,"selectstart");b.removeHandler(d,"mouseenter");b.removeHandler(d,"mouseleave");b.removeHandler(d,"mousedown");b.removeHandler(d,"mouseleave")});a.data(document.body,"menuel",null);this.items=new Array();this.host.removeClass();this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);if(f=="2"){args=c.item;args.owner=this;a.extend(e,c.event);e.type="itemclick"}e.owner=this;e.args=args;var b=this.host.trigger(e);return b},propertyChangedHandler:function(b,d,g,f){if(this.isInitialized==undefined||this.isInitialized==false){return}if(f==g){return}if(d=="touchMode"){this._isTouchDevice=null;b._render(f,g)}if(d=="source"){if(b.source!=null){var c=b.loadItems(b.source);b.element.innerHTML=c;var e=b.host.find("ul:first");if(e.length>0){b.refresh();b._createMenu(e[0]);b._render()}}}if(d=="autoCloseOnClick"){if(f==false){a(document).unbind("mousedown.menu"+this.element.id,b._closeAll)}else{a(document).bind("mousedown.menu"+this.element.id,b,b._closeAll)}}else{if(d=="mode"||d=="width"||d=="height"||d=="showTopLevelArrows"){b.refresh();if(d=="mode"){b._render(f,g)}else{b._applyOrientation()}}else{if(d=="theme"){a.jqx.utilities.setTheme(g,f,b.host)}}}}})})(jQuery);(function(a){a.jqx._jqxMenu.jqxMenuItem=function(e,d,c){var b={id:e,parentId:d,parentItem:null,anchor:null,type:c,disabled:false,level:0,isOpen:false,hasItems:false,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:true};return b}})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(b){b.jqx.jqxWidget("jqxGrid","",{});b.extend(b.jqx._jqxGrid.prototype,{defineInstance:function(){this.disabled=false;this.width=600;this.height=400;this.pagerheight=28;this.groupsheaderheight=34;this.pagesize=10;this.pagesizeoptions=["5","10","20"];this.rowsheight=25;this.columnsheight=25;this.filterrowheight=30;this.groupindentwidth=30;this.rowdetails=false;this.enablerowdetailsindent=true;this.enablemousewheel=true;this.initrowdetails=null;this.editable=false;this.editmode="selectedcell";this.pageable=false;this.groupable=false;this.sortable=false;this.filterable=false;this.autoshowfiltericon=true;this.showfiltercolumnbackground=true;this.showpinnedcolumnbackground=true;this.showsortcolumnbackground=true;this.altrows=false;this.altstart=1;this.altstep=1;this.showrowdetailscolumn=true;this.showtoolbar=false;this.toolbarheight=34;this.showstatusbar=false;this.statusbarheight=34;this.enableellipsis=true;this.groups=[];this.groupsrenderer=null;this.groupcolumnrenderer=null;this.groupsexpandedbydefault=false;this.pagerrenderer=null;this.touchmode="auto";this.columns=[];this.selectedrowindex=-1;this.selectedrowindexes=new Array();this.selectedcells=new Array();this.selectedcell=null;this.tableZIndex=799;this.headerZIndex=499;this.updatefilterconditions=null;this.showaggregates=false;this.showfilterrow=false;this.autorowheight=false;this.autokoupdates=true;this.handlekeyboardnavigation=null;this.showsortmenuitems=true;this.showfiltermenuitems=true;this.showgroupmenuitems=true;this.enablebrowserselection=false;this.source={beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null};this.dataview=null;this.updatedelay=0;this.autoheight=false;this.showheader=true;this.showgroupsheader=true;this.closeablegroups=true;this.scrollbarsize=15;this.virtualmode=false;this.sort=null;this.columnsmenu=true;this.columnsresize=false;this.columnsreorder=false;this.columnsmenuwidth=15;this.autoshowcolumnsmenubutton=true;this.popupwidth="auto";this.sorttogglestates=2;this.rendergridrows=null;this.enableanimations=true;this.enabletooltips=false;this.selectionmode="singlerow";this.enablehover=true;this.loadingerrormessage="The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.";this.verticalscrollbarstep=5;this.verticalscrollbarlargestep=400;this.horizontalscrollbarstep=5;this.horizontalscrollbarlargestep=50;this.keyboardnavigation=true;this.touchModeStyle="auto";this.autoshowloadelement=true;this.showemptyrow=true;this.autosavestate=false;this.autoloadstate=false;this._updating=false;this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();this._requiresupdate=false;this._hasOpenedMenu=false;this.events=["initialized","rowclick","rowselect","rowunselect","groupexpand","groupcollapse","sort","columnclick","cellclick","pagechanged","pagesizechanged","bindingcomplete","groupschanged","filter","columnresized","cellselect","cellunselect","cellbeginedit","cellendedit","cellvaluechanged","rowexpand","rowcollapse","rowdoubleclick","celldoubleclick"]},createInstance:function(d){var i=b("<div tabIndex=0 style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' tabIndex=1 style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='groupsheader' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' tabIndex=2 style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='pager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");this._fieldsmapping();this.element.innerText="";this.element.innerHTML="";this.host.append(i);this.host.addClass(this.toTP("jqx-grid"));this.host.addClass(this.toTP("jqx-reset"));this.host.addClass(this.toTP("jqx-rc-all"));this.host.addClass(this.toTP("jqx-widget"));this.host.addClass(this.toTP("jqx-widget-content"));this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));var h=this.host.find("#verticalScrollBar"+this.element.id);var g=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright"));if(!h.jqxScrollBar){alert("jqxscrollbar is not loaded.");return}this.editors=new Array();this.vScrollBar=h.jqxScrollBar({vertical:true,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:false});this.hScrollBar=g.jqxScrollBar({vertical:false,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,triggervaluechanged:false});this.pager=this.host.find("#pager");this.toolbar=this.host.find("#toolbar");this.toolbar[0].id="toolbar"+this.element.id;this.toolbar.addClass(this.toTP("jqx-grid-toolbar"));this.toolbar.addClass(this.toTP("jqx-widget-header"));this.statusbar=this.host.find("#statusbar");this.statusbar[0].id="statusbar"+this.element.id;this.statusbar.addClass(this.toTP("jqx-grid-statusbar"));this.statusbar.addClass(this.toTP("jqx-widget-header"));this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.groupsheader=this.host.find("#groupsheader");this.groupsheader.addClass(this.toTP("jqx-grid-groups-header"));this.groupsheader.addClass(this.toTP("jqx-widget-header"));this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=b.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=b.data(this.hScrollBar[0],"jqxScrollBar").instance;this.gridtable=null;this.dataloadelement=b('<div style="position: absolute;"></div>');this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement);this.isNestedGrid=this.host.parent()?this.host.parent().css("z-index")==2000:false;if(this.localizestrings){this.localizestrings()}if(this.rowdetailstemplate){if(undefined==this.rowdetailstemplate.rowdetails){this.rowdetailstemplate.rowdetails="<div></div>"}if(undefined==this.rowdetailstemplate.rowdetailsheight){this.rowdetailstemplate.rowdetailsheight=200}if(undefined==this.rowdetailstemplate.rowdetailshidden){this.rowdetailstemplate.rowdetailshidden=true}}if(this._testmodules()){return}this.databind(this.source);if(this.showtoolbar){this.toolbar.css("visibility","visible")}if(this.showstatusbar){this.statusbar.css("visibility","visible")}if(this.pageable&&this._initpager){this._initpager()}this._arrange();this.tableheight=null;var f=this;var e=function(){if(f.content){f.content[0].scrollTop=0;f.content[0].scrollLeft=0}if(f.gridcontent){f.gridcontent[0].scrollLeft=0;f.gridcontent[0].scrollTop=0}};this.content.bind("mousedown",function(){e()});this.content.bind("scroll",function(j){e();return false});if(!this.showfilterrow){if(!this.showstatusbar&&!this.showtoolbar){this.host.addClass("jqx-disableselect")}this.content.addClass("jqx-disableselect")}if(this.enablebrowserselection){this.content.removeClass("jqx-disableselect");this.host.removeClass("jqx-disableselect")}this.addHandler(this.host,"loadContent",function(j){if(f.gridmenu&&f.gridmenu.width()<120){f._initmenu();f.prerenderrequired=true;f._rendercolumnheaders()}return false});if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){this._updatesizeonwindowresize=true;b(window).bind("resize."+this.element.id,function(){var k=f.host.width();var j=f.host.height();if(f.autoheight){f._lastHeight=j}if(f._lastWidth!=k||f._lastHeight!=j){f._updatesize(f._lastWidth!=k,f._lastHeight!=j)}f._lastWidth=k;f._lastHeight=j})}if(this.renderstatusbar){this.renderstatusbar(this.statusbar)}if(this.rendertoolbar){this.rendertoolbar(this.toolbar)}if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.hasTransform=b.jqx.utilities.hasTransform(this.host)},_testmodules:function(){var k="";var h=this;var d=function(){if(k.length!=""){k+=","}};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)){d();k+=" jqxmenu.js"}if(!this.host.jqxScrollBar){d();k+=" jqxscrollbar.js"}if(!this.host.jqxButton){d();k+=" jqxbuttons.js"}if(!b.jqx.dataAdapter){d();k+=" jqxdata.js"}if(this.pageable&&!this.gotopage){d();k+="jqxgrid.pager.js"}if(this.filterable&&!this.applyfilters){d();k+=" jqxgrid.filter.js"}if(this.groupable&&!this._initgroupsheader){d();k+=" jqxgrid.grouping.js"}if(this.columnsresize&&!this.autoresizecolumns){d();k+=" jqxgrid.columnsresize.js"}if(this.columnsreorder&&!this.setcolumnindex){d();k+=" jqxgrid.columnsreorder.js"}if(this.sortable&&!this.sortby){d();k+=" jqxgrid.sort.js"}if(this.editable&&!this.begincelledit){d();k+=" jqxgrid.edit.js"}if(this.showaggregates&&!this.getcolumnaggregateddata){d();k+=" jqxgrid.aggregates.js"}if(this.keyboardnavigation&&!this.selectrow){d();k+=" jqxgrid.selection.js"}if(k!=""||this.editable||this.filterable||this.pageable){var f=[];var j=function(i){switch(i){case"checkbox":if(!h.host.jqxCheckBox&&!f.checkbox){f.checkbox=true;d();k+=" jqxcheckbox.js"}break;case"numberinput":if(!h.host.jqxNumberInput&&!f.numberinput){f.numberinput=true;d();k+=" jqxnumberinput.js"}break;case"datetimeinput":if(!h.host.jqxDateTimeInput&&!f.datetimeinput){d();f.datetimeinput=true;k+=" jqxdatetimeinput.js(requires: jqxcalendar.js, jquery.global.js)"}else{if(!b.global&&!f.global){d();k+=" jquery.global.js"}else{if(!h.host.jqxCalendar&&!f.calendar){d();k+=" jqxcalendar.js"}}}break;case"combobox":if(!h.host.jqxComboBox&&!f.combobox){d();f.combobox=true;k+=" jqxcombobox.js(requires: jqxlistbox.js)"}else{if(!h.host.jqxListBox&&!f.listbox){d();f.listbox=true;k+=" jqxlistbox.js"}}break;case"dropdownlist":if(!h.host.jqxDropDownList&&!f.dropdownlist){d();f.dropdownlist=true;k+=" jqxdropdownlist.js(requires: jqxlistbox.js)"}else{if(!h.host.jqxListBox&&!f.listbox){d();f.listbox=true;k+=" jqxlistbox.js"}}break}};if(this.filterable||this.pageable){j("dropdownlist")}for(var e=0;e<this.columns.length;e++){var g=this.columns[e].columntype;j(g);if(this.filterable&&this.showfilterrow){var g=this.columns[e].filtertype;if(g=="checkedlist"||g=="bool"){j("checkbox")}if(g=="date"){j("datetimeinput")}}}if(k!=""){alert("Please, add references to the following module(s): "+k);this.host.remove();return true}}return false},focus:function(){this.wrapper.focus();var d=this;setTimeout(function(){d.wrapper.focus()},10);this.focused=true},hiddenParent:function(){var e=this;if(e.host.css("display")!="block"){return true}var d=false;b.each(e.host.parents(),function(){if(b(this).css("display")=="none"){d=true;return false}});return d},_updatesize:function(i,h){if(this._loading){return}var f=this;if(this.hiddenParent()){return}var g=f.host.width();var e=f.host.height();if(!f._oldWidth){f._oldWidth=g}if(!f._oldHeight){f._oldHeight=e}if(f._resizeTimer){clearTimeout(f._resizeTimer)}var d=b.browser.msie?10:10;f._resizeTimer=setTimeout(function(){if(g!=f._oldWidth||i==true){f._arrange();f._updatecolumnwidths();f._updatecellwidths();if(!(i==false&&f._oldWidth>g)){f._renderrows(f.virtualsizeinfo)}}if(e!=f._oldHeight||h==true){var k=f.groupable&&f.groups.length>0;var j=f.vScrollBar.css("visibility")!="visible";if(!f.autoheight){if(!k){f._arrange();f.virtualsizeinfo=f._calculatevirtualheight();if(parseInt(e)>=parseInt(f._oldHeight)){f.prerenderrequired=true}f._renderrows(f.virtualsizeinfo)}else{if(value>=oldvalue){f._render(true,false,false)}else{f.rendergridcontent(true,false)}}if(j&&f.vScrollBar.css("visibility")=="visible"){f._arrange();f._updatecolumnwidths();f._updatecellwidths()}}}f._oldWidth=g;f._oldHeight=e},d)},_fieldsmapping:function(){if(this.showToolbar){this._mapField("showtoolbar",this.showToolbar)}if(this.toolbarHeight){this._mapField("toolbarheight",this.toolbarHeight)}if(this.pagerHeight){this._mapField("pagerHeight",this.pagerHeight)}if(this.groupsHeaderHeight){this._mapField("groupsHeaderHeight",this.groupsHeaderHeight)}if(this.pageSize){this._mapField("pageSize",this.pageSize)}if(this.pagerHeight){this._mapField("pagerHeight",this.pagerHeight)}if(this.pageSizeOptions){this._mapField("pageSizeOptions",this.pageSizeOptions)}if(this.rowsHeight){this._mapField("rowsHeight",this.rowsHeight)}if(this.columnsHeight){this._mapField("columnsHeight",this.columnsHeight)}if(this.groupIndentWidth){this._mapField("groupIndentWidth",this.groupIndentWidth)}if(this.rowDetails){this._mapField("rowDetails",this.rowDetails)}if(this.enableRowDetailsIndent){this._mapField("enableRowDetailsIndent",this.enableRowDetailsIndent)}if(this.enableMouseWheel){this._mapField("enableMouseWheel",this.enableMouseWheel)}if(this.initRowDetails){this._mapField("initRowDetails",this.initRowDetails)}if(this.editMode){this._mapField("editMode",this.editMode)}if(this.autoShowFilterIcon){this._mapField("autoShowFilterIcon",this.autoShowFilterIcon)}if(this.showFilterColumnBackground){this._mapField("showFilterColumnBackground",this.showFilterColumnBackground)}if(this.showPinnedColumnBackground){this._mapField("showPinnedColumnBackground",this.showPinnedColumnBackground)}if(this.showSortColumnBackground){this._mapField("showSortColumnBackground",this.showSortColumnBackground)}if(this.altRows){this._mapField("altRows",this.altRows)}if(this.altStart){this._mapField("altStart",this.altStart)}if(this.altStep){this._mapField("altStep",this.altStep)}if(this.showRowDetailsColumn){this._mapField("showRowDetailsColumn",this.showRowDetailsColumn)}if(this.groupsRenderer){this._mapField("groupsRenderer",this.groupsRenderer)}if(this.groupColumnRenderer){this._mapField("groupColumnRenderer",this.groupColumnRenderer)}if(this.groupsExpandedByDefault){this._mapField("groupsExpandedByDefault",this.groupsExpandedByDefault)}if(this.pagerRenderer){this._mapField("pagerRenderer",this.pagerRenderer)}if(this.updateDelay){this._mapField("updateDelay",this.updateDelay)}if(this.autoHeight){this._mapField("autoHeight",this.autoHeight)}if(this.showHeader){this._mapField("showHeader",this.showHeader)}if(this.showGroupsHeader){this._mapField("showGroupsHeader",this.showGroupsHeader)}if(this.closeableGroups){this._mapField("closeableGroups",this.closeableGroups)}if(this.scrollbarSize){this._mapField("scrollbarSize",this.scrollbarSize)}if(this.virtualMode){this._mapField("virtualMode",this.virtualMode)}if(this.columnsMenu){this._mapField("columnsMenu",this.columnsMenu)}if(this.columnsResize){this._mapField("columnsResize",this.columnsResize)}if(this.columnsMenuWidth){this._mapField("columnsMenuWidth",this.columnsMenuWidth)}if(this.sortToggleStates){this._mapField("sortToggleStates",this.sortToggleStates)}if(this.renderGridRows){this._mapField("renderGridRows",this.renderGridRows)}if(this.enableAnimations){this._mapField("enableAnimations",this.enableAnimations)}if(this.enableTooltips){this._mapField("enableTooltips",this.enableTooltips)}if(this.selectionMode){this._mapField("selectionMode",this.selectionMode)}if(this.enableHover){this._mapField("enableHover",this.enableHover)}if(this.loadingErrorMessage){this._mapField("loadingErrorMessage",this.loadingErrorMessage)}if(this.verticalScrollBarStep){this._mapField("verticalScrollBarStep",this.verticalScrollBarStep)}if(this.verticalScrollBarLargeStep){this._mapField("verticalScrollBarLargeStep",this.verticalScrollBarLargeStep)}if(this.horizontalScrollBarStep){this._mapField("horizontalScrollBarStep",this.horizontalScrollBarStep)}if(this.horizontalScrollbarLargeStep){this._mapField("horizontalScrollbarLargeStep",this.horizontalScrollbarLargeStep)}if(this.keyboardNavigation){this._mapField("keyboardNavigation",this.keyboardNavigation)}},_mapField:function(d,e){if(d==null){return false}this[d.toLowerCase()]=e},getTouches:function(d){if(d.originalEvent){if(d.originalEvent.touches&&d.originalEvent.touches.length){return d.originalEvent.touches}else{if(d.originalEvent.changedTouches&&d.originalEvent.changedTouches.length){return d.originalEvent.changedTouches}}}if(!d.touches){d.touches=new Array();d.touches[0]=d.originalEvent}return d.touches},_updateTouchScrolling:function(){var d=this;if(d.isTouchDevice()){d.enablehover=false;if(d.gridcontent){d.gridcontent.unbind("touchstart.touchScroll");d.gridcontent.unbind("touchmove.touchScroll");d.gridcontent.unbind("touchend.touchScroll");d.gridcontent.unbind("touchcancel.touchScroll");b.jqx.mobile.touchScroll(d.gridcontent[0],d.vScrollInstance.max,function(g,f){if(d.vScrollBar.css("visibility")=="visible"){var e=d.vScrollInstance.value;d.vScrollInstance.setPosition(e+f)}if(d.hScrollBar.css("visibility")=="visible"){var e=d.hScrollInstance.value;d.hScrollInstance.setPosition(e+g)}d._lastScroll=new Date()})}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var d=b.jqx.mobile.isTouchDevice();this.touchDevice=d;if(this.touchmode==true){d=true;b.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=d}else{if(this.touchmode==false){d=false}}if(d&&this.touchModeStyle!=false){this.scrollbarsize=10;this.host.addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"))}return d},toTP:function(d){return this.toThemeProperty(d)},localizestrings:function(d){this._cellscache=new Array();if(b.jqx.dataFormat){b.jqx.dataFormat.cleardatescache()}if(this._loading){alert(this.loadingerrormessage);return false}if(d!=null){if(d.pagergotopagestring){this.gridlocalization.pagergotopagestring=d.pagergotopagestring}if(d.pagershowrowsstring){this.gridlocalization.pagershowrowsstring=d.pagershowrowsstring}if(d.pagerrangestring){this.gridlocalization.pagerrangestring=d.pagerrangestring}if(d.pagernextbuttonstring){this.gridlocalization.pagernextbuttonstring=d.pagernextbuttonstring}if(d.pagerpreviousbuttonstring){this.gridlocalization.pagerpreviousbuttonstring=d.pagerpreviousbuttonstring}if(d.groupsheaderstring){this.gridlocalization.groupsheaderstring=d.groupsheaderstring}if(d.sortascendingstring){this.gridlocalization.sortascendingstring=d.sortascendingstring}if(d.sortdescendingstring){this.gridlocalization.sortdescendingstring=d.sortdescendingstring}if(d.sortremovestring){this.gridlocalization.sortremovestring=d.sortremovestring}if(d.groupbystring){this.gridlocalization.groupbystring=d.groupbystring}if(d.groupremovestring){this.gridlocalization.groupremovestring=d.groupremovestring}if(d.firstDay){this.gridlocalization.firstDay=d.firstDay}if(d.days){this.gridlocalization.days=d.days}if(d.months){this.gridlocalization.months=d.months}if(d.AM){this.gridlocalization.AM=d.AM}if(d.PM){this.gridlocalization.PM=d.PM}if(d.patterns){this.gridlocalization.patterns=d.patterns}if(d.percentsymbol){this.gridlocalization.percentsymbol=d.percentsymbol}if(d.currencysymbol){this.gridlocalization.currencysymbol=d.currencysymbol}if(d.currencysymbolposition){this.gridlocalization.currencysymbolposition=d.currencysymbolposition}if(d.decimalseparator){this.gridlocalization.decimalseparator=d.decimalseparator}if(d.thousandsseparator){this.gridlocalization.thousandsseparator=d.thousandsseparator}if(d.filterclearstring){this.gridlocalization.filterclearstring=d.filterclearstring}if(d.filterstring){this.gridlocalization.filterstring=d.filterstring}if(d.filtershowrowstring){this.gridlocalization.filtershowrowstring=d.filtershowrowstring}if(d.filterselectallstring){this.gridlocalization.filterselectallstring=d.filterselectallstring}if(d.filterchoosestring){this.gridlocalization.filterchoosestring=d.filterchoosestring}if(d.filterorconditionstring){this.gridlocalization.filterorconditionstring=d.filterorconditionstring}if(d.filterandconditionstring){this.gridlocalization.filterandconditionstring=d.filterandconditionstring}if(d.filterstringcomparisonoperators){this.gridlocalization.filterstringcomparisonoperators=d.filterstringcomparisonoperators}if(d.filternumericcomparisonoperators){this.gridlocalization.filternumericcomparisonoperators=d.filternumericcomparisonoperators}if(d.filterdatecomparisonoperators){this.gridlocalization.filterdatecomparisonoperators=d.filterdatecomparisonoperators}if(d.filterbooleancomparisonoperators){this.gridlocalization.filterbooleancomparisonoperators=d.filterbooleancomparisonoperators}if(d.emptydatastring){this.gridlocalization.emptydatastring=d.emptydatastring}if(d.filterselectstring){this.gridlocalization.filterselectstring=d.filterselectstring}if(this._initpager){this._initpager()}if(this._initgroupsheader){this._initgroupsheader()}if(this._initmenu){this._initmenu()}if(d.validationstring){this.gridlocalization.validationstring=d.validationstring}if(this.filterable&&this.showfilterrow){if(this._updatefilterrow){for(var e in this._filterrowcache){b(this._filterrowcache[e]).remove()}this._filterrowcache=[];this._updatefilterrow()}}if(this.showaggregates&&this.refresheaggregates){this.refresheaggregates()}this._renderrows(this.virtualsizeinfo)}else{this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter"}}},_initmenu:function(){var q=this;if(this.host.jqxMenu){if(this.gridmenu){if(this.filterable){if(this._destroyfilterpanel){this._destroyfilterpanel()}}this.gridmenu.jqxMenu("destroy");this.gridmenu.remove()}this.menuitemsarray=new Array();this.gridmenu=b('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>');this.host.append(this.gridmenu);var u=b("<ul></ul>");var h='<div class="jqx-grid-sortasc-icon"></div>';var s=b("<li>"+h+this.gridlocalization.sortascendingstring+"</li>");var x='<div class="jqx-grid-sortdesc-icon"></div>';var v=b("<li>"+x+this.gridlocalization.sortdescendingstring+"</li>");var m='<div class="jqx-grid-sortremove-icon"></div>';var j=b("<li>"+m+this.gridlocalization.sortremovestring+"</li>");var i='<div class="jqx-grid-groupby-icon"></div>';var p=b("<li>"+i+this.gridlocalization.groupbystring+"</li>");var f=b("<li>"+i+this.gridlocalization.groupremovestring+"</li>");var d=b('<li type="separator"></li>');var t=b('<li class="filter" style="height: 170px;" ignoretheme="true"><div class="filter"></div></li>');var l=this.gridlocalization.sortascendingstring.length;var r=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>l){l=this.gridlocalization.sortdescendingstring.length;r=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>l){l=this.gridlocalization.sortremovestring.length;r=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){if(this.gridlocalization.groupbystring.length>l){l=this.gridlocalization.groupbystring.length;r=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>l){l=this.gridlocalization.groupremovestring.length;r=this.gridlocalization.groupremovestring}}var w=200;r=b.trim(r).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var g=b("<span>"+r+"</span>");g.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(g);w=g.outerWidth()+60;g.remove();var e=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){u.append(s);this.menuitemsarray[0]=s[0];u.append(v);this.menuitemsarray[1]=v[0];u.append(j);this.menuitemsarray[2]=j[0];e=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){u.append(p);this.menuitemsarray[3]=p[0];u.append(f);this.menuitemsarray[4]=f[0];e+=2}var k=e*27+3;var o=true;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(this._initfilterpanel){this.menuitemsarray[5]=t[0];this.menuitemsarray[6]=t[0];u.append(d);u.append(t);k+=176;if(b.browser.msie&&b.browser.version<8){k+=20}var n=b(t).find("div:first");w+=20;this._initfilterpanel(this,n,"",w);o=false;this.removeHandler(b(document),"click.menu"+q.element.id,q._closemenuafterclick,q);this.addHandler(b(document),"click.menu"+q.element.id,q._closemenuafterclick,q)}else{alert("jqxgrid.filter.js is not loaded.")}}this.gridmenu.append(u);if(b.browser.msie&&b.browser.version<8&&this.filterable){b("#listBoxfilter1"+this.element.id).css("z-index",4990);b("#listBoxfilter2"+this.element.id).css("z-index",4990);b("#listBoxfilter3"+this.element.id).css("z-index",4990);b("#gridmenu"+this.element.id).css("z-index",5000);b("#gridmenu"+this.element.id).bind("initialized",function(){b("#menuWrappergridmenu"+q.element.id).css("z-index",4980)})}if(this.menuitemsarray[0]==undefined){k=65}this.addHandler(this.gridmenu,"keydown",function(C){if(C.keyCode==27){q.gridmenu.jqxMenu("close")}else{if(C.keyCode==13&&q.filterable){if(q._buildfilter){var B=b(b.find("#filter1"+q.element.id)).jqxDropDownList("container").css("display")=="block";var A=b(b.find("#filter2"+q.element.id)).jqxDropDownList("container").css("display")=="block";var y=b(b.find("#filter3"+q.element.id)).jqxDropDownList("container").css("display")=="block";var D=b(b.find("#filterclearbutton"+q.element.id)).hasClass("jqx-fill-state-focus");if(D){var z=b.data(document.body,"contextmenu"+q.element.id).column;q._clearfilter(q,q.element,z);q.gridmenu.jqxMenu("close")}else{if(!B&&!A&&!y){var z=b.data(document.body,"contextmenu"+q.element.id).column;q.gridmenu.jqxMenu("close");q._buildfilter(q,t,z)}}}}}});if(this.popupwidth!="auto"){w=this.popupwidth}this.gridmenu.jqxMenu({width:w,height:k,autoCloseOnClick:o,autoOpenPopup:false,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});if(this.filterable){this.gridmenu.jqxMenu("_setItemProperty",t[0].id,"closeOnClick",false)}this._handlemenueevents()}else{this.columnsmenu=false}},_arrangemenu:function(){var i=this.gridlocalization.sortascendingstring.length;var d=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>i){i=this.gridlocalization.sortdescendingstring.length;d=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>i){i=this.gridlocalization.sortremovestring.length;d=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader){if(this.gridlocalization.groupbystring.length>i){i=this.gridlocalization.groupbystring.length;d=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>i){i=this.gridlocalization.groupremovestring.length;d=this.gridlocalization.groupremovestring}}var e=200;d=b.trim(d).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var f=b("<span>"+d+"</span>");f.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(f);e=f.outerWidth()+60;f.remove();var g=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){g=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){g+=2}var h=g*27+3;if(this.filterable&&this.showfiltermenuitems){if(this._initfilterpanel){h+=176;e+=20;if(b.browser.msie&&b.browser.version<8){h+=20}}}if(this.menuitemsarray[0]==undefined){h=65}if(this.popupwidth!="auto"){e=this.popupwidth}this.gridmenu.jqxMenu({width:e,height:h})},_closemenuafterclick:function(e){var h=e!=null?e.data:this;var f=false;if(e.target.className.indexOf("filter")!=-1){return}if(e.target.className.indexOf("jqx-grid-cell")!=-1){h.gridmenu.jqxMenu("close");return}var d=h.host.offset();var j=e.pageX;var i=e.pageY;b.each(b(e.target).parents(),function(){if(this.id!=null&&this.id.indexOf("filter")!=-1){f=true;return false}if(this.className.indexOf("filter")!=-1){f=true;return false}if(this.className.indexOf("jqx-grid-cell")!=-1){h.gridmenu.jqxMenu("close");return false}if(this.className.indexOf("jqx-grid-column")!=-1){h.gridmenu.jqxMenu("close");return false}});if(f){return}try{var l=b(b.find("#filter1"+h.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(new Date()-l<100){return}var k=b(b.find("#filter3"+h.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(new Date()-k<100){return}}catch(g){}h.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var d=this;this.removeHandler(this.gridmenu,"closed");this.addHandler(this.gridmenu,"closed",function(e){d._closemenu()});this.removeHandler(this.gridmenu,"itemclick");this.addHandler(this.gridmenu,"itemclick",function(h){var g=h.args;for(var e=0;e<d.menuitemsarray.length;e++){var j=d.menuitemsarray[e];if(g==j){if(b(g).attr("ignoretheme")!=undefined){return}var k=b.data(document.body,"contextmenu"+d.element.id);var f=k.column;if(d.filterable){d.gridmenu.jqxMenu("close")}if(k!=null){switch(e){case 0:d.sortby(f.datafield,"ascending",null);break;case 1:d.sortby(f.datafield,"descending",null);break;case 2:d.sortby(f.datafield,null,null);break;case 3:d.addgroup(f.datafield);break;case 4:d.removegroup(f.datafield);break;case 5:var l=b(d.menuitemsarray[6]);b(l).css("display","block");break;case 7:break}}break}}})},getdatainformation:function(){var d=this.dataview.totalrecords;if(this.summaryrows){d+=this.summaryrows.length}return{rowscount:d,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows();this._updaterowheights();this._updaterowdetails()},_updatehiddenrows:function(){var e=this;this.hiddens=new Array();var d=this.hiddenboundrows;b.each(d,function(g){if(this.index!=undefined){var f=this.index;var h=e.getrowvisibleindex(g);e.hiddens[h]=this.hidden}})},_updaterowheights:function(){var e=this;this.heights=new Array();var d=this.heightboundrows;b.each(d,function(g){if(this.index!=undefined){var f=this.index;var h=e.getrowvisibleindex(g);e.heights[h]=this.height}})},_updaterowdetails:function(){var d=this;this.details=new Array();var e=this.detailboundrows;b.each(e,function(g){if(this.index!=undefined){var f=this.index;var h=d.getrowvisibleindex(g);d.details[h]=this.details}})},_getmenuitembyindex:function(d){if(d==undefined){return null}return this.menuitemsarray[d]},_closemenu:function(){if(this._hasOpenedMenu){if(this.gridmenu!=null){this.gridmenu.jqxMenu("close")}var g=b.data(document.body,"contextmenu"+this.element.id);var e=16;if(g!=null&&this.autoshowcolumnsmenubutton){if(this.enableanimations){b(g.columnsmenu).animate({"margin-left":0},"fast",function(){b(g.columnsmenu).css("display","none")});g.column.iconscontainer.animate({"margin-left":-32},"fast")}else{b(g.columnsmenu).css("display","none");g.column.iconscontainer.css("margin-left",-32)}b.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=false;var i=this._getmenuitembyindex(5);if(i){var h=b(i).find("#filter1"+this.element.id);var d=b(i).find("#filter2"+this.element.id);var f=b(i).find("#filter3"+this.element.id);h.jqxDropDownList("hideListBox");d.jqxDropDownList("hideListBox");f.jqxDropDownList("hideListBox")}}},scrolloffset:function(e,d){if(e==null||d==null||e==undefined||d==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",e);this.hScrollBar.jqxScrollBar("setPosition",d)},scrollleft:function(d){if(d==null||d==undefined){return}this.hScrollBar.jqxScrollBar("setPosition",d)},scrolltop:function(d){if(d==null||d==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",d)},beginupdate:function(){this._updating=true;this._datachanged=false},endupdate:function(){this.resumeupdate()},resumeupdate:function(){this._updating=false;if(this._datachanged==true){var d=this.vScrollInstance.value;this.render(true,true,false);this._datachanged=false;if(d!=0&&d<this.vScrollInstance.max){this.scrolltop(d)}}else{this.rendergridcontent(true);this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){if(this.renderloadelement){this.dataloadelement.html(this.renderloadelement())}b(this.dataloadelement).css("visibility","visible");b(this.dataloadelement).css("display","block")},hideloadelement:function(){b(this.dataloadelement).css("visibility","hidden");b(this.dataloadelement).css("display","none")},databind:function(e,f){if(this.host.css("display")=="block"){if(this.autoshowloadelement){b(this.dataloadelement).css("visibility","visible");b(this.dataloadelement).css("display","block");this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height())}}if(!this._initgroupsheader&&this.groups.length>0){this.groups=new Array()}var d=this;if(e==null){e=new Array()}if(!e.recordstartindex){e.recordstartindex=0}if(!e.recordendindex){e.recordendindex=0}if(e.loadallrecords==undefined||e.loadallrecords==null){e.loadallrecords=true}if(e.sortcomparer==undefined||e.sortcomparer==null){e.sortcomparer=null}if(e.filter==undefined||e.filter==null){e.filter=null}if(e.sort==undefined||e.sort==null){e.sort=null}if(e.data==undefined||e.data==null){e.data=null}this.dataview=this.dataview||new b.jqx.dataview();if(b.jqx.dataview.sort){b.extend(this.dataview,new b.jqx.dataview.sort())}if(b.jqx.dataview.grouping){b.extend(this.dataview,new b.jqx.dataview.grouping())}this.dataview.suspendupdate();this.dataview.pageable=this.pageable;this.dataview.groupable=this.groupable;this.dataview.groups=this.groups;this.dataview.virtualmode=this.virtualmode;this.dataview.grid=this;this.dataview._clearcaches();if(!d.initializedcall){if(this.pageable){if(e._source){if(e._source.pagenum!=undefined){this.dataview.pagenum=e._source.pagenum}if(e._source.pagesize!=undefined){this.pagesize=e._source.pagesize;this.dataview.pagesize=e._source.pagesize}else{this.dataview.pagesize=e._source.pagesize;if(this.dataview.pagesize==undefined){this.dataview.pagesize=this.pagesize}}}}if(e.sortcolumn){this.dataview.sortfield=e.sortcolumn}if(e.sortdirection){this.dataview.sortfielddirection=e.sortdirection}if(this.autoloadstate){if(this.loadstate){this.loadstate()}}}this._loading=true;this.dataview.update=function(){d._loading=false;if(d.dataview.isupdating()){d.dataview.resumeupdate(false)}if(d.pageable&&d.pagerrenderer){if(d._initpager){d._initpager()}else{alert("jqxgrid.pager.js is not loaded.")}}if(d.source.sortcolumn&&d.sortby&&!d.virtualmode){d.render();d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer);d.source.sortcolumn=null}else{var h=d.vScrollInstance.value;var i=d.hScrollInstance.value;var j=d.source.datatype;if(j!="local"||j!="array"){var k=d.virtualsizeinfo==null||(d.virtualsizeinfo!=null&&d.virtualsizeinfo.virtualheight==0);if(!d.virtualmode||k||(d.virtualmode&&d.pageable)){if(d.initializedcall==true&&f=="pagechanged"){d._render(true,true,false,false)}else{d._render(true,true,true,d.menuitemsarray&&!d.virtualmode)}}else{if(d.virtualmode&&d.dataview.totalrecords==0&&d.dataview.filters.length>0){d._render(true,true,true,d.menuitemsarray&&!d.virtualmode)}else{d._pagescache=new Array();d._renderrows(d.virtualsizeinfo)}}if(d.vScrollInstance.value!=h&&h<=d.vScrollInstance.max){d.vScrollInstance.setPosition(h)}if(d.hScrollInstance.value!=i&&i<=d.hScrollInstance.max){d.hScrollInstance.setPosition(i)}}}if(d.autoshowloadelement){b(d.dataloadelement).css("visibility","hidden");b(d.dataloadelement).css("display","none")}if(d.pageable){if(d.pagerrightbutton){d.pagerrightbutton.jqxButton({disabled:false});d.pagerleftbutton.jqxButton({disabled:false});d.pagershowrowscombo.jqxDropDownList({disabled:false})}}d._raiseEvent(11);if(!d.initializedcall){d._raiseEvent(0);d.initializedcall=true;if(d.ready){d.ready()}if(d.autoloadstate){if(d.loadstate){d._loadselectionandcolumnwidths()}}if((d.width!=null&&d.width.toString().indexOf("%")!=-1)||(d.height!=null&&d.height.toString().indexOf("%")!=-1)){d._updatesize(true)}if(d.host.css("visibility")=="hidden"){var g=b.browser.msie&&b.browser.version<8;if(d.vScrollBar.css("visibility")=="visible"){d.vScrollBar.css("visibility","inherit")}if(d.hScrollBar.css("visibility")=="visible"){d.hScrollBar.css("visibility","inherit")}d._intervalTimer=setInterval(function(){if(d.host.css("visibility")=="visible"){d._updatesize(true);clearInterval(d._intervalTimer)}},100)}}else{d._updateTouchScrolling()}};this.dataview.databind(e);if(this.dataview.isupdating()){this.dataview.resumeupdate(false)}this._initializeRows()},scrollto:function(e,d){if(undefined!=e){this.hScrollInstance.setPosition(e)}if(undefined!=d){this.vScrollInstance.setPosition(d)}},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(h){var e=this._getpagesize();var g=Math.floor(h/e);if(!this._pageviews[g]&&!this.pageable){this._updatepageviews()}var n=false;if(this.pageable&&this.gotopage&&!this.virtualmode){if(this.dataview.pagenum!=g){this.gotopage(g);n=true}}var l=this.vScrollInstance.value;var m=this._gettableheight()-this.rowsheight;var d=e*(h/e-g);d=Math.round(d);if(this._pageviews[g]){var k=this._pageviews[g].top;var j=k+d*this.rowsheight;if(this.rowdetails){for(var f=e*g;f<h;f++){if(this.details[f]){if(this.details[f].rowdetailshidden==false){j+=this.details[f].rowdetailsheight}}}}if(j<l){this.scrolltop(j);n=true}else{if(j>l+m+2){this.scrolltop(j-m);n=true}}}else{if(this.pageable){var j=d*this.rowsheight;if(this.rowdetails){for(var f=e*g;f<e*g+d;f++){if(this.details[f].rowdetailshidden==false){j+=this.details[f].rowdetailsheight}}}if(j<l||j>l+m){this.scrollto(0,j);n=true}}}return n},ensurecellvisible:function(h,d){var i=this.hScrollBar.jqxScrollBar("value");var n=this.ensurerowvisible(h);var e=0;var m=this;if(this.columns.records){var k=i;var l=this.host.width();var j=0;var f=this.vScrollBar.css("visibility")=="visible"?20:0;var g=false;b.each(this.columns.records,function(){if(this.datafield==d){var o=0;if(e+this.width>k+l-f){o=e+this.width-k-l+f;m.scrollleft(o+k);g=true}else{if(e<=k){o=e-this.width;m.scrollleft(o);g=true}}if(j==0){m.scrollleft(0);g=true}else{if(j==m.columns.records.length-1){if(m.hScrollBar.css("visibility")=="visible"){m.scrollleft(m.hScrollBar.jqxScrollBar("max"));g=true}}}return false}j++;e+=this.width});if(!g){m.scrollleft(k)}}return n},setrowheight:function(e,d){if(this._loading){alert(this.loadingerrormessage);return false}if(e==null||d==null){return false}this.heightboundrows[e]={index:e,height:d};e=this.getrowvisibleindex(e);if(e<0){return false}if(this.rows.records[e]){this.rows.records[e].height=d}else{row=new a(this,null);row.height=d;this.rows.replace(e,row)}this.heights[e]=d;this.rendergridcontent(true);return true},getrowheight:function(d){if(d==null){return null}d=this.getrowvisibleindex(d);if(d<0){return false}if(this.rows.records[d]){return this.rows.records[d].height}},setrowdetails:function(e,f,d,h){if(e==undefined||e==null||e<0){return}var g=this.dataview.generatekey();this.detailboundrows[e]={index:e,details:{rowdetails:f,rowdetailsheight:d,rowdetailshidden:h,key:g}};e=this.getrowvisibleindex(e);if(e<0){return false}return this._setrowdetails(e,f,d,h,g)},getcolumn:function(d){var e=null;if(this.columns.records){b.each(this.columns.records,function(){if(this.datafield==d){e=this;return false}})}return e},_getcolumnindex:function(e){var d=-1;if(this.columns.records){b.each(this.columns.records,function(){d++;if(this.datafield==e){return false}})}return d},_getcolumnat:function(d){var e=this.columns.records[d];return e},_getprevvisiblecolumn:function(e){var d=this;while(e>0){e--;var f=d.getcolumnat(e);if(!f){return null}if(!f.hidden){return f}}return null},_getnextvisiblecolumn:function(e){var d=this;while(e<this.columns.records.length){e++;var f=d.getcolumnat(e);if(!f){return null}if(!f.hidden){return f}}return null},getcolumnat:function(d){if(!isNaN(d)){var e=this.columns.records[d];return e}return null},_getcolumn:function(d){var e=null;b.each(this._columns,function(){if(this.datafield==d||this.dataField==d){e=this;return false}});return e},_setcolumnproperty:function(e,g,h){if(e==null||g==null||h==null){return null}var f=this.getcolumn(e);if(f==null){return}f[g]=h;var d=this._getcolumn(e);if(d!=null){d[g]=h}this._cellscache=new Array();switch(g){case"text":this.prerenderrequired=true;this._rendercolumnheaders();if(this._groupsheader()){if(this._initgroupsheader){this._initgroupsheader()}}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"resizable":case"filterable":case"groupable":case"editable":case"cellclass":case"class":this.prerenderrequired=true;this.rendergridcontent(true);if(this.updating()){return false}this._renderrows(this.virtualsizeinfo);break;case"width":case"minwidth":case"maxwidth":if(this.updating()){return false}this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);break}},_getcolumnproperty:function(d,f){if(d==null||f==null){return null}var e=this.getcolumn(d);return e[f]},setcolumnproperty:function(d,e,f){this._setcolumnproperty(d,e,f)},getcolumnproperty:function(d,e){return this._getcolumnproperty(d,e)},hidecolumn:function(d){this._setcolumnproperty(d,"hidden",true)},showcolumn:function(d){this._setcolumnproperty(d,"hidden",false)},iscolumnvisible:function(d){return !this._getcolumnproperty(d,"hidden")},pincolumn:function(d){this._setcolumnproperty(d,"pinned",true)},unpincolumn:function(d){this._setcolumnproperty(d,"pinned",false)},iscolumnpinned:function(d){return this._getcolumnproperty(d,"pinned")},_setrowdetails:function(j,d,n,h,e){if(n==0){n=100}if(j==null||n==null){return false}if(e!=null){this.details[j]={rowdetails:d,rowdetailsheight:n,rowdetailshidden:h,detailskey:e}}else{var m=this.details[j]!=null?this.details[j].detailskey:null;var l={rowdetails:d,rowdetailsheight:n,rowdetailshidden:h,detailskey:m};var k=this;for(var g=0;g<this.detailboundrows.length;g++){if(this.detailboundrows[g]!=undefined){var f=this.detailboundrows[g];if(f.details.key==m){f.details.rowdetailsheight=l.rowdetailsheight;f.details.rowdetailshidden=l.rowdetailshidden;f.details.rowdetails=l.rowdetails;break}}}this.details[j]=l}this.rendergridcontent(true);return true},getrowdetails:function(d){if(d==null){return false}d=this.getrowvisibleindex(d);return this._getrowdetails(d)},_getrowdetails:function(d){if(d==null){return false}if(d<0){return false}if(this.details[d]){return this.details[d]}if(this.rowdetailstemplate){return this.rowdetailstemplate}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(d){if(this._loading){alert(this.loadingerrormessage);return false}if(d==null){return false}d=this.getrowvisibleindex(d);if(d<0){return false}var e=this._getrowdetails(d);return this._setrowdetailsvisibility(d,e,false)},hiderowdetails:function(d){if(this._loading){alert(this.loadingerrormessage);return false}d=this.getrowvisibleindex(d);if(d<0){return false}var e=this._getrowdetails(d);return this._setrowdetailsvisibility(d,e,true)},_togglerowdetails:function(g){var d=g.visibleindex;var e=this._getrowdetails(d);if(e!=null){var f=!e.rowdetailshidden;return this._setrowdetailsvisibility(d,e,f)}return false},_setrowdetailsvisibility:function(e,f,h){if(this.rowdetailstemplate){if(!this.details){this.details=new Array()}if(!this.details[e]){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var g=this.dataview.generatekey();this.details[e].detailskey=g;this.detailboundrows[e]={index:e,details:this.details[e]}}}if(f!=null){this.details[e].rowdetailshidden=h}else{return false}var d=this.details[e];if(h){this._raiseEvent(21,{rowindex:e,details:d.rowdetails,height:d.rowdetailsheight})}else{this._raiseEvent(20,{rowindex:e,details:d.rowdetails,height:d.rowdetailsheight})}return this._setrowdetails(e,d.rowdetails,d.rowdetailsheight,d.rowdetailshidden)},getrowvisibleindex:function(d){if(d==undefined||d==null||d<0){return false}if(this.virtualmode){var e=this.dataview.loadedrecords[d];if(e==undefined){return -1}return e.visibleindex}var e=this.dataview.bounditems[d];if(e==undefined){return -1}return e.visibleindex},hiderow:function(d){if(this._loading){alert(this.loadingerrormessage);return false}if(d==undefined||d==null||d<0){return false}if(d==null){return false}this.hiddenboundrows[d]={index:d,hidden:true};d=this.getrowvisibleindex(d);return this._setrowvisibility(d,true)},showrow:function(d){if(this._loading){alert(this.loadingerrormessage);return false}if(d==undefined||d==null||d<0){return false}if(d==null){return false}this.hiddenboundrows[d]={index:d,hidden:false};d=this.getrowvisibleindex(d);return this._setrowvisibility(d,false)},isrowhiddenat:function(d){if(d==null){return null}d=this.getrowvisibleindex(d);if(this.rows.records[d]){return this.rows.records[d].hidden}},_setrowvisibility:function(d,f,e){if(d==null){return false}this.hiddens[d]=f;if(e==undefined||e){this.rendergridcontent(true);return true}return false},_loadrows:function(){if(!this._pageviews[this.dataview.pagenum]&&!this.pageable){return}var p=!this.pageable?this._pageviews[this.dataview.pagenum].top:0;if(!this.pageable&&this._pagescache[this.dataview.pagenum]!=undefined){return null}if(!this.virtualsizeinfo){return}var t=this;var l=new Array();var q=new Array();var e=t.groupable&&t.groups.length>0;var j=this.dataview.totalrecords;var o=this.virtualsizeinfo.virtualheight;var s=0;this.rows.beginupdate();var f=this.dataview.pagesize;if(this.pageable&&e){f=this.dataview.rows.length}for(var g=0;g<f;g++){if(g>=this.dataview.rows.length){break}var k=this.dataview.rows[g];var u=null;if(!t.rows.records[k.visibleindex]){u=new a(t,k)}else{u=t.rows.records[k.visibleindex];u.setdata(k)}u.hidden=this.hiddens[u.visibleindex];if(this.rowdetailstemplate){u.rowdetails=this.rowdetailstemplate.rowdetails;u.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight;u.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden}var d=this.details[u.visibleindex];if(d){u.rowdetails=d.rowdetails;u.rowdetailsheight=d.rowdetailsheight;u.rowdetailshidden=d.rowdetailshidden}else{if(!this.rowdetailstemplate){u.rowdetails=null}}if(e&&this.pageable&&u.parentbounddata!=null){var r=l[u.parentbounddata.uniqueid];if(r!=null){var n=this._findgroupstate(r.uniqueid);if(this._setsubgroupsvisibility){this._setsubgroupsvisibility(this,u.parentbounddata,!n,false)}u.hidden=this.hiddens[u.visibleindex]}if(r!=null&&r!=undefined){u.parentrow=r;r.subrows[r.subrows.length++]=u}}if(u.hidden){continue}var h=k.visibleindex;if(!this.heights[h]){this.heights[h]=this.rowsheight}u.height=this.heights[h];if(this.rowdetails){if(u.rowdetails&&!u.rowdetailshidden){u.height+=u.rowdetailsheight}}l[u.uniqueid]=u;q[s++]=u;u.top=p;p+=u.height;var m=h;t.rows.replace(m,u)}if(this.autoheight&&this.autorowheight){this._pageviews[0].height=p}this.rows.resumeupdate();if(q.length>0){this._pagescache[this.dataview.pagenum]=q}},_gettableheight:function(){if(this.tableheight!=undefined){return this.tableheight}var e=this.host.height();if(this.columnsheader){var d=this.columnsheader.outerHeight();if(!this.showheader){d=0}}e-=d;if(this.hScrollBar[0].style.visibility=="visible"){e-=this.hScrollBar.outerHeight()}if(this.pageable){e-=this.pager.outerHeight()}if(this._groupsheader()){e-=this.groupsheader.outerHeight()}if(this.showtoolbar){e-=this.toolbarheight}if(this.showstatusbar){e-=this.statusbarheight}if(e>0){this.tableheight=e;return e}return this.host.height()},_getpagesize:function(){if(this.pageable){return this.pagesize}if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;var d=Math.round(e/this.rowsheight);return d}if(this.autoheight||this.autorowheight){if(this.dataview.totalrows==0){return 1}return this.dataview.totalrows}if(this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0){return this.dataview.totalrows}return 100},_calculatevirtualheight:function(){var n=this;var e=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var p=Math.round(e/this.rowsheight);this.heights=new Array();this.hiddens=new Array();this.details=new Array();this.expandedgroups=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();var h=Math.max(this.dataview.totalrows,this.dataview.totalrecords);if(this.pageable){h=this.pagesize;if(this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight){h=Math.max(this.dataview.totalrows,this.dataview.totalrecords)}}var l=h*this.rowsheight;var m=0;var j=0;var k=0;var f=this._getpagesize();var d=f*this.rowsheight;var g=0;if(h+f>0){while(g<=h+f){m+=d;if(g-f<h&&g>=h){var o=g-h;if(o>0){k-=d;this._pageviews[j-1]={top:k,height:d-o*this.rowsheight}}break}else{this._pageviews[j++]={top:k,height:d}}k=m;g+=f}}this.vScrollBar.jqxScrollBar({value:0});if(l>realheight&&!this.autoheight){this.vScrollBar.css("visibility","visible");this.vScrollBar.jqxScrollBar({max:l-realheight})}else{this.vScrollBar.css("visibility","hidden")}this.dataview.pagesize=f;this.dataview.updateview();return{visiblerecords:p,virtualheight:l}},_updatepageviews:function(){if(this.updating()){return}this._pagescache=new Array();this._pageviews=new Array();this.tableheight=null;var t=this;var d=Math.round(this.host.height())+2*this.rowsheight;var u=Math.round(d/this.rowsheight);var m=Math.max(this.dataview.totalrows,this.dataview.totalrecords);var p=m*this.rowsheight;var s=0;var f=0;var n=0;var o=0;var h=0;var g=this._getpagesize();if(!this.pageable){for(var l=0;l<m;l++){var r={index:l,height:this.heights[l],hidden:this.hiddens[l],details:this.details[l]};if(this.heights[l]==undefined){this.heights[l]=this.rowsheight;r.height=this.rowsheight}if(this.hiddens[l]==undefined){this.hiddens[l]=false;r.hidden=false}if(this.details[l]==undefined){this.details[l]=null}if(r.height!=t.rowsheight){p-=t.rowsheight;p+=r.height}if(r.hidden){p-=r.height}else{f+=r.height;var j=0;if(this.rowdetails){if(this.rowdetailstemplate){if(!r.details){r.details=this.rowdetailstemplate}}if(r.details&&r.details.rowdetails&&!r.details.rowdetailshidden){j=r.details.rowdetailsheight;f+=j;p+=j}}s+=r.height+j}h++;if(h>=g||l==m-1){this._pageviews[n++]={top:o,height:f};f=0;o=s;h=0}}}else{if(this._updatepagedview){p=this._updatepagedview(m,p,0)}if(this.autoheight){this._arrange()}}var e=this._gettableheight();if(p>e){if(this.pageable&&this.gotopage){p=this._pageviews[0].height;if(p<0){p=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(p<=e||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(p-e>0){var q=p-e;this.vScrollBar.jqxScrollBar({max:q})}else{this.vScrollBar.jqxScrollBar({value:0,max:p})}}else{if(!this._loading){this.vScrollBar.css("visibility","hidden")}this.vScrollBar.jqxScrollBar({value:0})}this._arrange();if(this.autoheight){u=Math.round(this.host.height()/this.rowsheight)}this.virtualsizeinfo={visiblerecords:u,virtualheight:p}},updatebounddata:function(d){this.databind(this.source,d)},refreshdata:function(){this._refreshdataview();this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var f=this._pageviews[0].height;var e=this._gettableheight();if(f>e){if(this.pageable&&this.gotopage){f=this._pageviews[0].height;if(f<0){f=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(f<=e||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(f-e>0){var d=f-e;this.vScrollBar.jqxScrollBar({max:d})}else{this.vScrollBar.jqxScrollBar({value:0,max:f})}}else{this.vScrollBar.css("visibility","hidden");this.vScrollBar.jqxScrollBar({value:0})}}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(d){if(d!=true){if(this.virtualsizeinfo!=null){this._cellscache=new Array();this._renderrows(this.virtualsizeinfo);this._updatesize()}}},render:function(){this._render(true,true,true,true)},clear:function(){this.databind(null);this.render()},_render:function(g,h,f,d){if(this.dataview==null){return}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,false)}this.validationpopup=null;this._removeHandlers();this._addHandlers();this._initializeRows();this._requiresupdate=h!=undefined?h:true;if(f){if(!this._requiresupdate){if(d!=false){this._initmenu()}}if(this.columns==null){this.columns=new b.jqx.collection(this.element)}else{this._initializeColumns()}}this.tableheight=null;this._pagescache=new Array();this._pageviews=new Array();this.visiblerows=new Array();this.hittestinfo=new Array();if(this._requiresupdate){this._clearcaches();if(d!=false){this._initmenu()}}this.virtualsizeinfo=null;this.prerenderrequired=true;if((this.groupable&&this.groups.length>0&&this.rowdetails)||(this.rowdetails)){if(this.gridcontent){this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();this.detailboundrows=new Array();this.details=new Array();this.gridcontent.html("");this.gridcontent=null}}if(f){if(this.filterrow){this.filterrow.detach()}this.content.html("");this.columnsheader=this.columnsheader||b('<div style="overflow: hidden;"></div>');this.columnsheader.remove();this.columnsheader.addClass(this.toTP("jqx-widget-header"));this.columnsheader.addClass(this.toTP("jqx-grid-header"))}else{if(this.gridcontent){this.gridcontent.html("")}}if(!this.showheader){this.columnsheader.css("display","none")}else{if(this.columnsheader){this.columnsheader.css("display","block")}}this.gridcontent=this.gridcontent||b('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');this.gridcontent.remove();if(this.showfilterrow&&this.filterable){this.columnsheader.height(this.columnsheight+this.filterrowheight)}else{this.columnsheader.height(this.columnsheight)}this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._arrange();if(this._initgroupsheader){this._initgroupsheader()}this.selectionarea=this.selectionarea||b("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>");this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea"));this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.content.append(this.selectionarea);this.tableheight=null;this.rendergridcontent(false,f);if(this.groups.length>0&&this.groupable){this.suspendgroupevents=true;if(this.collapseallgroups){if(!this.groupsexpandedbydefault){this.collapseallgroups(false);this._updatescrollbarsafterrowsprerender()}else{this.expandallgroups(false)}}this.suspendgroupevents=false}if(this.pageable&&this.updatepagerdetails){this.updatepagerdetails();if(this.autoheight){this._updatepageviews();if(this.autorowheight){this._renderrows(this.virtualsizeinfo)}}}this._updateTouchScrolling();if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}var e=b.jqx.utilities.getBrowser();if(e.browser=="msie"&&parseInt(e.version)<9){this._overlayElement=b("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>");this.content.prepend(this._overlayElement);this._overlayElement.css("background","white");this._overlayElement.css("z-index",9999999);this._overlayElement.css("opacity",0.0001)}if(this.rendered){this.rendered("full")}},rendergridcontent:function(d,f){if(this.updating()){return false}if(d==undefined||d==null){d=false}this._requiresupdate=d;var h=this.prerenderrequired;if(this.prerenderrequired){this._arrange()}var g=this;var f=f;if(f==null||f==undefined){f=true}this.tableheight=null;g.virtualsizeinfo=g.virtualsizeinfo||g._calculatevirtualheight();if(g.pageable&&!g.autoheight){if(g.dataview.totalrows<g.pagesize){g._requiresupdate=true}}if(f){g._rendercolumnheaders()}else{if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}}g._renderrows(g.virtualsizeinfo);if(this.gridcontent[0].scrollTop!=0){this.gridcontent[0].scrollTop=0}if(this.gridcontent[0].scrollLeft!=0){this.gridcontent[0].scrollLeft=0}if(h){var e=this.tableheight;this._arrange();if(e!=this.tableheight&&this.autoheight){g._renderrows(g.virtualsizeinfo)}}if(this.autosavestate){if(this.initializedcall!=null){if(this.savestate){this.savestate()}}}return true},_updatecolumnwidths:function(){var j=this.host.width();var d=j;var i="";if(this.columns==undefined||this.columns.records==undefined){return}var l=this;b.each(this.columns.records,function(m,n){if(!(this.hidden&&this.hideable)){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){var n=0;var o=l.vScrollBar[0].style.visibility=="hidden"?0:l.scrollbarsize+5;n=parseInt(this.width)*d/100;if(this._percentagewidth!=undefined){n=parseInt(this._percentagewidth)*(d-o)/100}if(n<this.minwidth&&this.minwidth!="auto"){n=this.minwidth}if(n>this.maxwidth&&this.maxwidth!="auto"){n=this.maxwidth}j-=Math.round(n)}else{if(this.width!="auto"&&!this._width){j-=this.width}else{i+=this.text}}}});var e=this._gettableheight();if(!this.autoheight){if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>e){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var k=this.dataview.loadedrootgroups.length*this.rowsheight;if(k>e){j-=this.scrollbarsize+5;d-=this.scrollbarsize+5}else{if(this.vScrollBar.css("visibility")=="visible"){j-=this.scrollbarsize+5;d-=this.scrollbarsize+5}}}else{j-=this.scrollbarsize+5;d-=this.scrollbarsize+5}}else{j-=this.scrollbarsize+5;d-=this.scrollbarsize+5}}}var g=this.columnsheader.find("#columntable"+this.element.id);if(g.length==0){return}var h=g.find(".jqx-grid-column-header");var f=0;b.each(this.columns.records,function(n,r){var p=b(h[n]);var m=false;var q=this.width;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){q=parseInt(this._percentagewidth)*d/100}else{q=parseInt(this.width)*d/100}m=true}if(this.width!="auto"&&!this._width&&!m){if(parseInt(p[0].style.width)!=this.width){p.width(this.width)}}else{if(m){if(q<this.minwidth&&this.minwidth!="auto"){q=this.minwidth;this.width=q}if(q>this.maxwidth&&this.maxwidth!="auto"){q=this.maxwidth;this.width=q}if(parseInt(p[0].style.width)!=q){p.width(q);this.width=q}}else{var o=Math.round(j*(this.text.length/i.length));if(isNaN(o)){o=this.minwidth}if(o<0){$element=b("<span>"+this.text+"</span>");b(document.body).append($element);o=10+$element.width();$element.remove()}if(o<this.minwidth){o=this.minwidth}if(o>this.maxwidth){o=this.maxwidth}this._width="auto";this.width=o;p.width(this.width)}}if(parseInt(p[0].style.left)!=f){p.css("left",f)}if(!(this.hidden&&this.hideable)){f+=this.width}this._requirewidthupdate=true});this.columnsheader.width(2+f);g.width(this.columnsheader.width());if(this.showfilterrow&&this.filterrow){this.filterrow.width(this.columnsheader.width());this._updatefilterrowui()}},_rendercolumnheaders:function(){var w=this;if(!this.prerenderrequired){if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this.showfilterrow&&this.filterrow){this.filterrow.width(this.columnsheader.width());this._updatefilterrowui()}return}this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var g=b('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');g[0].cells=new Array();var l=0;var h=0;var p="";var r=this.host.width();var e=r;var v=new Array();var q=new Array();b.each(this.columns.records,function(j,k){if(!(this.hidden&&this.hideable)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){r-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){r-=this.maxwidth}else{if(this.width.toString().indexOf("%")!=-1){var k=0;k=parseInt(this.width)*e/100;if(k<this.minwidth&&this.minwidth!="auto"){k=this.minwidth}if(k>this.maxwidth&&this.maxwidth!="auto"){k=this.maxwidth}r-=k}else{if(typeof this.width=="string"){this.width=parseInt(this.width)}r-=this.width}}}}else{p+=this.text}}if(this.pinned){v[v.length]=this}else{q[q.length]=this}});for(var o=0;o<v.length;o++){this.columns.replace(o,v[o])}for(var m=0;m<q.length;m++){this.columns.replace(v.length+m,q[m])}var u=this.headerZIndex;var d=w.groupable?w.groups.length:0;if(this.rowdetails&&this.showrowdetailscolumn){d++}var n=w.columnsheader.height();if(this.showfilterrow){n=this.columnsheight}var f=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>f){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var s=this.dataview.loadedrootgroups.length*this.rowsheight;if(s>f){r-=this.scrollbarsize+5;e-=this.scrollbarsize+5}}else{r-=this.scrollbarsize+5;e-=this.scrollbarsize+5}}else{if(!this.autoheight){r-=this.scrollbarsize+5;e-=this.scrollbarsize+5}}}b.each(this.columns.records,function(N,K){var P=w.toTP("jqx-grid-column-header")+" "+w.toTP("jqx-widget-header");var y=b('<div style="position: absolute; height: 100%;" class="'+P+'"></div>');this.uielement=y;if(this.classname!=""&&this.classname){y.addClass(this.classname)}y.css("z-index",u--);var F=this.width;var H=false;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){F=parseInt(this._percentagewidth)*e/100}else{F=parseInt(this.width)*e/100}H=true}if(this.width!="auto"&&!this._width&&!H){if(F<this.minwidth&&this.minwidth!="auto"){F=this.minwidth}if(F>this.maxwidth&&this.maxwidth!="auto"){F=this.maxwidth}y.width(F)}else{if(H){if(F<this.minwidth&&this.minwidth!="auto"){F=this.minwidth}if(F>this.maxwidth&&this.maxwidth!="auto"){F=this.maxwidth}this._percentagewidth=this.width;y.width(F);this.width=F}else{var J=Math.round(r*(this.text.length/p.length));if(isNaN(J)){J=this.minwidth}if(J<0){$element=b("<span>"+this.text+"</span>");b(document.body).append($element);J=10+$element.width();$element.remove()}if(J<this.minwidth){J=this.minwidth}if(J>this.maxwidth){J=this.maxwidth}this._width="auto";this.width=J;F=this.width;y.width(this.width)}}if(this.hidden&&this.hideable){y.css("display","none")}var k=b('<div style="height: 100%; width: 100%;"></div>');var B=b('<div style="display: none; left: 100%; top: 0%; position: absolute;"></div>');var E=b('<div style="width: 100%; height:100%;"></div>');E.addClass(w.toTP("jqx-grid-column-menubutton"));E.appendTo(B);B.height(n);if(!w.enableanimations){B.css("margin-left",-16)}var G=b('<div class="sortasc" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');var I=b('<div class="sortdesc" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');var M=b('<div class="filtericon" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');if(!w.autoshowfiltericon&&this.filterable){M.css("display","block")}G.height(n);I.height(n);M.height(n);G.find("div").addClass(w.toTP("jqx-grid-column-sortascbutton"));I.find("div").addClass(w.toTP("jqx-grid-column-sortdescbutton"));M.find("div").addClass(w.toTP("jqx-grid-column-filterbutton"));this.sortasc=G[0];this.sortdesc=I[0];this.filtericon=M[0];this.columnsmenu=B[0];g[0].cells[N]=y[0];B.width(w.columnsmenuwidth);var A=w.columnsmenu;var x=false;var L=false;if((w.groupable&&d>0&&l<d)||(w.rowdetails&&l<d)){l++;A&=false;this.sortable=false;this.editable=false;L=true}else{var C=this.renderer!=null?this.renderer(this.text,this.align):w._rendercolumnheader(this.text,this.align);if(C==null){C=w._rendercolumnheader(this.text,this.align)}if(this.renderer!=null){C=b(C)}A&=true;x=true}k.append(C);if(C!=null){var D=b('<div class="iconscontainer" style="margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"></div>');B.addClass(w.toTP("jqx-widget-header"));D.height(n);k.append(D);D.append(M);D.append(G);D.append(I);I.addClass(w.toTP("jqx-widget-header"));G.addClass(w.toTP("jqx-widget-header"));M.addClass(w.toTP("jqx-widget-header"));this.iconscontainer=D}if(A){w._handlecolumnsmenu(w,k,y,B,this);if(!this.menu){B.hide()}}y.append(k);g.append(y);if(w.groupable&&x){y[0].id=w.dataview.generatekey();if(w._handlecolumnstogroupsdragdrop){w._handlecolumnstogroupsdragdrop(this,y)}else{alert("jqxgrid.grouping.js is not loaded")}}if(w.columnsreorder&&this.draggable){w._handlecolumnsdragreorder(this,y)}var O=this;w.addHandler(y,"click",function(i){if(w.sorttogglestates>0&&w._togglesort){w._togglesort(O)}i.preventDefault();w._raiseEvent(7,{column:O.getcolumnproperties(),datafield:O.datafield,originalEvent:i})});if(O.resizable&&w.columnsresize&&!L){var z=false;var j="mousemove";if(w.isTouchDevice()){z=true;j="touchstart"}w.addHandler(y,j,function(Q){var i=parseInt(Q.pageX);var S=5;var U=parseInt(y.offset().left);if(w.hasTransform){U=b.jqx.utilities.getOffset(y).left}if(w._handlecolumnsresize){if(z){var R=w.getTouches(Q);var T=R[0];i=T.pageX;S=40;if(i>=U+O.width-S){w.resizablecolumn={columnelement:y,column:O};y.css("cursor","col-resize")}else{y.css("cursor","");w.resizablecolumn=null}return true}if(i>=U+O.width-S){if(i<=U+O.width+S){w.resizablecolumn={columnelement:y,column:O};y.css("cursor","col-resize");return false}}else{y.css("cursor","");w.resizablecolumn=null}}})}y.css("left",h);if(!(this.hidden&&this.hideable)){h+=F}if(O.rendered){O.rendered(C);if(D!=null){D.hide()}}});if(h>0){this.columnsheader.width(2+h)}else{this.columnsheader.width(h)}this.columnsrow=g;w.columnsheader.append(g);if(this.showfilterrow&&this._updatefilterrow){g.height(this.columnsheight);if(!this.filterrow){var t=b("<div></div>");t[0].id="filterrow."+this.element.id;t.height(this.filterrowheight);this.filterrow=t}this.columnsheader.append(this.filterrow);this._updatefilterrow()}g.width(h);if(this._handlecolumnsdragdrop){this._handlecolumnsdragdrop()}if(this._handlecolumnsreorder){this._handlecolumnsreorder()}if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this._handlecolumnsresize){this._handlecolumnsresize()}},_handlecolumnsmenu:function(n,e,f,h,k){n.dragmousedown=null;h[0].id=n.dataview.generatekey();e.append(h);f[0].columnsmenu=h[0];k.element=f[0];var j=16;var m=function(){if(!k.menu){return false}if(!n.resizing){if(n.menuitemsarray.length>0){if(!n.enableanimations){h.css("display","block");k.iconscontainer.css("margin-left","-48px")}else{h.css("display","block");h.stop();k.iconscontainer.stop();h.css("margin-left","0px");h.animate({"margin-left":-j},"fast",function(){h.css("display","block")});k.iconscontainer.animate({"margin-left":-48},"fast")}}}};n.addHandler(f,"mouseenter",function(o){if(k.menu&&n.autoshowcolumnsmenubutton){m()}});if(!n.autoshowcolumnsmenubutton){h.css("display","block");k.iconscontainer.css("margin-left","-48px");h.css({"margin-left":-j})}n.addHandler(f,"mouseleave",function(o){if(n.menuitemsarray.length>0&&k.menu){var p=b.data(document.body,"contextmenu"+n.element.id);if(p!=undefined&&h[0].id==p.columnsmenu.id){return}if(n.autoshowcolumnsmenubutton){if(!n.enableanimations){h.css("display","none");k.iconscontainer.css("margin-left","-32px")}else{h.css("margin-left",-j);h.stop();k.iconscontainer.stop();h.animate({"margin-left":0},"fast",function(){h.css("display","none")});k.iconscontainer.animate({"margin-left":-32},"fast")}}}});var i=true;var d="";var g=b(k.filtericon);n.addHandler(h,"mousedown",function(o){i=!b.data(n.gridmenu[0],"contextMenuOpened"+n.gridmenu[0].id);d=b.data(document.body,"contextmenu"+n.element.id);if(d!=null){d=d.column.datafield}});n.addHandler(g,"mousedown",function(o){i=!b.data(n.gridmenu[0],"contextMenuOpened"+n.gridmenu[0].id);d=b.data(document.body,"contextmenu"+n.element.id);if(d!=null){d=d.column.datafield}});var l=function(){if(!k.menu){return false}var r=h.offset();var x=h.height();if(!i){i=true;if(d==k.datafield){n._closemenu();return false}}var u=n.host.offset();if(n.hasTransform){u=b.jqx.utilities.getOffset(n.host);r=b.jqx.utilities.getOffset(h)}if(u.left+n.host.width()>parseInt(r.left)+n.gridmenu.width()){n.gridmenu.jqxMenu("open",r.left,r.top+x)}else{n.gridmenu.jqxMenu("open",h.width()+r.left-n.gridmenu.width(),r.top+x)}if(n.gridmenu.width()<100){n._arrangemenu()}n._hasOpenedMenu=true;var v=n._getmenuitembyindex(0);var o=n._getmenuitembyindex(1);var z=n._getmenuitembyindex(2);var w=n._getmenuitembyindex(3);var p=n._getmenuitembyindex(4);var A=n._getmenuitembyindex(5);if(v!=null&&o!=null&&z!=null){var s=k.sortable&&n.sortable;n.gridmenu.jqxMenu("disable",v.id,!s);n.gridmenu.jqxMenu("disable",o.id,!s);n.gridmenu.jqxMenu("disable",z.id,!s);if(k.datafield){if(n.sortcolumn==k.datafield){var t=n.getsortinformation();if(s){if(t.sortdirection.ascending){n.gridmenu.jqxMenu("disable",v.id,true)}else{n.gridmenu.jqxMenu("disable",o.id,true)}}}else{n.gridmenu.jqxMenu("disable",z.id,true)}}}if(w!=null&&p!=null){if(!n.groupable||!k.groupable){n.gridmenu.jqxMenu("disable",p.id,true);n.gridmenu.jqxMenu("disable",w.id,true)}else{if(n.groups&&n.groups.indexOf(k.datafield)!=-1){n.gridmenu.jqxMenu("disable",w.id,true);n.gridmenu.jqxMenu("disable",p.id,false)}else{n.gridmenu.jqxMenu("disable",w.id,false);n.gridmenu.jqxMenu("disable",p.id,true)}}}if(A!=null){n._updatefilterpanel(n,A,k);var q=0;if(n.sortable&&n._togglesort&&n.showsortmenuitems){q+=3}if(n.groupable&&n.addgroup&&n.showgroupmenuitems){q+=2}var y=q*27+3;if(b.browser.msie&&b.browser.version<8){y+=20;b(A).height(190)}if(n.filterable&&n.showfiltermenuitems){if(!k.filterable){n.gridmenu.height(y);b(A).css("display","none")}else{n.gridmenu.height(y+176);b(A).css("display","block")}}}b.data(document.body,"contextmenu"+n.element.id,{column:k,columnsmenu:h[0]})};n.addHandler(g,"click",function(o){if(!k.menu){return false}if(!n.showfilterrow){m();l()}return false});n.addHandler(h,"click",function(o){if(!k.menu){return false}l();return false})},_removecolumnhandlers:function(h){var e=this;var f=b(h.element);if(f.length>0){e.removeHandler(f,"mouseenter");e.removeHandler(f,"mouseleave");var g=b(h.filtericon);e.removeHandler(g,"mousedown");e.removeHandler(g,"click");e.removeHandler(f,"click");if(f[0].columnsmenu){var d=b(f[0].columnsmenu);e.removeHandler(d,"click");e.removeHandler(d,"mousedown")}}},_rendercolumnheader:function(e,f){if(this.enableellipsis){if(f=="center"){return b('<div style="overflow: hidden; text-overflow: ellipsis; text-align: center;"><a href="#">'+e+"</a></div>")}var d=b('<a style="overflow: hidden; text-overflow: ellipsis; text-align: '+f+';" href="#">'+e+"</a>");return d}if(f=="center"){return b('<div style="text-align: center; margin-top: 5px;"><a href="#">'+e+"</a></div>")}var d=b('<a style="float: '+f+';" href="#">'+e+"</a>");return d},_renderrows:function(d){var g=this;if((this.pageable||this.groupable)&&this.autoheight){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length<this.dataview.rows.length){g.prerenderrequired=true}}if(!this.pageable&&this.autoheight&&(this.virtualmode||this.unboundmode)){var i=this.source.totalrecords;if(!isNaN(i)){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length!=i){g.prerenderrequired=true}}}g._prerenderrows(d);if(g._requiresupdate){g._requiresupdate=false;g._updatepageviews()}var f=function(){if(g._loading){return}if(g.WinJS){MSApp.execUnsafeLocalFunction(function(){g._rendervisualrows()})}else{g._rendervisualrows()}};if(this.virtualmode){var h=function(){if(g.rendergridrows){var m=g._startboundindex;if(m==undefined){m=0}var k=m+1+g.dataview.pagesize;if(m!=null&&k!=null){var l=g.source._source?true:false;var n=!l?g.source.recordstartindex:g.source._source.recordstartindex;if(n!=m){if(!l){g.source.recordstartindex=m;g.source.recordendindex=k}else{g.source._source.recordstartindex=m;g.source._source.recordendindex=k}g.updatebounddata()}}}};if(this.loadondemand){h();this.loadondemand=false}var e=this._browser==undefined?this._isIE10():this._browser;if(this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){f()}else{if(e||b.browser.mozilla||(navigator&&navigator.userAgent.indexOf("Safari")!=-1)){if(this._scrolltimer!=null){clearTimeout(this._scrolltimer)}this._scrolltimer=setTimeout(function(){f()},5)}else{f()}}}else{if(navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1){this.updatedelay=1}var e=this._browser==undefined?this._isIE10():this._browser;if(e){this.updatedelay=5}if(b.browser.mozilla&&this.updatedelay==0&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())){j=setTimeout(function(){f()},0.01);return}if(this.updatedelay==0){f()}else{var j=b.data(document.body,"Grid"+this.element.id);if(j!=null){clearTimeout(j)}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){j=setTimeout(function(){f()},this.updatedelay);b.data(document.body,"Grid"+this.element.id,j)}else{b.data(document.body,"Grid"+this.element.id,null);f()}}}},_renderhorizontalscroll:function(){var k=this.hScrollInstance;var n=k.value;var f=parseInt(n);if(this.table==null){return}var t=this.table[0].rows.length;var s=this.columnsrow;var m=this.groupable&&this.groups.length>0?this.groups.length:0;var r=this.columns.records.length-m;var h=this.columns.records;var q=this.dataview.rows.length==0;if(q){for(var l=0;l<m+r;l++){var g=h[l];if(!g.pinned){var p=s[0].cells[l];p.style.marginLeft=-f+"px"}}}else{for(var o=0;o<t;o++){var d=this.table[0].rows[o];for(var l=0;l<m+r;l++){var e=d.cells[l];if(e!=undefined){var g=h[l];if(!g.pinned){e.style.marginLeft=-f+"px";if(o==0){var p=s[0].cells[l];p.style.marginLeft=-f+"px"}}}}}}if(this.showaggregates){if(this.statusbar[0].cells){for(var l=0;l<m+r;l++){var e=this.statusbar[0].cells[l];if(e!=undefined){var g=h[l];if(!g.pinned){e.style.marginLeft=-f+"px";if(o==0){var p=s[0].cells[l];p.style.marginLeft=-f+"px"}}}}}}if(this.showfilterrow&&this.filterrow){if(this.filterrow[0].cells){for(var l=0;l<m+r;l++){var e=this.filterrow[0].cells[l];if(e!=undefined){var g=h[l];if(!g.pinned){e.style.marginLeft=-f+"px";if(o==0){var p=s[0].cells[l];p.style.marginLeft=-f+"px"}}}}}}if(this.editcell&&!this.editrow){if(this._showcelleditor&&this.editcell.editing){this._showcelleditor(this.editcell.row,this.getcolumn(this.editcell.column),this.editcell.element,this.editcell.init)}}},_updaterowdetailsvisibility:function(){if(this.rowdetails){for(var d=0;d<this._rowdetailselementscache.length;d++){b(this._rowdetailselementscache[d]).css("display","none")}}},_getvisualcolumnsindexes:function(e,m,i,l,d){if(this.rowdetails){return{start:0,end:i+l}}var f=0;var k=-1;var g=i+l;var n=false;if(!d){for(var h=0;h<i+l;h++){var o=h;if(!n){if(this.columns.records[h].pinned){n=true}}if(!this.columns.records[h].hidden){f+=this.columns.records[h].width}if(f>=e&&k==-1){k=h}if(f>m+e){g=h;break}}}g++;if(g>i+l){g=i+l}if(k==-1||n){k=0}return{start:k,end:g}},_rendervisualrows:function(){if(!this.virtualsizeinfo){return}var M=this.vScrollInstance;var m=this.hScrollInstance;var f=M.value;var w=m.value;var l=parseInt(f);var h=parseInt(w);var t=this._gettableheight();var B=this._hostwidth!=undefined?this._hostwidth:this.host.width();if(this.hScrollBar[0].style.visibility=="visible"){t+=this.rowsheight}var x=this.groupable&&this.groups.length>0;this.visiblerows=new Array();this.hittestinfo=new Array();if(this.editcell&&this.editrow==undefined){this._hidecelleditor()}if(this.editrow!=undefined){this._hideeditors()}if(this.virtualmode&&!this.pageable){this._pagescache=new Array()}if(this._pagescache.length==0){this.dataview.updateview();this._loadrows()}if(this.vScrollBar[0].style.visibility!="visible"){l=0}if(!this.pageable){var D=this._findvisiblerow(l,this._pageviews);if(D==-1){this._clearvisualrows();this._renderemptyrow();this._updaterowdetailsvisibility();return}if(D!=this.dataview.pagenum){this.dataview.pagenum=D;this.dataview.updateview();this._loadrows()}else{if(!this._pagescache[this.dataview.pagenum]){this._loadrows()}}}var W=this.groupable&&this.groups.length>0?this.groups.length:0;var o=this.columns.records.length-W;var P=this._findvisiblerow(l,this._pagescache[this.dataview.pagenum]);var E=this._pagescache[this.dataview.pagenum];var I=P;if(I<0){I=0}var R=0;var O=0;var H=0;var e=0;var J=this.virtualsizeinfo.visiblerecords;var G=this.groupable?this.groups.length:0;var v=this.toTP("jqx-grid-cell");if(x){v=" "+this.toTP("jqx-grid-group-cell")}if(this.isTouchDevice()){v+=" "+this.toTP("jqx-touch")}if(this.autorowheight){v+=" jqx-grid-cell-wrap"}var F=this.rowsheight;var A=I;var V=this._rendercell;var p=true;var n=this._getvisualcolumnsindexes(h,B,W,o,x);var d=n.start;var N=n.end;if(this.autoheight&&this.autorowheight){this._oldpageviewheight=this._pageviews[0].height}if(I>=0){this._updaterowdetailsvisibility();this._startboundindex=E!=null?E[I].bounddata.boundindex:0;for(var k=0;k<J&&O<J;k++){var Q=E!=undefined?E[I+k]:null;if(Q==null){I=-k;if(this._pagescache[this.dataview.pagenum+1]){E=this._pagescache[this.dataview.pagenum+1];this.dataview.pagenum++}else{var q=this._pageviews.length;do{if(this.dataview.pagenum<this._pageviews.length-1){this.dataview.pagenum++;E=undefined;if(this._pageviews[this.dataview.pagenum].height>0){this.dataview.updateview();this._loadrows();E=this._pagescache[this.dataview.pagenum]}}else{E=undefined;break}}while(E==undefined&&this.dataview.pagenum<q)}if(E!=undefined){Q=E[I+k]}}if(Q!=null){if(Q.hidden){continue}this._endboundindex=this._startboundindex+k;if(k==0){var j=Math.abs(l-Q.top);this.table[0].style.top=-j+"px";e=-j}var g=this.table[0].rows[O];if(!g){continue}if(parseInt(g.style.height)!=Q.height){g.style.height=parseInt(Q.height)+"px"}H+=Q.height;var L=this.rowdetails&&Q.rowdetails;var s=!Q.rowdetailshidden;if(L&&s){g.style.height=parseInt(Q.height-Q.rowdetailsheight)+"px";J++}var C=this._isrowselected(p,Q);for(var K=d;K<N;K++){var T=K;this._rendervisualcell(V,v,C,L,s,x,G,g,Q,T,O)}if(this.autorowheight&&this.autoheight){var F=this.rowsheight;for(var K=d;K<N;K++){F=Math.max(F,8+b(g.cells[K].firstChild).height())}g.style.height=parseInt(F)+"px";this.heights[this._startboundindex+k]=F;if(L&&s){F+=Q.rowdetailsheight}Q.height=F}if(Q.group!=undefined&&this._rendergroup){this._rendergroup(G,g,Q,W,o,O)}this.visiblerows[this.visiblerows.length]=Q;this.hittestinfo[this.hittestinfo.length]={row:Q,visualrow:g,details:false};if(L&&s){O++;var g=this.table[0].rows[O];this._renderrowdetails(v,g,Q,W,o,O);this.visiblerows[this.visiblerows.length]=Q;this.hittestinfo[this.hittestinfo.length]={row:Q,visualrow:g,details:true}}if(H+e>=t){break}}else{cansetheight=true;this._clearvisualrow(h,x,O,W,o);if(H+R+e<=t){R+=F}}O++}this._horizontalvalue=h;if(R>0){if(this.vScrollBar[0].style.visibility=="visible"){var U=parseInt(this.table.css("top"));var z=this._pageviews[this._pageviews.length-1];var r=M.max;var y=z.top+z.height-t;if(this.hScrollBar.css("visibility")=="visible"){y+=this.scrollbarsize+20}if(r!=y){if(y>=0){M.max=y;M.setPosition(M.max)}}}}}if(this.autoheight&&this.autorowheight){this._pagescache=new Array();this._loadrows();this.visiblerows=new Array();for(var S=0;S<this._pagescache[this.dataview.pagenum].length;S++){var u=this._pagescache[this.dataview.pagenum][S];this.visiblerows[this.visiblerows.length]=u;var L=this.rowdetails&&u.rowdetails;var s=!u.rowdetailshidden;if(L&&s){this.visiblerows[this.visiblerows.length]=u}}this._arrange()}this._renderemptyrow()},_renderemptyrow:function(){if(this._loading){return}if(this.dataview.records.length==0&&this.showemptyrow){var j=false;if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var h=this.table[0].rows[0];for(var e=0;e<h.cells.length;e++){var d=b(h.cells[e]);if(d.css("display")!="none"&&!j){j=true;d[0].innerHTML="";var f=b("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");f.text(this.gridlocalization.emptydatastring);d.append(f);f.css("left",-f.width()/2);f.css("top",this._gettableheight()/2-f.height()/2);var g=Math.abs(parseInt(this.table[0].style.top));if(isNaN(g)){g=0}b(h).height(this._gettableheight()+g);d.css("margin-left","0px");d.width(this.host.width())}d.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords;var f=this.hScrollInstance;var d=f.value;var g=parseInt(d);var i=this.groupable&&this.groups.length>0;for(var h=0;h<e;h++){this._clearvisualrow(g,i,h,0,this.columns.records.length)}},_isrowselected:function(f,e){var d=false;if(f&&e.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.selectedrowindexes.indexOf(e.bounddata.boundindex)!=-1){d=true}}else{if(e.bounddata.boundindex==this.selectedrowindex){d=true}}}return d},_rendervisualcell:function(w,i,n,k,q,u,j,o,d,h,p){var f=null;var g=this.columns.records[h];if(g.hidden){var e=o.cells[h];e.innerHTML="";return}cellvalue=this._getcellvalue(g,d);var e=o.cells[h];var t=i;if(g.cellclassname!=""&&g.cellclassname){t+=" "+g.cellclassname}if(this.selectionmode.indexOf("cell")!=-1){if(this.selectedcells[d.boundindex+"_"+g.datafield]){n=true}else{n=false}}var m=this.showsortcolumnbackground&&this.sortcolumn&&g.datafield==this.sortcolumn;if(m){t+=" "+this.toTP("jqx-grid-cell-sort")}if(g.filter&&this.showfiltercolumnbackground){t+=" "+this.toTP("jqx-grid-cell-filter")}if(g.pinned&&this.showpinnedcolumnbackground){t+=" "+this.toTP("jqx-grid-cell-pinned")}if(this.altrows&&d.group==undefined){var v=d.visibleindex;if(v>=this.altstart){if((this.altstart+v)%(1+this.altstep)==0){if(!m){t+=" "+this.toTP("jqx-grid-cell-alt")}else{t+=" "+this.toTP("jqx-grid-cell-sort-alt")}if(g.filter&&this.showfiltercolumnbackground){t+=" "+this.toTP("jqx-grid-cell-filter-alt")}if(g.pinned&&this.showpinnedcolumnbackground){t+=" "+this.toTP("jqx-grid-cell-pinned-alt")}}}}if(h<=j){if(u||this.rowdetails){var r=b(e);var l=this.columns.records[h].width;if(parseInt(e.style.width)!=l){r.width(l)}}}var s=true;if(this.rowdetails&&k){if(q&&!u){t+=" "+this.toTP("jqx-grid-details-cell")}else{if(u){t+=" "+this.toTP("jqx-grid-group-details-cell")}}if(this.showrowdetailscolumn){if(d.group==undefined&&h==j){if(q){t+=" "+this.toTP("jqx-grid-group-expand")}else{t+=" "+this.toTP("jqx-grid-group-collapse")}s=false}}}if(n&&s){t+=" "+this.toTP("jqx-grid-cell-selected");t+=" "+this.toTP("jqx-fill-state-pressed")}if(e.className!=t){e.className=t}if(d.group!=undefined){cellvalue="";e.title="";e.innerHTML="";return}w(this,g,d,cellvalue,e)},_rendercell:function(j,f,m,l,e){var g=m.uniqueid+"_"+f.visibleindex;if(j.editcell&&j.editrow==undefined){if(j.editcell.row==m.boundindex&&j.editcell.column==f.datafield){j.editcell.element=e;if(j.editcell.editing){if(j._showcelleditor){j._showcelleditor(j.editcell.row,f,j.editcell.element,j.editcell.init);return}}}}else{if(j.editrow!=undefined){if(j.editrow==m.boundindex){j.editcells[f.datafield].element=e;if(j.editcells[f.datafield].editing){if(j._showcelleditor){j._showcelleditor(j.editcells[f.datafield].row,f,e,j.editcells[f.datafield].init);return}}}}}var i=j._cellscache[g];if(i){if(f.columntype=="checkbox"){if(j.host.jqxCheckBox){if(l===""){l=null}var h=e.innerHTML.toString().length==0;if(e.checkbox&&!j.groupable&&!h){e.checkboxrow=m.boundindex;if(l==""){l=false}if(l=="1"){l=true}if(l=="0"){l=false}if(l==1){l=true}if(l==0){l=false}if(l=="true"){l=true}if(l=="false"){l=false}e.checkbox.jqxCheckBox("_setState",l)}else{j._rendercheckboxcell(j,e,f,m,l)}return}}else{if(f.columntype=="button"){if(j.host.jqxButton){if(l==""){l=false}if(f.cellsrenderer!=null){l=f.cellsrenderer(m.boundindex,f.datafield,l,k,f.getcolumnproperties())}if(e.button&&!j.groupable){e.buttonrow=m.boundindex;e.button.val(l)}else{j._renderbuttoncell(j,e,f,m,l)}return}}}var d=i.element;if(e.innerHTML!=d){e.innerHTML=d;if(j.enabletooltips){e.title=i.title}}return}if(j.enabletooltips){if(f.cellsformat!=""){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isNumber(l)){l=b.jqx.dataFormat.formatnumber(l,f.cellsformat,j.gridlocalization)}else{if(b.jqx.dataFormat.isDate(l)){l=b.jqx.dataFormat.formatdate(l,f.cellsformat,j.gridlocalization)}}}}e.title=l}if(f.columntype=="checkbox"){j._rendercheckboxcell(j,e,f,m,l);j._cellscache[g]={element:"",title:l};return}else{if(f.columntype=="button"){if(f.cellsrenderer!=null){l=f.cellsrenderer(m.boundindex,f.datafield,l,k,f.getcolumnproperties())}j._renderbuttoncell(j,e,f,m,l);j._cellscache[g]={element:"",title:l};return}else{if(f.columntype=="number"){l=m.visibleindex}}}var k=j._defaultcellsrenderer(l,f);var d=null;if(f.cellsrenderer!=null){d=f.cellsrenderer(m.boundindex,f.datafield,l,k,f.getcolumnproperties())}else{d=k}if(d==null){d=k}if(j.WinJS){WinJS.Utilities.setInnerHTMLUnsafe(e,d)}else{e.innerHTML=d}j._cellscache[g]={element:e.innerHTML,title:l};return true},_isIE10:function(){if(this._browser==undefined){var d=b.jqx.utilities.getBrowser();if(d.browser=="msie"&&parseInt(d.version)>9){this._browser=true}else{this._browser=false}}return this._browser},_rendercheckboxcell:function(f,d,e,j,g){if(f.host.jqxCheckBox){var i=b(d);if(g===""){g=null}if(g=="1"){g=true}if(g=="0"){g=false}if(g==1){g=true}if(g==0){g=false}if(g=="true"){g=true}if(g=="false"){g=false}if(i.find(".jqx-checkbox").length==0){d.innerHTML='<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>';b(d.firstChild).jqxCheckBox({hasThreeStates:e.threestatecheckbox,enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,locked:true,theme:f.theme,checked:g});if(this.editable&&e.editable){b(d.firstChild).jqxCheckBox({locked:false})}d.checkbox=b(d.firstChild);d.checkboxrow=j.boundindex;var h=b.data(d.firstChild,"jqxCheckBox").instance;h.updated=function(n,m,p){if(e.editable){var o=f.table[0].rows.length;var r=f._getcolumnindex(e.datafield);if(f.editrow==undefined){if(e.cellbeginedit){var q=e.cellbeginedit(j.boundindex,e.datafield,e.columntype,!m);if(q==false){f.setcellvalue(d.checkboxrow,e.datafield,!m,true);return}}for(var l=0;l<o;l++){var k=f.table[0].rows[l].cells[r].firstChild;b(k).jqxCheckBox("destroy")}if(f.editcell&&f.editcell.validated==false){f.setcellvalue(d.checkboxrow,e.datafield,!m,true)}else{f._raiseEvent(17,{rowindex:d.checkboxrow,datafield:e.datafield,value:p,columntype:e.columntype});f.setcellvalue(d.checkboxrow,e.datafield,m,true);f._raiseEvent(18,{rowindex:d.checkboxrow,datafield:e.datafield,oldvalue:p,value:m,columntype:e.columntype})}}}}}else{d.checkboxrow=j.boundindex;b(d.firstChild).jqxCheckBox("_setState",g)}}},_renderbuttoncell:function(f,d,e,i,g){if(f.host.jqxButton){var h=b(d);if(g==""){g=false}if(h.find(".jqx-button").length==0){d.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>';b(d.firstChild).val(g);b(d.firstChild).attr("hideFocus","true");b(d.firstChild).jqxButton({theme:f.theme,height:f.rowsheight-4,width:e.width-4});d.button=b(d.firstChild);d.buttonrow=i.boundindex;b(d.firstChild).bind("click",function(j){if(e.buttonclick){e.buttonclick(d.buttonrow,j)}})}else{d.buttonrow=i.boundindex;b(d.firstChild).val(g)}}},_clearvisualrow:function(g,f,o,i,n){var m=this.toTP("jqx-grid-cell");if(f){m=" "+this.toTP("jqx-grid-group-cell")}var p=this.table[0].rows;for(var k=0;k<i+n;k++){if(p[o]){var e=p[o].cells[k];if(e.className!=m){e.className=m}var d=this.columns.records[k];if(this._horizontalvalue!=g&&!d.pinned){var h=-g;e.style.marginLeft=-g+"px"}var l=d.width;if(l<d.minwidth){l=d.minwidth}if(l>d.maxwidth){l=d.maxwidth}if(parseInt(e.style.width)!=l){b(e).width(l)}if(e.title!=""){e.title=""}if(e.innerHTML!=""){e.innerHTML=""}}}if(p[o]){if(parseInt(p[o].style.height)!=this.rowsheight){b(p[o]).height(this.rowsheight)}}},_findgroupstate:function(e){var d=this._findgroup(e);if(d==null){return false}return d.expanded},_findgroup:function(e){var d=null;if(this.expandedgroups[e]){return this.expandedgroups[e]}return d},_clearcaches:function(){this._columnsbydatafield=new Array();this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this.heights=new Array();this.hiddens=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();this.details=new Array();this.expandedgroups=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();if(b.jqx.dataFormat){b.jqx.dataFormat.cleardatescache()}this.tableheight=null},_getColumnText:function(d){if(this._columnsbydatafield==undefined){this._columnsbydatafield=new Array()}if(this._columnsbydatafield[d]){return this._columnsbydatafield[d]}var f=d;var e=null;b.each(this.columns.records,function(){if(this.datafield==d){f=this.text;e=this;return false}});this._columnsbydatafield[d]={label:f,column:e};return this._columnsbydatafield[d]},isscrollingvertically:function(){var d=(this.vScrollBar.jqxScrollBar("isScrolling"));return d},_renderrowdetails:function(n,t,d,s,l,v){var x=b(t);var g=0;var p=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;if(this.groupable&&this.groups.length>0){for(var o=0;o<=l;o++){var e=b(t.cells[o]);e[0].innerHTML="";e[0].className="jqx-grid-details-cell"}}var e=b(t.cells[g]);e.css("width","100%");x.height(d.rowdetailsheight);e[0].className=n;var m=d.bounddata.boundindex;var j=m+"_";if(this._rowdetailscache[j]){var q=this._rowdetailscache[j];var w=q.html;if(this.initrowdetails){if(this._rowdetailscache[j].element){var f=this._rowdetailscache[j].element;var i=e.offset();var u=this.gridcontent.offset();var r=parseInt(i.top)-parseInt(u.top);var k=parseInt(i.left)-parseInt(u.left);b(f).css("top",r);b(f).css("left",k);b(f).css("display","block")}}else{e[0].innerHTML=w}return}e[0].innerHTML="";if(!this.enablerowdetailsindent){p=0}var h='<div style="overflow: hidden; width: 100%; height: 100%; margin-left: '+p+'px;">'+d.rowdetails+"</div>";this._rowdetailscache[j]={id:t.id,html:h};if(this.initrowdetails){var f=b(h)[0];b(this.gridcontent).prepend(b(f));b(f).css("position","absolute");b(f).width(this.host.width()-p);b(f).height(e.height());var i=e.offset();b(f).css("z-index",2000);if(this.isTouchDevice()){b(f).css("z-index",99999)}var i=e.offset();var u=this.gridcontent.offset();var r=parseInt(i.top)-parseInt(u.top);var k=parseInt(i.left)-parseInt(u.left);b(f).css("top",r);b(f).css("left",k);this.content[0].scrollTop=0;this.content[0].scrollLeft=0;this.initrowdetails(m,f,this.element,this.getrowdata(m));this._rowdetailscache[j].element=f;this._rowdetailselementscache[m]=f}else{e[0].innerHTML=h}},_defaultcellsrenderer:function(e,d){if(d.cellsformat!=""){if(!this.enabletooltips){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isDate(e)){e=b.jqx.dataFormat.formatdate(e,d.cellsformat,this.gridlocalization)}else{if(b.jqx.dataFormat.isNumber(e)){e=b.jqx.dataFormat.formatnumber(e,d.cellsformat,this.gridlocalization)}}}}}if(this.enableellipsis){if(d.cellsalign=="center"){return'<div style="text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: 5px;">'+e+"</div>"}if(d.cellsalign=="left"){return'<div style="overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin: 4px;">'+e+"</div>"}if(d.cellsalign=="right"){return'<div style="overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin: 4px;">'+e+"</div>"}}if(d.cellsalign=="center"){return'<div style="text-align: center; margin-top: 5px;">'+e+"</div>"}return'<span style="margin: 4px; float: '+d.cellsalign+';">'+e+"</span>"},_getcellvalue:function(d,f){var e=null;e=f.bounddata[d.datafield];if(e==null){e=""}return e},getcell:function(h,d){if(h==null||d==null){return null}var e=parseInt(h);var g=h;var f="";if(!isNaN(e)){g=this.getrowdata(e)}if(g!=null){f=g[d]}return this._getcellresult(f,h,d)},getrenderedcell:function(h,d){if(h==null||d==null){return null}var e=parseInt(h);var g=h;var f="";if(!isNaN(e)){g=this.getrenderedrowdata(e)}if(g!=null){f=g[d]}return this._getcellresult(f,h,d)},_getcellresult:function(k,n,e){var f=this.getcolumn(e);if(f==null||f==undefined){return null}var i=f.getcolumnproperties();var g=i.hidden;var d=i.width;var m=i.pinned;var h=i.cellsalign;var j=i.cellsformat;var l=this.getrowheight(n);if(l==false){return null}return{value:k,row:n,column:e,width:d,height:l,hidden:g,pinned:m,align:h,format:j}},setcellvalue:function(j,q,t,f,n){if(j==null||q==null){return false}var e=parseInt(j);var i=e;var g=j;if(!isNaN(e)){g=this.getrowdata(e)}var r=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){r=true}if(this.virtualmode){this._pagescache=new Array()}var m="";if(g!=null&&g[q]!=t){m=g[q];if(b.jqx.dataFormat.isNumber(m)){t=new Number(t);t=parseFloat(t);if(isNaN(t)){t=0}}g[q]=t;var w=this.getrenderedrowdata(e,true);w[q]=t;if(r){i=g.dataindex;this.dataview.cachedrecords[g.dataindex][q]=t}}else{this._renderrows(this.virtualsizeinfo);return false}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates){if(this.source._source._localdata){var s=this.source._source._localdata()[e];this.source.suspendKO=true;this.source._source._localdata.replace(s,b.extend({},g));this.source.suspendKO=false}}if(this.sortcolumn&&this.dataview.sortby){var o=this.getsortinformation();this.dataview.clearsortdata();this.dataview.sortby(o.sortcolumn,o.sortdirection.ascending)}this._cellscache=new Array();if(this.source.updaterow&&(n==undefined||n==true)){var l=false;var v=this;var p=function(x){if(false==x){v.setcellvalue(j,q,m,true,false)}};try{var k=this.getrowid(i);l=this.source.updaterow(k,g,p);if(l==undefined){l=true}}catch(u){l=false;v.setcellvalue(j,q,m,true,false);return}}var h=this.vScrollInstance.value;if(this._updating&&f==undefined){f=false}if(f==true||f==undefined){var v=this;var d=function(){if(v.pageable&&v.updatepagerdetails){v.updatepagerdetails();if(v.autoheight){v._updatepageviews()}}};if(r){this.dataview.refresh();this.rendergridcontent(true,true);d()}else{if(this.sortcolumn){this.dataview.reloaddata();this.rendergridcontent(true,true);d()}else{if(this.groupable&&this.groups.length>0){this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}else{this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}}}this.vScrollInstance.setPosition(h);if(this.showaggregates&&this._updatecolumnsaggregates){this._updatecolumnsaggregates()}this._raiseEvent(19,{rowindex:j,datafield:q,newvalue:t,oldvalue:m});return true},getcellvalue:function(h,d){if(h==null||d==null){return null}var e=parseInt(h);var g=h;if(!isNaN(e)){g=this.getrowdata(e)}if(g!=null){var f=g[d];return f}return null},getrows:function(){var f=this.dataview.records.length;if(this.dataview.sortdata){var g=new Array();for(var d=0;d<f;d++){var e={};e=b.extend({},this.dataview.sortdata[d].value);g[d]=e}return g}else{return this.dataview.records}},getrowdata:function(d){if(d==undefined){d=0}if(this.virtualmode){var e=this.dataview.records[d];return e}else{if(d>=0&&d<this.dataview.bounditems.length){var e=this.dataview.records[d];return e}}return null},getrenderedrowdata:function(d,f){if(d==undefined){d=0}if(this.virtualmode){var g=this.getrowvisibleindex(d);var e=this.dataview.loadedrecords[g];return e}if(d>=0&&d<this.dataview.bounditems.length){if(this.groupable&&this.groups.length>0){var g=this.getrowvisibleindex(d);var e=this.dataview.loadedrecords[g]}else{var e=this.dataview.loadedrecords[d];if(this.pageable&&(f==undefined||f==false)){var e=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+d]}}return e}return null},getloadedrows:function(){return this.dataview.loadedrecords},getvisiblerows:function(){if(this.virtualmode){return this.dataview.loadedrecords}if(this.pageable){var f=[];for(var e=0;e<this.dataview.pagesize;e++){var d=this.dataview.loadedrecords[e+(this.dataview.pagesize*this.dataview.pagenum)];if(d==undefined){break}f.push(d)}return f}else{if(this._startboundindex!=undefined&&this._endboundindex!=undefined){var f=[];for(var e=this._startboundindex;e<=this._endboundindex;e++){var d=this.dataview.loadedrecords[e];if(d==undefined){break}f.push(d)}return f}}return this.dataview.loadedrecords},getrowid:function(d){if(d==undefined){d=0}if(this.virtualmode){var f=this.getrowvisibleindex(d);var e=this.dataview.loadedrecords[f];if(e){return e.uid}}else{var e=null;if(d>=0&&d<this.dataview.bounditems.length){if(this.groupable&&this.groups.length>0){var f=this.getrowvisibleindex(d);var e=this.dataview.loadedrecords[f]}else{var e=this.dataview.loadedrecords[d]}if(e){return e.uid}}}return null},_updateGridData:function(){var d=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){d=true}if(d){this.dataview.refresh();this.render()}else{if(this.sortcolumn||(this.groupable&&this.groups.length>0)){this.dataview.reloaddata();this.render()}else{this._cellscache=new Array();this._pagescache=new Array();this._renderrows(this.virtualsizeinfo)}}},updaterow:function(i,k,g){if(i!=undefined&&k!=undefined){var h=this;var j=false;h._datachanged=true;var e=function(o,n,s){var q=false;if(!b.isArray(n)){q=o.dataview.updaterow(n,s)}else{b.each(n,function(t,u){q=o.dataview.updaterow(this,s[t],false)});o.dataview.refresh()}var r=o.vScrollInstance.value;if(g==undefined||g==true){if(o._updating==undefined||o._updating==false){o._updateGridData()}}if(o.showaggregates&&o._updatecolumnsaggregates){o._updatecolumnsaggregates()}if(o.source&&o.source._knockoutdatasource&&!o._updateFromAdapter&&o.autokoupdates){if(o.source._source._localdata){var m=o.dataview.recordsbyid["id"+n];var p=o.dataview.records.indexOf(m);var l=o.source._source._localdata()[p];o.source.suspendKO=true;o.source._source._localdata.replace(l,b.extend({},m));o.source.suspendKO=false}}o.vScrollInstance.setPosition(r);return q};if(this.source.updaterow){var d=function(l){if(l==true||l==undefined){e(h,i,k)}};try{j=this.source.updaterow(i,k,d);if(j==undefined){j=true}}catch(f){j=false}}else{j=e(h,i,k)}return j}return false},deleterow:function(h){if(h!=undefined){this._datachanged=true;var i=false;var g=this;var e=function(k,j){var l=false;var m=k.vScrollInstance.value;if(!b.isArray(j)){var l=k.dataview.deleterow(j)}else{b.each(j,function(){l=k.dataview.deleterow(this,false)});k.dataview.refresh()}if(k._updating==undefined||k._updating==false){k._render(true,true,false,false);if(k.vScrollBar.css("visibility")!="visible"){k._arrange();k._updatecolumnwidths();k._updatecellwidths();k._renderrows(k.virtualsizeinfo)}}if(k.source&&k.source._knockoutdatasource&&!k._updateFromAdapter&&k.autokoupdates){if(k.source._source._localdata){k.source.suspendKO=true;k.source._source._localdata.pop(rowdata);k.source.suspendKO=false}}k.vScrollInstance.setPosition(m);return l};if(this.source.deleterow){var d=function(j){if(j==true||j==undefined){e(g,h)}};try{this.source.deleterow(h,d);if(i==undefined){i=true}}catch(f){i=false}}else{i=e(g,h)}return i}return false},addrow:function(i,l,d){if(l!=undefined){this._datachanged=true;if(d==undefined){d="last"}var k=false;var h=this;var g=function(n,m,q,e){var p=n.vScrollInstance.value;var o=false;if(!b.isArray(q)){o=n.dataview.addrow(m,q,e)}else{b.each(q,function(r,s){var t=null;if(m!=null&&m[r]!=null){t=m[r]}o=n.dataview.addrow(t,this,e,false)});n.dataview.refresh()}if(n._updating==undefined||n._updating==false){n._render(true,true,false,false)}if(n.source&&n.source._knockoutdatasource&&!n._updateFromAdapter&&n.autokoupdates){if(n.source._source._localdata){n.source.suspendKO=true;n.source._source._localdata.push(q);n.source.suspendKO=false}}n.vScrollInstance.setPosition(p);return o};if(this.source.addrow){var f=function(e){if(e==true||e==undefined){g(h,i,l,d)}};try{k=this.source.addrow(l.uid,l,d,f);if(k==undefined){k=true}}catch(j){k=false}if(k==false){return false}}else{g(this,i,l,d)}return k}return false},_findvisiblerow:function(g,h){if(g==undefined){g=parseInt(this.vScrollInstance.value)}var e=0;if(h==undefined||h==null){h=this.rows.records}var d=h.length;while(e<=d){mid=parseInt((e+d)/2);var f=h[mid];if(f==undefined){break}if(f.top>g&&f.top+f.height>g){d=mid-1}else{if(f.top<g&&f.top+f.height<g){e=mid+1}else{return mid;break}}}return -1},_updatecellwidths:function(){var f=this.virtualsizeinfo;var p=this;if(this.gridcontent==undefined){return}if(this.table==undefined){this.table=this.gridcontent.find("#contenttable"+this.element.id)}var k=this.groupable&&this.groups.length>0;var q=0;var l=f.visiblerecords;if(this.pageable&&this.autoheight){l=this.dataview.pagesize;if(this.groupable){this.dataview.updateview();l=this.dataview.rows.length}}if(!this.pageable&&this.autoheight){l=this.dataview.totalrecords}if(this.rowdetails){l+=this.dataview.pagesize}var r=this.columns.records.length;var t=this.table[0].rows;for(var n=0;n<l;n++){var d=t[n];if(!d){break}var s=d.cells;var h=0;for(var m=0;m<r;m++){var g=this.columns.records[m];var e=g.width;var o=b(s[m]);if(parseInt(o[0].style.left)!=h){o.css("left",h)}if(parseInt(o[0].style.width)!=e){o.width(e)}o[0].left=h;if(!(g.hidden&&g.hideable)){h+=e}else{o.css("display","none")}}if(q==0){this.table.width(parseInt(h)+2);q=h}}if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}if(this.showfilterrow&&this.filterable&&this._updatefilterrowui){this._updatefilterrowui()}this._updatescrollbarsafterrowsprerender()},_updatescrollbarsafterrowsprerender:function(){var d=this.hScrollBar.css("visibility");var f=0;if(this.vScrollBar.css("visibility")=="visible"){f=this.scrollbarsize+3}if(this.table.width()-2>this.host.width()-f){if(d!="visible"){this.hScrollBar.css("visibility","visible");this._arrange()}if(this.vScrollBar.css("visibility")=="visible"){var e=this.vScrollBar.jqxScrollBar("max");this.vScrollBar.jqxScrollBar("max",e+this.scrollbarsize+4)}this.hScrollBar.jqxScrollBar("max",f+this.table.width()-this.host.width())}else{if(d!="hidden"){this.hScrollBar.css("visibility","hidden");this._arrange()}}this._renderhorizontalscroll()},_prerenderrows:function(f){var s=this;if(this.prerenderrequired==true){this.prerenderrequired=false;if(this.editable&&this._destroyeditors){this._destroyeditors()}if(this.gridcontent==undefined){return}this.gridcontent.find("#contenttable"+this.element.id).remove();if(this.table!=null){this.table.remove();this.table=null}this.table=b('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>');this.gridcontent.addClass(this.toTP("jqx-grid-content"));this.gridcontent.addClass(this.toTP("jqx-widget-content"));this.gridcontent.append(this.table);var k=this.groupable&&this.groups.length>0;var t=0;this.table[0].rows=new Array();var r=this.toTP("jqx-grid-cell");if(k){r=" "+this.toTP("jqx-grid-group-cell")}var m=f.visiblerecords;if(this.pageable&&this.autoheight){m=this.dataview.pagesize;if(this.groupable){this.dataview.updateview();m=this.dataview.rows.length}}if(!this.pageable&&this.autoheight){m=this.dataview.totalrecords}if(this.groupable&&this.autoheight&&!this.pageable){m=this.dataview.rows.length}if(this.rowdetails){m+=this.dataview.pagesize}var u=this.columns.records.length;if(b.browser.msie&&b.browser.version>8){this.table.css("opacity","0.99")}if(b.browser.mozilla){this.table.css("opacity","0.99")}if(navigator.userAgent.indexOf("Safari")!=-1){this.table.css("opacity","0.99")}var l=b.browser.msie&&b.browser.version<8;if(l){this.host.attr("hideFocus","true")}var v=this.tableZIndex;if(m*u>v){v=m*u}var q=this.dataview.records.length==0;for(var o=0;o<m;o++){var d=b('<div style="position: relative;" id="row'+o+this.element.id+'"></div>');var h=0;this.table[0].rows[o]=d[0];this.table[0].rows[o].cells=new Array();for(var n=0;n<u;n++){var g=this.columns.records[n];var e=g.width;if(e<g.minwidth){e=g.minwidth}if(e>g.maxwidth){e=g.maxwidth}var p=b('<div style="overflow: hidden; position: absolute; height: 100%; left: '+h+"px; z-index: "+v--+"; width:"+e+'px;" class="'+r+'"></div>');d.append(p);if(!(g.hidden&&g.hideable)){h+=e}else{p.css("display","none");v++}this.table[0].rows[o].cells[n]=p[0]}if(l){d.css("z-index",v--)}if(t==0){this.table.width(parseInt(h)+2);t=h}this.table.append(d);d.height(this.rowsheight)}if(m==0){var h=0;if(this.showemptyrow){var d=b('<div style="position: relative;" id="row0'+this.element.id+'"></div>');this.table.append(d);d.height(this.rowsheight);this.table[0].rows[0]=d[0];this.table[0].rows[0].cells=new Array()}for(var n=0;n<u;n++){var g=this.columns.records[n];var e=g.width;if(this.showemptyrow){var p=b('<div style="position: absolute; height: 100%; left: '+h+"px; z-index: "+v--+"; width:"+e+'px;" class="'+r+'"></div>');p.height(this.rowsheight);d.append(p);this.table[0].rows[0].cells[n]=p[0]}if(e<g.minwidth){e=g.minwidth}if(e>g.maxwidth){e=g.maxwidth}if(!(g.hidden&&g.hideable)){h+=e}}this.table.width(parseInt(h)+2);t=h}this._updatescrollbarsafterrowsprerender();if(this.rendered){this.rendered("rows")}}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var t=null;var q=null;this.tableheight=null;var w=this;var k=false;var j=false;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){t=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){t=this.width}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){t=this.width;k=true}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){q=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){q=this.height}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){q=this.height;j=true}var i=function(){var x=0;var y=w.showheader?w.columnsheader!=null?w.columnsheader.height()+2:0:0;x+=y;if(w.pageable){x+=w.pagerheight}if(w._groupsheader()){x+=w.groupsheaderheight}if(w.showtoolbar){x+=w.toolbarheight}if(w.showstatusbar){x+=w.statusbarheight}if(w.hScrollBar[0].style.visibility=="visible"){x+=20}return x};if(this.autoheight&&this.virtualsizeinfo){if(this.pageable&&this.gotopage){var u=this.host.height()-this._gettableheight();q=u+(this._pageviews[0]?this._pageviews[0].height:0);if(q==0){q=i()}if(this.showemptyrow&&this.dataview.totalrecords==0){q+=this.rowsheight}}else{var u=this.host.height()-this._gettableheight();if(this._pageviews.length>0){q=u+this._pageviews[this._pageviews.length-1].height+this._pageviews[this._pageviews.length-1].top;this.vScrollBar[0].style.visibility="hidden"}else{q=i();if(this.showemptyrow){q+=this.rowsheight}}}}else{if(this.autoheight){q=this.dataview.totalrecords*this.rowsheight;if(this._loading){q=250;this.dataloadelement.height(q)}q+=i();if(q>10000){q=10000}}}var e=this.host.css("border-width");if(e==null){e=0}if(t!=null){t=parseInt(t);this.host.width(this.width);if(k){t=this.host.width();if(t<=2){t=600;this.host.width(t)}if(!this._oldWidth){this._oldWidth=t}}}else{this.host.width(250)}if(q!=null){if(!j){q=parseInt(q)}this.host.height(q);if(j&&!this.autoheight){q=this.host.height();if(q==0){q=400;this.host.height(q)}if(!this._oldHeight){this._oldHeight=q}}}else{this.host.height(250)}if(this.autoheight){this.tableheight=null;this._gettableheight()}var p=0;if(this.showtoolbar){this.toolbar.width(t);this.toolbar.height(this.toolbarheight-1);this.toolbar.css("top",0);p+=this.toolbarheight;q-=parseInt(this.toolbarheight)}else{this.toolbar.height(0)}if(this.showstatusbar){this.statusbar.width(t);this.statusbar.height(this.statusbarheight-1)}else{this.statusbar.height(0)}if(this._groupsheader()){this.groupsheader.width(t);this.groupsheader.height(this.groupsheaderheight);this.groupsheader.css("top",p);var r=this.groupsheader.height()+1;p+=r;if(q>r){q-=parseInt(r)}}else{this.groupsheader.width(t);this.groupsheader.height(this.groupsheaderheight);this.groupsheader.css("top",p);this.content.css("top",p+this.groupsheader.height())}var d=this.scrollbarsize;if(isNaN(d)){d=parseInt(d);if(isNaN(d)){d="17px"}else{d=d+"px"}}d=parseInt(d);var m=4;var g=2;var h=0;if(this.vScrollBar[0].style.visibility=="visible"){h=d+m}if(this.hScrollBar[0].style.visibility=="visible"){g=d+m+2}var n=0;if(this.pageable){n=this.pagerheight;g+=this.pagerheight}if(this.showstatusbar){g+=this.statusbarheight;n+=this.statusbarheight}this.hScrollBar.height(d);this.hScrollBar.css({top:p+q-m-d-n+"px",left:"0px"});this.hScrollBar.width(t-d-m+"px");if(h==0){this.hScrollBar.width(t-2)}this.vScrollBar.width(d);this.vScrollBar.height(parseInt(q)-g+"px");this.vScrollBar.css({left:parseInt(t)-parseInt(d)-m+"px",top:p});var l=this.vScrollInstance;l.disabled=this.disabled;l.refresh();var s=this.hScrollInstance;s.disabled=this.disabled;s.refresh();var o=function(x){if((x.vScrollBar[0].style.visibility=="visible")&&(x.hScrollBar[0].style.visibility=="visible")){x.bottomRight[0].style.visibility="visible";x.bottomRight.css({left:1+parseInt(x.vScrollBar.css("left")),top:parseInt(x.hScrollBar.css("top"))});x.bottomRight.width(parseInt(d)+3);x.bottomRight.height(parseInt(d)+4);if(x.showaggregates){x.bottomRight.css("z-index",99);x.bottomRight.height(parseInt(d)+4+x.statusbarheight);x.bottomRight.css({top:parseInt(x.hScrollBar.css("top"))-x.statusbarheight})}}else{x.bottomRight[0].style.visibility="hidden"}};o(this);this.content.width(t-h);this.content.height(q-g+2);this.content.css("top",p);if(this.showstatusbar){this.statusbar.css("top",p+q-this.statusbarheight-(this.pageable?this.pagerheight:0));if(this.showaggregates){if(this.hScrollBar.css("visibility")=="visible"){this.hScrollBar.css({top:p+q-m-d-n+this.statusbarheight+"px",left:"0px"});this.statusbar.css("top",1+p+q-d-5-this.statusbarheight-(this.pageable?this.pagerheight:0))}o(this)}}if(this.pageable){this.pager.width(t);this.pager.height(this.pagerheight);this.pager.css("top",p+q-this.pagerheight)}else{this.pager.height(0)}if(this.table!=null){var f=0;if(this.vScrollBar[0].style.visibility=="visible"){f=this.scrollbarsize+4}var v=f+this.table.width()-this.host.width();this.hScrollBar.jqxScrollBar("max",v);if(this.hScrollBar[0].style.visibility=="visible"&&v==0){this.hScrollBar[0].style.visibility="hidden";this._arrange()}}this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height());this._hostwidth=this.host.width()},destroy:function(){if(this.host.jqxDropDownList){var g=b(b.find("#filterclearbutton"+this.element.id));var f=b(b.find("#filterbutton"+this.element.id));var j=b(b.find("#filter1"+this.element.id));var e=b(b.find("#filter2"+this.element.id));var i=b(b.find("#filter3"+this.element.id));var h=b(b.find(".filtertext1"+this.element.id));var d=b(b.find(".filtertext2"+this.element.id));if(h.length>0&&d.length>0){h.removeClass();d.removeClass();h.remove();d.remove()}this.removeHandler(g,"click");this.removeHandler(f,"click");j.jqxDropDownList("destroy");e.jqxDropDownList("destroy");i.jqxDropDownList("destroy")}if(this.host.jqxMenu){if(this.gridmenu){this.removeHandler(b(document),"click.menu"+this.element.id);this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy")}}if(this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList("destroy")}if(this.pagerrightbutton){this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.pagerrightbutton.jqxButton("destroy")}if(this.pagerleftbutton){this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.pagerleftbutton.jqxButton("destroy")}this.removeHandler(b(document),"mousedown.resize"+this.element.id);this.removeHandler(b(document),"mouseup.resize"+this.element.id);this.removeHandler(b(document),"mousemove.resize"+this.element.id);this.columns=new b.jqx.collection(this.element);this.rows=new b.jqx.collection(this.element);this.hScrollInstance.destroy();this.vScrollInstance.destroy();this.hScrollBar.remove();this.vScrollBar.remove();this._removeHandlers();this._clearcaches();this.dataview._clearcaches();this.content.removeClass();this.content.remove();this.content=null;this.vScrollBar=null;this.hScrollBar=null;if(this.gridmenu){this.gridmenu=null}this.host.removeData();this.host.removeClass();this.host.remove();this.host=null},_initializeColumns:function(){if(this.columns&&this.columns.records){for(var e=0;e<this.columns.records.length;e++){this._removecolumnhandlers(this.columns.records[e])}}var h=this;var d=new b.jqx.collection(this.element);var g=0;if(!this._columns){this._columns=this.columns}else{this.columns=this._columns}if(this.groupable){b.each(this.groups,function(i){var j=new c(h,this);j.visibleindex=g++;j.width=h.groupindentwidth;d.add(j)})}if(this.rowdetails&&this.showrowdetailscolumn){var f=new c(h,this);f.visibleindex=g++;f.width=h.groupindentwidth;f.pinned=true;d.add(f)}b.each(this.columns,function(i){var j=new c(h,this);j.visibleindex=g++;d.add(j)});this.columns=d},_initializeRows:function(){var d=new b.jqx.collection(this.element);if(this.rows){this.rows.clear()}this.rows=d},_raiseEvent:function(h,e){if(e==undefined){e={owner:null}}var f=this.events[h];args=e;args.owner=this;var g=new jQuery.Event(f);g.owner=this;g.args=args;var d=this.host.trigger(g);e=g.args;return d},wheel:function(f,e){if(e.autoheight){f.returnValue=true;return true}var g=0;if(!f){f=window.event}if(f.originalEvent&&f.originalEvent.wheelDelta){f.wheelDelta=f.originalEvent.wheelDelta}if(f.wheelDelta){g=f.wheelDelta/120}else{if(f.detail){g=-f.detail/3}}if(g){var d=e._handleDelta(g);if(d){if(f.preventDefault){f.preventDefault()}if(f.originalEvent!=null){f.originalEvent.mouseHandled=true}if(f.stopPropagation!=undefined){f.stopPropagation()}}if(d){d=false;f.returnValue=d;return d}else{return false}}if(f.preventDefault){f.preventDefault()}f.returnValue=false},_handleDelta:function(f){var e=this.vScrollInstance.value;if(f<0){this.scrollDown()}else{this.scrollUp()}var d=this.vScrollInstance.value;if(e!=d){return true}return false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var d=this.vScrollInstance;if(d.value+this.rowsheight<=d.max){d.setPosition(parseInt(d.value)+this.rowsheight)}else{d.setPosition(d.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var d=this.vScrollInstance;if(d.value-this.rowsheight>=d.min){d.setPosition(parseInt(d.value)-this.rowsheight)}else{d.setPosition(d.min)}},_removeHandlers:function(){var d=this;this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.vScrollInstance.valuechanged=null;this.hScrollInstance.valuechanged=null;var e="mousedown";if(this.isTouchDevice()){e="touchend"}this.removeHandler(this.host,"dblclick");if(this.gridmenu){this.removeHandler(this.gridmenu,"keydown")}this.removeHandler(this.host,e);this.removeHandler(this.content,"mousemove",this._mousemovefunc);this.removeHandler(this.host,"mouseleave");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"selectstart."+this.element.id);this.removeHandler(this.host,"dragstart."+this.element.id);this.removeHandler(this.host,"keydown.edit"+this.element.id);this.removeHandler(b(document),"keydown.edit"+this.element.id);this.removeHandler(b(document),"mousemove.selection"+this.element.id);this.removeHandler(b(document),"mouseup.selection"+this.element.id);if(this.editable){this.removeHandler(b(document),"click.grid"+this.element.id)}},_addHandlers:function(){var e=this;this.addHandler(this.host,"dragstart."+this.element.id,function(h){return false});if(this.editable){this.addHandler(b(document),"click.grid"+this.element.id,function(k){if(e.editable&&e.begincelledit){if(e.editcell){if(!e.vScrollInstance.isScrolling()&&!e.vScrollInstance.isScrolling()){var h=false;switch(e.editcell.columntype){case"datetimeinput":if(e.editcell.editor.jqxDateTimeInput&&e.editcell.editor.jqxDateTimeInput("container")[0].style.display=="block"){h=true}break;case"combobox":if(e.editcell.editor.jqxComboBox&&e.editcell.editor.jqxComboBox("container")[0].style.display=="block"){h=true}break;case"dropdownlist":if(e.editcell.editor.jqxDropDownList&&e.editcell.editor.jqxDropDownList("container")[0].style.display=="block"){h=true}break}if(h){return true}var i=e.host.offset();var l=e.host.width();var j=e.host.height();var m=false;if(k.pageY<i.top||k.pageY>i.top+j){m=true}if(k.pageX<i.left||k.pageX>i.left+l){m=true}if(m){e.endcelledit(e.editcell.row,e.editcell.column,false,true)}}}}})}var d=e.isTouchDevice();this.vScrollInstance.valuechanged=function(h){if(e.virtualsizeinfo){e._closemenu();e._renderrows(e.virtualsizeinfo);if(!e.pageable&&!e.groupable&&e.dataview.virtualmode){if(e.loadondemandupdate){clearTimeout(e.loadondemandupdate)}e.loadondemandupdate=setTimeout(function(){e.loadondemand=true;e._renderrows(e.virtualsizeinfo)},100)}if(d){e._lastScroll=new Date()}}};this.hScrollInstance.valuechanged=function(j){if(e.virtualsizeinfo){e._closemenu();var i=function(){e._renderhorizontalscroll();e._renderrows(e.virtualsizeinfo);if(e.editcell&&!e.editrow){if(e._showcelleditor&&e.editcell.editing){e._showcelleditor(e.editcell.row,e.getcolumn(e.editcell.column),e.editcell.element,e.editcell.init)}}};var h=e._browser==undefined?e._isIE10():e._browser;if(navigator&&navigator.userAgent.indexOf("Safari")!=-1){if(this._hScrollTimer){clearTimeout(this._hScrollTimer)}this._hScrollTimer=setTimeout(function(){i()},1)}else{if(b.browser.mozilla||h){if(this._hScrollTimer){clearTimeout(this._hScrollTimer)}this._hScrollTimer=setTimeout(function(){i()},0.01)}else{i()}}if(d){e._lastScroll=new Date()}}};this._mousewheelfunc=this._mousewheelfunc||function(h){if(!e.editcell&&e.enablemousewheel){e.wheel(h,e);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var g="mousedown";if(this.isTouchDevice()){g="touchend"}this.addHandler(this.host,g,function(i){if(e.isTouchDevice()){e._newScroll=new Date();if(e._newScroll-e._lastScroll<500){return false}if(b(i.target).ischildof(e.vScrollBar)){return false}if(b(i.target).ischildof(e.hScrollBar)){return false}}e._mousedown=new Date();var h=e._handlemousedown(i,e);if(e.isNestedGrid){if(!e.resizablecolumn){i.stopPropagation()}}e._lastmousedown=new Date();return h});this.addHandler(this.host,"dblclick",function(h){if(e.editable&&e.begincelledit&&e.editmode=="dblclick"){e._handledblclick(h,e)}e.mousecaptured=false;return true});this._mousemovefunc=function(h){if(e._handlemousemove){return e._handlemousemove(h,e)}};this.addHandler(this.content,"mousemove",this._mousemovefunc);this.addHandler(b(document),"mousemove.selection"+this.element.id,function(h){if(e._handlemousemoveselection){return e._handlemousemoveselection(h,e)}});this.addHandler(b(document),"mouseup.selection"+this.element.id,function(h){if(e._handlemouseupselection){e._handlemouseupselection(h,e)}});if(document.referrer!=""||window.frameElement){if(window.top!=null){if(window.parent&&document.referrer){parentLocation=document.referrer}if(parentLocation.indexOf(document.location.host)!=-1){var f=function(h){if(e._handlemouseupselection){e._handlemouseupselection(h,e)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}}this.focused=false;this.addHandler(this.content,"mouseenter",function(h){e.focused=true;if(e._overlayElement){if(e.vScrollInstance.isScrolling()||e.hScrollInstance.isScrolling()){e._overlayElement[0].style.visibility="visible"}else{e._overlayElement[0].style.visibility="hidden"}}});this.addHandler(this.content,"mouseleave",function(h){if(e._handlemousemove){if(e.enablehover){e._clearhoverstyle()}}if(e._overlayElement){e._overlayElement[0].style.visibility="hidden"}e.focused=false});this.addHandler(this.content,"selectstart."+this.element.id,function(h){if(e.enablebrowserselection){return true}if(!e.editcell&&!e.showfilterrow){return false}});this.addHandler(b(document),"keydown.edit"+this.element.id,function(j){var i=j.charCode?j.charCode:j.keyCode?j.keyCode:0;if(e.handlekeyboardnavigation){var k=e.handlekeyboardnavigation(j);if(k==true){return false}}if(e.editable&&e.editcell){if(i==13||i==27){if(e._handleeditkeydown){h=e._handleeditkeydown(j,e)}}}if(i==27){e.mousecaptured=false;if(e.selectionarea.css("visibility")=="visible"){e.selectionarea.css("visibility","hidden")}}if(b.browser.msie&&e.focused&&!e.isNestedGrid){var h=true;var i=j.charCode?j.charCode:j.keyCode?j.keyCode:0;if(!e.editcell&&e.editable&&e.editmode!="programmatic"){if(e._handleeditkeydown){h=e._handleeditkeydown(j,e)}}if(h&&e.keyboardnavigation&&e._handlekeydown){h=e._handlekeydown(j,e);if(!h){if(j.preventDefault){j.preventDefault()}if(j.stopPropagation!=undefined){j.stopPropagation()}}return h}}return true});this.addHandler(this.host,"keydown.edit"+this.element.id,function(i){var h=true;if(e.handlekeyboardnavigation){var j=e.handlekeyboardnavigation(i);if(j==true){return false}}if(e.editable&&e.editmode!="programmatic"){if(e._handleeditkeydown){h=e._handleeditkeydown(i,e)}}if(!b.browser.msie){if(h&&e.keyboardnavigation&&e._handlekeydown){h=e._handlekeydown(i,e);if(e.isNestedGrid){i.stopPropagation()}}}else{if(e.isNestedGrid){if(h&&e.keyboardnavigation&&e._handlekeydown){h=e._handlekeydown(i,e);i.stopPropagation()}}}if(!h){if(i.preventDefault){i.preventDefault()}if(i.stopPropagation!=undefined){i.stopPropagation()}}return h})},_hittestrow:function(s,q){if(this.vScrollInstance==null||this.hScrollInstance==null){return}if(s==undefined){s=0}if(q==undefined){q==0}var l=this.vScrollInstance;var k=this.hScrollInstance;var f=l.value;if(this.vScrollBar.css("visibility")!="visible"){f=0}var m=k.value;if(this.hScrollBar.css("visibility")!="visible"){m=0}var r=parseInt(f)+q;var j=parseInt(m)+s;if(this.visiblerows==null){return}var e=false;var i=this._findvisiblerow(r,this.visiblerows);if(i>=0){var o=this.visiblerows[i];var d=this.rowdetails&&o.rowdetails;var n=!o.rowdetailshidden;if(d){var g=this.visiblerows[i-1];if(g==o){o=g;i--}if(n){var h=b(this.hittestinfo[i].visualrow).position().top+parseInt(this.table.css("top"));var p=b(this.hittestinfo[i].visualrow).height();if(!(q>=h&&q<=h+p)){i++;o=this.visiblerows[i];e=true}}}}return{index:i,row:o,details:e}},getcellatposition:function(j,q){var r=this;var z=this.showheader?this.columnsheader.height()+2:0;var s=this._groupsheader()?this.groupsheader.height():0;var B=this.showtoolbar?this.toolbarheight:0;s+=B;var g=this.host.offset();if(this.hasTransform){g=b.jqx.utilities.getOffset(this.host)}var p=j-g.left;var n=q-z-g.top-s;var d=this._hittestrow(p,n);var k=d.row;var l=d.index;var t=this.table[0].rows[l];if(this.dataview&&this.dataview.records.length==0){var o=this.table[0].rows;var C=0;for(var w=0;w<o.length;w++){if(n>=C&&n<C+this.rowsheight){t=o[w];break}C+=this.rowsheight}k={boundindex:w}}if(t==null){return true}var u=this.hScrollInstance;var v=u.value;var f=0;var m=this.groupable?this.groups.length:0;for(var w=0;w<t.cells.length;w++){var h=parseInt(b(this.columnsrow[0].cells[w]).css("left"));var j=h-v;if(r.columns.records[w].pinned){j=h}var A=j+b(this.columnsrow[0].cells[w]).width();if(A>=p&&p>=j){f=w;break}}if(k!=null){var e=this._getcolumnat(f);return{row:k.boundindex,column:e.datafield,value:this.getcellvalue(k.boundindex,e.datafield)}}return null},_handlemousedown:function(F,w){if(F.target==null){return true}if(w.disabled){return true}if(b(F.target).ischildof(this.columnsheader)){return true}var I;if(F.which){I=(F.which==3)}else{if(F.button){I=(F.button==2)}}var N;if(F.which){N=(F.which==2)}else{if(F.button){N=(F.button==1)}}if(N){return true}if(this.showstatusbar){if(b(F.target).ischildof(this.statusbar)){return true}if(F.target==this.statusbar[0]){return true}}var H=this.showheader?this.columnsheader.height()+2:0;var z=this._groupsheader()?this.groupsheader.height():0;var M=this.showtoolbar?this.toolbarheight:0;z+=M;var h=this.host.offset();if(this.hasTransform){h=b.jqx.utilities.getOffset(this.host)}var k=parseInt(F.pageX);var v=parseInt(F.pageY);if(this.isTouchDevice()){var u=w.getTouches(F);var o=u[0];k=parseInt(o.pageX);v=parseInt(o.pageY);if(w.touchmode==true){k=parseInt(o._pageX);v=parseInt(o._pageY)}}var r=k-h.left;var q=v-H-h.top-z;var d=this._hittestrow(r,q);if(!d){return}if(d.details){return}var m=d.row;var n=d.index;var C=F.target.className;var A=this.table[0].rows[n];if(A==null){if(w.editable&&w.begincelledit){if(w.editcell){w.endcelledit(w.editcell.row,w.editcell.column,false,true)}}return true}w.mousecaptured=true;w.mousecaptureposition={left:F.pageX,top:F.pageY-z};var B=this.hScrollInstance;var E=B.value;var g=-1;var p=this.groupable?this.groups.length:0;for(var G=0;G<A.cells.length;G++){var j=parseInt(b(this.columnsrow[0].cells[G]).css("left"));var k=j-E;if(w.columns.records[G].pinned){k=j}var f=this._getcolumnat(G);if(f!=null&&f.hidden){continue}var L=k+b(this.columnsrow[0].cells[G]).width();if(L>=r&&r>=k){g=G;break}}if(m!=null&&g>=0){this._raiseEvent(1,{rowindex:m.boundindex,visibleindex:m.visibleindex,group:m.group,rightclick:I,originalEvent:F});var f=this._getcolumnat(g);var t=this.getcellvalue(m.boundindex,f.datafield);this._raiseEvent(8,{rowindex:m.boundindex,column:f?f.getcolumnproperties():null,datafield:f?f.datafield:null,columnindex:g,value:t,rightclick:I,originalEvent:F});var K=false;if(this._lastmousedown!=null){if(this._mousedown-this._lastmousedown<300){if(this._clickedrowindex==m.boundindex){this._raiseEvent(22,{rowindex:m.boundindex,visibleindex:m.visibleindex,group:m.group,rightclick:I,originalEvent:F});if(this._clickedcolumn==f.datafield){this._raiseEvent(23,{rowindex:m.boundindex,column:f?f.getcolumnproperties():null,datafield:f?f.datafield:null,columnindex:g,value:t,rightclick:I,originalEvent:F})}K=true;this._clickedrowindex=-1;this._clickedcolumn=null;if(F.isPropagationStopped&&F.isPropagationStopped()){return false}}}}if(I){return true}if(!K){this._clickedrowindex=m.boundindex;this._clickedcolumn=f.datafield}var D=b.jqx.utilities.getBrowser();if(D.browser=="msie"&&parseInt(D.version)<=7){if(g==0&&this.rowdetails){C="jqx-grid-group-collapse"}if(p>0){if(g<=p){C="jqx-grid-group-collapse"}}}if(C.indexOf("jqx-grid-group-expand")!=-1||C.indexOf("jqx-grid-group-collapse")!=-1){if(p>0&&g<p&&this._togglegroupstate){this._togglegroupstate(m.bounddata,true)}else{if(g==p&&this.rowdetails&&this.showrowdetailscolumn){this._togglerowdetails(m.bounddata,true);this.gridcontent[0].scrollTop=0;this.gridcontent[0].scrollLeft=0}}}else{if(m.boundindex!=-1){var J=this.selectedrowindexes.slice(0);var l=false;if(w.selectionmode!="none"&&this._selectrowwithmouse){if(w.selectionmode=="multiplecellsextended"||w.selectionmode=="multiplerowsextended"){if(!F.ctrlKey&&!F.shiftKey){w.selectedrowindexes=new Array();w.selectedcells=new Array()}}if(w.selectionmode.indexOf("cell")==-1){if((w.selectionmode!="singlerow")||(w.selectedrowindex!=m.boundindex&&w.selectionmode=="singlerow")){this._applyrowselection(m.boundindex,true,false,null,f.datafield);this._selectrowwithmouse(w,d,J,f.datafield,F.ctrlKey,F.shiftKey)}}else{if(f.datafield!=null){this._selectrowwithmouse(w,d,J,f.datafield,F.ctrlKey,F.shiftKey);this._applycellselection(m.boundindex,f.datafield,true,false)}}if(w._oldselectedcell){if(w._oldselectedcell.datafield==w.selectedcell.datafield&&w._oldselectedcell.rowindex==w.selectedcell.rowindex){l=true}}w._oldselectedcell=w.selectedcell}if(w.autosavestate){if(w.savestate){w.savestate()}}if(w.editable&&w.begincelledit){var e=w.editmode=="click"||(l&&w.editmode=="selectedcell");if(w.selectionmode.indexOf("cell")==-1){if(w.editmode!="dblclick"){e=true}}if(e){if(m.boundindex!=undefined&&f.editable){var s=w.begincelledit(m.boundindex,f.datafield,f.defaulteditorvalue);if(s){return true}}}if(w.selectionmode.indexOf("cell")!=-1){if(w.editmode=="selectedcell"&&!l&&w.editcell){w.endcelledit(w.editcell.row,w.editcell.column,false,true)}}return true}}}}return true},_columnPropertyChanged:function(e,d,g,f){},_rowPropertyChanged:function(g,d,f,e){},propertyChangedHandler:function(d,e,h,g){if(this.isInitialized==undefined||this.isInitialized==false){return}switch(e){case"touchmode":d._removeHandlers();d.touchDevice=null;d.vScrollBar.jqxScrollBar({touchMode:g});d.hScrollBar.jqxScrollBar({touchMode:g});d._updateTouchScrolling();d._addHandlers();break;case"autoshowcolumnsmenubutton":d._rendercolumnheaders();break;case"rendergridrows":d.updatebounddata();break;case"editmode":d._removeHandlers();d._addHandlers();break;case"source":d.virtualsizeinfo=null;if(d.showfilterrow&&d.filterable&&d.filterrow){d.filterrow.remove();d._filterrowcache=new Array();d.filterrow=null}d.updatebounddata();if(d.virtualmode&&!d._loading){d.loadondemand=true;d._renderrows(d.virtualsizeinfo)}break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep});this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":if(d._initgroupsheader){d._initgroupsheader()}break;case"showgroupsheader":d.rendergridcontent();break;case"theme":if(g!=h){if(d.pager){d.pager.removeClass();d.pager.addClass(d.toTP("jqx-grid-pager"));d.pager.addClass(d.toTP("jqx-widget-header"));if(d.pageable&&d._updatepagertheme){d._updatepagertheme()}}if(d.groupsheader){d.groupsheader.removeClass();d.groupsheader.addClass(d.toTP("jqx-grid-groups-header"));d.groupsheader.addClass(d.toTP("jqx-widget-header"))}d.toolbar.removeClass();d.toolbar.addClass(d.toTP("jqx-grid-toolbar"));d.toolbar.addClass(d.toTP("jqx-widget-header"));d.statusbar.removeClass();d.statusbar.addClass(d.toTP("jqx-grid-statusbar"));d.statusbar.addClass(d.toTP("jqx-widget-content"));d.vScrollBar.jqxScrollBar({theme:d.theme});d.hScrollBar.jqxScrollBar({theme:d.theme});d.host.removeClass();d.host.addClass(d.toTP("jqx-grid"));d.host.addClass(d.toTP("jqx-reset"));d.host.addClass(d.toTP("jqx-rc-all"));d.host.addClass(d.toTP("jqx-widget"));d.host.addClass(d.toTP("jqx-widget-content"));d.bottomRight.removeClass();d.bottomRight.addClass(d.toTP("jqx-grid-bottomright"));d.toolbar.addClass(d.toTP("jqx-grid-toolbar"));d.toolbar.addClass(d.toTP("jqx-widget-header"));d.statusbar.addClass(d.toTP("jqx-grid-statusbar"));d.statusbar.addClass(d.toTP("jqx-widget-header"));d.render()}break;case"showtoolbar":case"toolbarheight":d._arrange();d.refresh();break;case"showstatusbar":case"statusbarheight":d._arrange();d.refresh();break;case"filterable":if(h!=g){d.render()}break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":d.rendergridcontent();break;case"showrowdetailscolumn":d.render();break;case"scrollbarsize":d._arrange();break;case"width":if(h!=g){if(!this._loading){if(g!=h){d._arrange();d._updatecolumnwidths();d._updatecellwidths();d._renderrows(d.virtualsizeinfo)}}}break;case"height":if(h!=g){if(!this._loading){if(g!=h){var i=d.groupable&&d.groups.length>0;var f=d.vScrollBar.css("visibility")!="visible";if(!i){d._arrange();d.virtualsizeinfo=d._calculatevirtualheight();if(parseInt(g)>=parseInt(h)){d.prerenderrequired=true}d._renderrows(d.virtualsizeinfo)}else{if(g>=h){d._render(true,false,false)}else{d.rendergridcontent(true,false)}}if(f&&d.vScrollBar.css("visibility")=="visible"){d._arrange();d._updatecolumnwidths();d._updatecellwidths()}}}}break;case"altrows":case"altstart":case"altstep":d._renderrows(d.virtualsizeinfo);break;case"groupsheaderheight":d._arrange();if(d._initgroupsheader){d._initgroupsheader()}break;case"pagerheight":if(h!=g){d._initpager()}break;case"selectedrowindex":d.selectrow(g);break;case"selectionmode":if(h!=g){if(g=="none"){d.selectedrowindexes=new Array();d.selectedcells=new Array();d.selectedrowindex=-1}d._renderrows(d.virtualsizeinfo)}break;case"showheader":if(g){d.columnsheader.css("display","block")}else{d.columnsheader.css("display","none")}break;case"virtualmode":d.dataview.virtualmode=d.virtualmode;d.dataview.refresh(false);d._render(false,false,false);break;case"columnsmenu":if(h!=g){d.render()}break;case"columns":d._columns=null;d._filterrowcache=[];d.render();break;case"autoheight":if(h!=g){d._render(false,false,true)}break;case"pagesizeoptions":case"pageable":case"pagesize":if(h!=g){if(d._loading){alert(d.loadingerrormessage);return}if(d._initpager){d.dataview.pageable=d.pageable;d.dataview.pagenum=0;d.dataview.pagesize=d._getpagesize();if(d.virtualmode){d.updatebounddata()}d.dataview.refresh(true);d._initpager();if(e=="pagesizeoptions"){if(g!=null&&g.length>0){d.pagesize=g[0];d.dataview.pagesize=g[0];d.prerenderrequired=true;d._requiresupdate=true;d.dataview.pagenum=-1;d.gotopage(0)}}}d._render(false,false,false)}break;case"groups":d.updatebounddata();break;case"groupable":d.dataview.groupable=d.groupable;d.dataview.pagenum=0;d.dataview.refresh(false);d._render(false,false,true);break;case"disabled":if(g){d.host.addClass(d.toThemeProperty("jqx-fill-state-disabled"))}else{d.host.removeClass(d.toThemeProperty("jqx-fill-state-disabled"))}break}}});function c(d,e){this.owner=d;this.datafield=null;this.text="";this.sortable=true;this.hideable=true;this.editable=true;this.hidden=false;this.groupable=true;this.renderer=null;this.cellsrenderer=null;this.checkchange=null,this.threestatecheckbox=false;this.buttonclick=null,this.columntype=null;this.cellsformat="";this.align="left";this.cellsalign="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.filteritems=[];this.resizable=true;this.initeditor=null;this.createeditor=null;this.validation=null;this.classname="";this.cellclassname="";this.cellendedit=null;this.cellbeginedit=null;this.cellvaluechanging=null;this.aggregates=null;this.aggregatesrenderer=null;this.menu=true;this.createfilterwidget=null;this.filtertype="default";this.filtercondition=null;this.rendered=null;this.exportable=true;this.draggable=true;this.getcolumnproperties=function(){return{sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(f,g){if(this[f]){var h=this[f];this[f]=g;this.owner._columnPropertyChanged(this,f,g,h)}};this._initfields=function(f){if(f!=null){if(f.datafield!=undefined){this.datafield=f.datafield}if(f.dataField!=undefined){this.datafield=f.dataField}if(f.text!=undefined){this.text=f.text}if(f.sortable!=undefined){this.sortable=f.sortable}if(f.hideable!=undefined){this.hideable=f.hideable}if(f.hidden!=undefined){this.hidden=f.hidden}if(f.groupable!=undefined){this.groupable=f.groupable}if(f.renderer!=undefined){this.renderer=f.renderer}if(f.align!=undefined){this.align=f.align}if(f.cellsalign!=undefined){this.cellsalign=f.cellsalign}if(f.cellsformat!=undefined){this.cellsformat=f.cellsformat}if(f.width!=undefined){this.width=f.width}if(f.minwidth!=undefined){this.minwidth=f.minwidth}if(f.maxwidth!=undefined){this.maxwidth=f.maxwidth}if(f.cellsrenderer!=undefined){this.cellsrenderer=f.cellsrenderer}if(f.columntype!=undefined){this.columntype=f.columntype}if(f.checkchange!=undefined){this.checkchange=f.checkchange}if(f.buttonclick!=undefined){this.buttonclick=f.buttonclick}if(f.pinned!=undefined){this.pinned=f.pinned}if(f.visibleindex!=undefined){this.visibleindex=f.visibleindex}if(f.filterable!=undefined){this.filterable=f.filterable}if(f.filter!=undefined){this.filter=f.filter}if(f.resizable!=undefined){this.resizable=f.resizable}if(f.editable!=undefined){this.editable=f.editable}if(f.initeditor!=undefined){this.initeditor=f.initeditor}if(f.createeditor!=undefined){this.createeditor=f.createeditor}if(f.validation!=undefined){this.validation=f.validation}if(f.cellbeginedit!=undefined){this.cellbeginedit=f.cellbeginedit}if(f.cellendedit!=undefined){this.cellendedit=f.cellendedit}if(f.classname!=undefined){this.classname=f.classname}if(f.cellclassname!=undefined){this.cellclassname=f.cellclassname}if(f.menu!=undefined){this.menu=f.menu}if(f.aggregates!=undefined){this.aggregates=f.aggregates}if(f.aggregatesrenderer!=undefined){this.aggregatesrenderer=f.aggregatesrenderer}if(f.createfilterwidget!=undefined){this.createfilterwidget=f.createfilterwidget}if(f.filtertype!=undefined){this.filtertype=f.filtertype}if(f.rendered!=undefined){this.rendered=f.rendered}if(f.exportable!=undefined){this.exportable=f.exportable}if(f.filteritems!=undefined){this.filteritems=f.filteritems}if(f.cellvaluechanging!=undefined){this.cellvaluechanging=f.cellvaluechanging}if(f.draggable!=undefined){this.draggable=f.draggable}if(f.filtercondition!=undefined){this.filtercondition=f.filtercondition}if(f.threestatecheckbox!=undefined){this.threestatecheckbox=f.threestatecheckbox}}};this._initfields(e);return this}function a(d,e){this.setdata=function(f){if(f!=null){this.bounddata=f;this.boundindex=f.boundindex;this.visibleindex=f.visibleindex;this.group=f.group;this.parentbounddata=f.parentItem;this.uniqueid=f.uniqueid;this.level=f.level}};this.setdata(e);this.parentrow=null;this.subrows=new Array();this.owner=d;this.height=25;this.hidden=false;this.rowdetails=null;this.rowdetailsheight=100;this.rowdetailshidden=true;this.top=-1;this.setrowinfo=function(f){this.hidden=f.hidden;this.rowdetails=f.rowdetails;this.rowdetailsheight=f.rowdetailsheight;this.rowdetailshidden=!f.showdetails;this.height=f.height};return this}b.jqx.collection=function(d){this.records=new Array();this.owner=d;this.updating=false;this.beginupdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(f){var e=this.length;var g=Number(arguments[1])||0;g=(g<0)?Math.ceil(g):Math.floor(g);if(g<0){g+=e}for(;g<e;g++){if(g in this&&this[g]===f){return g}}return -1}}this._raiseEvent=function(e){};this.clear=function(){this.records=new Array()};this.replace=function(f,e){this.records[f]=e;if(!this.updating){this._raiseEvent({type:"replace",element:e})}};this.isempty=function(e){if(this.records[e]==undefined){return true}return false};this.initialize=function(e){if(e<1){e=1}this.records[e-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(e){return this.records.indexOf(e)};this.add=function(e){if(e==null){return false}this.records[this.records.length]=e;if(!this.updating){this._raiseEvent({type:"add",element:e})}return true};this.insertAt=function(f,e){if(f==null||f==undefined){return false}if(e==null){return false}if(f>=0){if(f<this.records.length){this.records.splice(f,0,e);if(!this.updating){this._raiseEvent({type:"insert",index:f,element:e})}return true}else{return this.add(e)}}return false};this.remove=function(f){if(f==null||f==undefined){return false}var e=this.records.indexOf(f);if(e!=-1){this.records.splice(e,1);if(!this.updating){this._raiseEvent({type:"remove",element:f})}return true}return false};this.removeAt=function(f){if(f==null||f==undefined){return false}if(f<0){return false}if(f<this.records.length){var e=this.records[f];this.records.splice(f,1);if(!this.updating){this._raiseEvent({type:"removeAt",index:f,element:e})}return true}return false};return this};b.jqx.dataview=function(){this.self=this;this.grid=null;this.uniqueId="id";this.records=[];this.rows=[];this.columns=[];this.groups=[];this.filters=new Array();this.updated=null;this.update=null;this.suspend=false;this.pagesize=0;this.pagenum=0;this.totalrows=0;this.totalrecords=0;this.groupable=true;this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this.virtualmode=true;this._cachegrouppages=new Array();this.source=null;this.changedrecords=new Array();this.rowschangecallback=null;this.suspendupdate=function(){this.suspend=true},this.isupdating=function(){return this.suspend},this.resumeupdate=function(d){this.suspend=false;if(d==undefined){d=true}this.refresh(d)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array()};this.databind=function(d,n){var o=d._source?true:false;var e=null;if(o){e=d;d=d._source}else{e=new b.jqx.dataAdapter(d,{autoBind:false})}var g=function(m){e.recordids=[];e.records=new Array();e.cachedrecords=new Array();e.originaldata=new Array();e._options.virtualmode=m.virtualmode;e._options.totalrecords=m.totalrecords;e._options.originaldata=m.originaldata;e._options.recordids=m.recordids;e._options.cachedrecords=new Array();e._options.pagenum=m.pagenum;e._options.pageable=m.pageable;if(d.type!=undefined){e._options.type=d.type}if(d.formatdata!=undefined){e._options.formatData=d.formatdata}if(d.contenttype!=undefined){e._options.contentType=d.contenttype}if(d.async!=undefined){e._options.async=d.async}if(d.updaterow!=undefined){e._options.updaterow=d.updaterow}if(d.addrow!=undefined){e._options.addrow=d.addrow}if(d.deleterow!=undefined){e._options.deleterow=d.deleterow}if(m.pagesize==0){m.pagesize=10}e._options.pagesize=m.pagesize};var q=function(u){u.totalrecords=e.totalrecords;if(!u.virtualmode){u.originaldata=e.originaldata;u.records=e.records;u.recordids=e.recordids;u.cachedrecords=e.cachedrecords}else{var m={startindex:u.pagenum*u.pagesize,endindex:(u.pagenum*u.pagesize+u.pagesize)};if(d.recordstartindex){m.startindex=d.recordstartindex}if(d.recordendindex){m.endindex=d.recordendindex}else{if(!u.grid.pageable){m.endindex=m.startindex+100;if(u.grid.autoheight){m.endindex=m.startindex+u.totalrecords}}}m.data=e.records;if(u.grid.rendergridrows&&u.totalrecords>0){d.records=u.grid.rendergridrows(m)}if(!d.records||u.totalrecords==0){d.records=new Array()}u.originaldata=d.records;u.records=d.records;u.cachedrecords=d.records}};g(this);this.source=d;if(n!==undefined){uniqueId=n}var r=this;switch(d.datatype){case"local":case"array":default:if(d.localdata==null){d.localdata=[]}if(d.localdata!=null){e.unbindBindingUpdate(r.grid.element.id);e.dataBind();var p=function(m){if(m!=undefined){var u=e._changedrecords[0];if(u){b.each(e._changedrecords,function(){var v=this.index;var w=this.record;r.grid._updateFromAdapter=true;switch(m){case"update":var x=r.grid.getrowid(v);r.grid.updaterow(x,w);r.grid._updateFromAdapter=false;return;case"add":r.grid.addrow(null,w);r.grid._updateFromAdapter=false;return;case"remove":var x=r.grid.getrowid(v);r.grid.deleterow(x);r.grid._updateFromAdapter=false;return}})}}q(r,m);if(m=="updateData"){r.refresh();r.grid._updateGridData()}else{if(d.recordstartindex&&this.virtualmode){r.updateview(d.recordstartindex,d.recordstartindex+r.pagesize)}else{r.refresh()}r.update()}};p();e.bindBindingUpdate(r.grid.element.id,p)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(d.localdata!=null){e.unbindBindingUpdate(r.grid.element.id);e.dataBind();var p=function(m){q(r);if(m=="updateData"){r.refresh();r.grid._updateGridData()}else{if(d.recordstartindex){r.updateview(d.recordstartindex,d.recordstartindex+r.pagesize)}else{r.refresh()}r.update()}};p();e.bindBindingUpdate(r.grid.element.id,p);return}var l={};var i=0;var t={};for(var s=0;s<this.filters.length;s++){var j=this.filters[s].datafield;var f=this.filters[s].filter;var h=f.getfilters();t[j+"operator"]=f.operator;for(var k=0;k<h.length;k++){h[k].datafield=j;t["filtervalue"+i]=h[k].value;t["filtercondition"+i]=h[k].condition;t["filteroperator"+i]=h[k].operator;t["filterdatafield"+i]=j;i++}}t.filterscount=i;t.groupscount=r.groups.length;for(var s=0;s<r.groups.length;s++){t["group"+s]=r.groups[s]}if(d.recordstartindex==undefined){d.recordstartindex=0}if(d.recordendindex==undefined||d.recordendindex==0){if(r.grid.height&&r.grid.height.toString().indexOf("%")==-1){d.recordendindex=parseInt(r.grid.height)/r.grid.rowsheight;d.recordendindex+=2}else{d.recordendindex=b(window).height()/r.grid.rowsheight}}b.extend(t,{sortdatafield:r.sortfield,sortorder:r.sortfielddirection,pagenum:r.pagenum,pagesize:r.grid.pagesize,recordstartindex:d.recordstartindex,recordendindex:d.recordendindex});if(e._options.data){b.extend(e._options.data,t)}else{if(d.data){b.extend(t,d.data)}e._options.data=t}var p=function(){q(r);if(d.recordstartindex){r.updateview(d.recordstartindex,d.recordstartindex+r.pagesize)}else{r.refresh()}r.update()};e.unbindDownloadComplete(r.grid.element.id);e.bindDownloadComplete(r.grid.element.id,p);e.dataBind()}};this.getid=function(g,e,f){if(b(g,e).length>0){return b(g,e).text()}if(g){if(g.toString().length>0){var d=b(e).attr(g);if(d!=null&&d.toString().length>0){return d}}}return f};this.getvaluebytype=function(g,d){var e=g;if(d.type=="date"){var f=new Date(g);if(f.toString()=="NaN"||f.toString()=="Invalid Date"){if(b.jqx.dataFormat){g=b.jqx.dataFormat.tryparsedate(g)}else{g=f}}else{g=f}if(g==null){g=e}}else{if(d.type=="float"){var g=parseFloat(g);if(isNaN(g)){g=e}}else{if(d.type=="int"){var g=parseInt(g);if(isNaN(g)){g=e}}else{if(d.type=="bool"){if(g!=null){if(g.toLowerCase()=="false"){g=false}else{if(g.toLowerCase()=="true"){g=true}}}if(g==1){g=true}else{if(g==0){g=false}else{g=""}}}}}}return g};this.setpaging=function(d){if(d.pageSize!=undefined){this.pagesize=d.pageSize}if(d.pageNum!=undefined){this.pagenum=Math.min(d.pageNum,Math.ceil(this.totalrows/this.pagesize))}this.refresh()};this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}};this._clearcaches=function(){this.sortcache={};this.sortdata=null;this.changedrecords=new Array();this.records=new Array();this.rows=new Array();this.cacheddata=new Array();this.originaldata=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid=new Array();this.cachedrecords=new Array();this.recordids=new Array()};this.addfilter=function(g,f){var e=-1;for(var d=0;d<this.filters.length;d++){if(this.filters[d].datafield==g){e=d;break}}if(e==-1){this.filters[this.filters.length]={filter:f,datafield:g}}else{this.filters[e]={filter:f,datafield:g}}};this.removefilter=function(e){for(var d=0;d<this.filters.length;d++){if(this.filters[d].datafield==e){this.filters.splice(d,1);break}}};this.getItemFromIndex=function(d){return this.records[d]};this.updaterow=function(f,h,e){if(h!=undefined&&f!=undefined){h.uid=f;if(!(h[this.source.id])){h[this.source.id]=h.uid}var d=this.recordsbyid["id"+f];var g=this.records.indexOf(d);this.records[g]=h;if(e==true||e==undefined){this.refresh()}this.changedrecords[h.uid]={Type:"Update",OldData:d,Data:h};return true}return false};this.addrow=function(h,i,d,g){if(i!=undefined){if(!h){i.uid=this.getid(this.source.id,i,this.totalrecords);var e=this.recordsbyid["id"+i.uid];while(e!=null){var f=Math.floor(Math.random()*10000).toString();i.uid=f;e=this.recordsbyid["id"+f]}}else{i.uid=h}if(!(i[this.source.id])){if(this.source.id!=undefined){i[this.source.id]=i.uid}}if(d=="last"){this.records.push(i)}else{this.records.splice(0,0,i)}this.totalrecords++;if(g==true||g==undefined){this.refresh()}this.changedrecords[i.uid]={Type:"New",Data:i};return true}return false};this.deleterow=function(f,e){if(f!=undefined){if(this.recordsbyid["id"+f]){var d=this.recordsbyid["id"+f];var g=this.records.indexOf(d);this.changedrecords[f]={Type:"Delete",Data:this.records[g]};this.records.splice(g,1);this.totalrecords--;if(e==true||e==undefined){this.refresh()}return true}return false}return false};this.reload=function(f,d,r,g,h,u,t){var m=this;var l=new Array();var o=f;var i=d;var j=r;var p=g;var k=i.length;var w=0;var e=0;var s,n;this.columns=[];this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid={};if(this.totalrecords==0){Object.size=function(z){var y=0,x;for(x in z){if(z.hasOwnProperty(x)){y++}}return y};var v=Object.size(o);this.totalrecords=v;b.each(this.records,function(y){var z=this;var x=0;b.each(z,function(A,B){m.columns[x++]=A});return false})}if(this.virtualmode){if(this.pageable){this.updateview();return}var u=0;if(!this.groupable){this.updateview();return}else{var t=this.totalrecords}}else{var u=0;var t=this.totalrecords}if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var q=u;q=this.loadgrouprecords(0,u,t,j,e,p,i,k,l)}else{w=this.loadflatrecords(u,t,j,e,p,i,k,l)}if(k>e){i.splice(e,k-e)}if(this.groups.length>0&&this.groupable){this.totalrows=q}else{this.totalrows=w}return l};this.loadflatrecords=function(d,o,e,p,l,u,n,q){var t=this;var k=d;var m=d;o=Math.min(o,this.totalrecords);var g=this.sortdata!=null;var f=this.source.id&&(this.source.datatype=="local"||this.source.datatype=="array"||this.source.datatype=="");var j=g?this.sortdata:this.records;for(var h=d;h<o;h++){var s={};if(!g){s=b.extend({},j[h]);id=s[t.uniqueId];s.boundindex=k;t.loadedrecords[k]=s;s.uid=t.getid(t.source.id,s,k);t.recordsbyid["id"+s.uid]=j[h];s.uniqueid=t.generatekey();t.bounditems[this.bounditems.length]=s}else{s=b.extend({},j[h].value);id=s[t.uniqueId];s.boundindex=j[h].index;s.uid=t.getid(t.source.id,s,s.boundindex);t.recordsbyid["id"+s.uid]=j[h].value;t.loadedrecords[k]=s;s.uniqueid=t.generatekey();t.bounditems[s.boundindex]=s}if(p>=n||id!=u[p][t.uniqueId]||(l&&l[id])){q[q.length]=p}u[p]=s;p++;s.visibleindex=m;m++;k++}if(t.grid.summaryrows){var r=k;b.each(t.grid.summaryrows,function(){var i=b.extend({},this);i.boundindex=o++;t.loadedrecords[r]=i;i.uniqueid=t.generatekey();t.bounditems[t.bounditems.length]=i;u[p]=i;p++;i.visibleindex=m;m++;r++})}return m},this.updateview=function(n,o){var q=this;var k=this.pagesize*this.pagenum;var m=0;var r=new Array();var e=this.filters;var j=this.updated;var l=r.length;if(this.pageable){if(this.virtualmode){if(!this.groupable||this.groups.length==0){this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,m,j,r,l,[]);this.totalrows=r.length}else{if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(this._cachegrouppages[this.pagenum+"_"+this.pagesize]!=undefined){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize];this.totalrows=this.rows.length;return}this.loadgrouprecords(0,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,m,j,r,l,[]);this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows;this.totalrows=this.rows.length;return}}}}else{if(this.virtualmode&&(!this.groupable||this.groups.length==0)){var g=this.pagesize;if(g==0){g=Math.min(100,this.totalrecords)}var d=g*this.pagenum;if(this.loadedrecords.length==0){d=0}if(n!=null&&o!=null){this.loadflatrecords(n,o,e,m,j,r,l,[])}else{this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,m,j,r,l,[])}this.totalrows=this.loadedrecords.length;this.rows=r;if(r.length>=g){return}}}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage){r=this._updategroupsinpage(q,e,k,m,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum))}else{for(var h=this.pagesize*this.pagenum;h<this.pagesize*(1+this.pagenum);h++){var p=h<this.loadedrecords.length?this.loadedrecords[h]:null;if(p==null){continue}if(!this.pagesize||(k>=this.pagesize*this.pagenum&&k<=this.pagesize*(this.pagenum+1))){r[m]=p;m++}k++}}if((r.length==0||r.length<this.pagesize)&&!this.pageable&&this.virtualmode){m=r.length;var f=r.length;for(var h=this.pagesize*this.pagenum;h<this.pagesize*(1+this.pagenum)-f;h++){var p={};p.boundindex=h+f;p.visibleindex=h+f;p.uniqueid=q.generatekey();p.empty=true;q.bounditems[h+f]=p;r[m]=p;m++}}this.rows=r};this.generatekey=function(){var d=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d())};this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,true)};this.refresh=function(h){if(this.suspend){return}if(h==undefined){h=true}var l=this.rows.length;var k=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var e="";var g=this.cachedrecords.length;var s=new Array();this.totalrecords=0;var n=this.cachedrecords;this._dataIndexToBoundIndex=new Array();var f=this.filters.length;if(this.source!=null&&this.source.filter!=undefined&&this.source.localdata!=undefined){s=this.source.filter(this.filters,n,g);if(s==undefined){s=new Array()}this.records=s}else{if(this.source.filter==null||this.source.filter==undefined){for(var u=0;u<g;u++){var o=n[u];var d=undefined;for(var m=0;m<f;m++){var e=this.filters[m].filter;var r=o[this.filters[m].datafield];var t=e.evaluate(r);if(d==undefined){d=t}else{if(e.operator=="or"){d=d||t}else{d=d&&t}}}if(d){s[s.length]=b.extend({dataindex:u},o);this._dataIndexToBoundIndex[u]={boundindex:s.length-1}}else{this._dataIndexToBoundIndex[u]=null}}this.records=s}}if(this.sortdata){var i=this.sortfield;if(this.sortcache[i]){this.sortdata=null;var p=this.sortcache[i].direction;this.sortcache[i]=null;this.sortby(this.sortfield,p);return}}}else{if(this.filters.length==0&&!this.virtualmode){if(this.cachedrecords){this.totalrecords=0;var n=this.cachedrecords;this.records=n;if(this.sortdata){var i=this.sortfield;if(this.sortcache[i]){this.sortdata=null;var p=this.sortcache[i].direction;this.sortcache[i]=null;this.sortby(this.sortfield,p);return}}}}}var q=this.reload(this.records,this.rows,this.filter,this.updated,h);this.updated=null;if(this.rowschangecallback!=null){if(k!=totalrows){this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()})}if(l!=rows.length){this.rowschangecallback({type:"RowsCountChanged",data:{previous:l,current:rows.length}})}if(q.length>0||l!=rows.length){this.rowschangecallback({type:"RowsChanged",data:{previous:l,current:rows.length,diff:q}})}}};return this}})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.dataview.sort=function(){this.sortby=function(q,g,m){var n=Object.prototype.toString;if(g==null){this.sortdata=null;this.refresh();return}if(g==undefined){g=true}if(g=="a"||g=="asc"||g=="ascending"||g==true){g=true}else{g=false}var h=q;this.sortfield=q;this.sortfielddirection=g?"asc":"desc";if(this.sortcache==undefined){this.sortcache={}}this.sortdata=[];var s=[];var o=false;if(h=="constructor"){h=""}if(!this.virtualmode&&this.sortcache[h]!=null){var b=this.sortcache[h];s=b._sortdata;if(b.direction==g){s.reverse()}else{if(!b.direction&&g){s.reverse()}o=true}if(s.length<this.totalrecords){this.sortcache={};o=false;s=[]}}Object.prototype.toString=(typeof q=="function")?q:function(){return this[q]};var f=this.records;var p=this;var k="";if(this.source.datafields){a.each(this.source.datafields,function(){if(this.name==q){if(this.type){k=this.type}return false}})}if(s.length==0){if(f.length){var c=f.length;for(var j=0;j<c;j++){var l=f[j];if(l!=null){var r=l;var e=r.toString();s.push({sortkey:e,value:r,index:j})}}}else{var d=false;for(obj in f){var l=f[obj];if(l==undefined){d=true;break}var r=l;s.push({sortkey:r.toString(),value:r,index:obj})}if(d){a.each(f,function(t,u){s.push({sortkey:u.toString(),value:u,index:t})})}}}if(!o){if(m==null){s.sort(this._compare)}else{s.sort(m)}}if(!g){s.reverse()}Object.prototype.toString=n;this.sortdata=s;this.sortcache[h]={_sortdata:s,direction:g};this.reload(this.records,this.rows,this.filters,this.updated,true)},this.clearsortdata=function(){this.sortcache={};this.sortdata=[]};this._compare=function(c,b){var c=c.sortkey;var b=b.sortkey;if(c===undefined){c=null}if(b===undefined){b=null}if(c===null&&b===null){return 0}if(c===null&&b!==null){return 1}if(c!==null&&b===null){return -1}if(a.jqx.dataFormat){if(a.jqx.dataFormat.isNumber(c)&&a.jqx.dataFormat.isNumber(b)){if(c<b){return -1}if(c>b){return 1}return 0}else{if(a.jqx.dataFormat.isDate(c)&&a.jqx.dataFormat.isDate(b)){if(c<b){return -1}if(c>b){return 1}return 0}else{if(!a.jqx.dataFormat.isNumber(c)&&!a.jqx.dataFormat.isNumber(b)){c=String(c).toLowerCase();b=String(b).toLowerCase()}}}}try{if(c<b){return -1}if(c>b){return 1}}catch(d){var e=d}return 0};this._equals=function(c,b){return(this._compare(c,b)===0)}};a.extend(a.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var b=this;var c=this.getsortcolumn();if(this.sortdirection){a.each(this.columns.records,function(e,f){var d=a.data(document.body,"groupsortelements"+this.datafield);if(c==null||this.datafield!=c){a(this.sortasc).hide();a(this.sortdesc).hide();if(d!=null){d.sortasc.hide();d.sortdesc.hide()}}else{if(b.sortdirection.ascending){a(this.sortasc).show();a(this.sortdesc).hide();if(d!=null){d.sortasc.show();d.sortdesc.hide()}}else{a(this.sortasc).hide();a(this.sortdesc).show();if(d!=null){d.sortasc.hide();d.sortdesc.show()}}}})}},getsortcolumn:function(){if(this.sortcolumn){return this.sortcolumn}return null},removesort:function(){this.sortby(null)},sortby:function(c,e,d){if(this._loading){alert(this.loadingerrormessage);return false}if(c==null){e=null;c=this.sortcolumn}if(c){var b=this;if(d==undefined&&b.source.sortcomparer!=null){d=b.source.sortcomparer}if(e=="a"||e=="asc"||e=="ascending"||e==true){ascending=true}else{ascending=false}var f=b.getcolumn(c);if(f==undefined||f==null){return}if(e!=null){b.sortdirection={ascending:ascending,descending:!ascending}}else{b.sortdirection={ascending:false,descending:false}}if(e!=null){b.sortcolumn=c}else{b.sortcolumn=null}if(b.source.sort||b.virtualmode){b.dataview.sortfield=c;if(e==null){b.dataview.sortfielddirection=""}else{b.dataview.sortfielddirection=ascending?"asc":"desc"}if(b.source.sort){b.source.sort(c,e)}}else{b.dataview.sortby(c,e,d)}if(b.groupable&&b.groups.length>0){b._render(true,false,false);if(b._updategroupheadersbounds){b._updategroupheadersbounds()}}else{if(b.pageable){b.dataview.updateview()}b._updaterowsproperties();b.rendergridcontent(true)}b._raiseEvent(6,{sortinformation:b.getsortinformation()})}},_togglesort:function(d){var b=this;if(d.sortable&&b.sortable){var c=b.getsortinformation();var e=null;if(c.sortcolumn!=null&&c.sortcolumn==d.datafield){e=c.sortdirection.ascending;if(b.sorttogglestates>1){if(e==true){e=false}else{e=null}}else{e=!e}}else{e=true}b.sortby(d.datafield,e,null)}}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.extend(a.jqx._jqxGrid.prototype,{_initpager:function(){var k=this;var c=this.gridlocalization.pagergotopagestring;var j=this.gridlocalization.pagerrangestring;var n=this.gridlocalization.pagershowrowsstring;var l=(this.pagerheight-17)/2;this.pagerdiv=this.pagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>');if(!this.pageable){this.pagerdiv.remove();this.vScrollBar.jqxScrollBar({thumbSize:0});return}if(!this.pagerrenderer){this.pagerdiv.css("top",l);this.pagergotoinput=this.pagergotoinput||a('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>');this.pagergoto=this.pagergoto||a('<div style="float: right; margin-right: 7px;"></div>');this.pagerrightbutton=this.pagerrightbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerleftbutton=this.pagerleftbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerdetails=this.pagerdetails||a('<div style="margin-right: 7px; float: right;"></div>');this.pagershowrows=this.pagershowrows||a('<div style="margin-right: 7px; float: right;"></div>');if(this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList){this.pagershowrowscombo.remove();this.pagershowrowscombo=null}this.pagershowrowscombo=this.pagershowrowscombo||a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');this.pagerdiv.children().remove();this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id;this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring);this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring);this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerleftbutton);this.pagerrightbutton.jqxButton({cursor:"pointer",theme:this.theme});this.pagerleftbutton.jqxButton({cursor:"pointer",theme:this.theme});this.pagerleftbutton.find(".icon-arrow-left").remove();this.pagerrightbutton.find(".icon-arrow-right").remove();var d=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");d.addClass(this.toThemeProperty("icon-arrow-left"));this.pagerleftbutton.wrapInner(d);var h=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");h.addClass(this.toThemeProperty("icon-arrow-right"));this.pagerrightbutton.wrapInner(h);this.pagerdiv.append(this.pagerdetails);this.pagerdiv.append(this.pagershowrowscombo);this.pagerdiv.append(this.pagershowrows);this.pagerdiv.append(this.pagergotoinput);this.pagerdiv.append(this.pagergoto);var b=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList){alert("jqxdropdownlist is not loaded.");return}this.pagershowrowscombo.jqxDropDownList({source:b,enableBrowserBoundsDetection:true,keyboardSelection:false,autoDropDownHeight:true,width:44,height:16,theme:this.theme});var g=0;for(var f=0;f<b.length;f++){if(this.pagesize>=b[f]){g=f}}this.pagershowrows[0].innerHTML=n;this.pagergoto[0].innerHTML=c;this.updatepagerdetails();this.pager.append(this.pagerdiv);this.pagershowrowscombo.jqxDropDownList({selectedIndex:g});this.pagerpageinput=this.pagergotoinput.find("input");this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));var k=this;this.pagershowrowscombo.unbind("select");this.pagershowrowscombo.bind("select",function(q){if(q.args){if(k.editcell!=null&&k.endcelledit){k.endcelledit(k.editcell.row,k.editcell.column,true,false)}var o=q.args.index;var r=k.dataview.pagenum*k.dataview.pagesize;var p=b[o];var s=k.pagesize;k.pagesize=parseInt(p);if(isNaN(k.pagesize)){k.pagesize=10}if(p>=100){k.pagershowrowscombo.jqxDropDownList({width:55})}else{k.pagershowrowscombo.jqxDropDownList({width:44})}k.dataview.pagesize=k.pagesize;var i=Math.floor(r/k.dataview.pagesize);k.prerenderrequired=true;k._requiresupdate=true;k._raiseEvent(10,{pagenum:i,oldpagesize:s,pagesize:k.dataview.pagesize});k.gotopage(i);if(k.autoheight&&k._updatesizeonwindowresize){k._updatesize(true);setTimeout(function(){k._updatesize(true)},500)}}});var m=this.pagergotoinput.find("input");m.addClass(this.toThemeProperty("jqx-grid-pager-input"));m.addClass(this.toThemeProperty("jqx-rc-all"));m.unbind("keydown");m.unbind("change");m.bind("keydown",function(i){if(i.keyCode>=65&&i.keyCode<=90){return false}if(i.keyCode=="13"){var o=m.val();o=parseInt(o);if(!isNaN(o)){k.gotopage(o-1)}return false}});m.bind("change",function(){var i=m.val();i=parseInt(i);if(!isNaN(i)){k.gotopage(i-1)}});this.addHandler(this.pagerrightbutton,"mouseenter",function(){h.addClass(k.toThemeProperty("icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(k.toThemeProperty("icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){h.removeClass(k.toThemeProperty("icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(k.toThemeProperty("icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){h.addClass(k.toThemeProperty("icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){h.removeClass(k.toThemeProperty("icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(k.toThemeProperty("icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(k.toThemeProperty("icon-arrow-left-selected"))});this.addHandler(this.pagerrightbutton,"click",function(){if(!k.pagerrightbutton.jqxButton("disabled")){k.gotonextpage()}});this.addHandler(this.pagerleftbutton,"click",function(){if(!k.pagerrightbutton.jqxButton("disabled")){k.gotoprevpage()}})}else{this.pagerdiv.children().remove();var e=this.pagerrenderer();if(e!=null){this.pagerdiv.append(a(e))}this.pager.append(this.pagerdiv)}this.vScrollBar.jqxScrollBar({thumbSize:this.host.height()/5});this.vScrollBar.jqxScrollBar("refresh");this._arrange()},_updatepagertheme:function(){if(this.pagershowrowscombo==null){return}this.pagershowrowscombo.jqxDropDownList({theme:this.theme});this.pagerrightbutton.jqxButton({theme:this.theme});this.pagerleftbutton.jqxButton({theme:this.theme});this.pagerpageinput.removeClass();var c=this.pagergotoinput.find("input");c.removeClass();c.addClass(this.toThemeProperty("jqx-grid-pager-input"));c.addClass(this.toThemeProperty("jqx-rc-all"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));this.pagerleftbutton.find(".icon-arrow-left").remove();this.pagerrightbutton.find(".icon-arrow-right").remove();var d=a("<div style='width: 27px; height: 15px;'></div>");d.addClass(this.toThemeProperty("icon-arrow-left"));this.pagerleftbutton.wrapInner(d);var e=a("<div style='width: 27px; height: 15px;'></div>");e.addClass(this.toThemeProperty("icon-arrow-right"));this.pagerrightbutton.wrapInner(e);var b=function(h,g){h.removeHandler(g,"mouseenter");h.removeHandler(g,"mouseleave");h.removeHandler(g,"mousedown");h.removeHandler(g,"mouseup")};b(this,this.pagerrightbutton);b(this,this.pagerleftbutton);var f=this;this.addHandler(this.pagerrightbutton,"mouseenter",function(){e.addClass(f.toThemeProperty("icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(f.toThemeProperty("icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){e.removeClass(f.toThemeProperty("icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(f.toThemeProperty("icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){e.addClass(f.toThemeProperty("icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){e.removeClass(f.toThemeProperty("icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(f.toThemeProperty("icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(f.toThemeProperty("icon-arrow-left-selected"))})},gotopage:function(d){if(d==null||d==undefined){d=0}if(d==-1){d=0}if(d<0){return}var c=this.dataview.totalrecords;if(this.summaryrows){c+=this.summaryrows.length}var b=Math.ceil(c/this.pagesize);if(d>=b){if(this.dataview.totalrecords==0){this.dataview.pagenum=0;this.updatepagerdetails()}if(d>0){d=b-1}}if(this.dataview.pagenum!=d||this._requiresupdate){if(this.pageable){if(this.source.pager){this.source.pager(d,this.dataview.pagesize,this.dataview.pagenum)}this.dataview.pagenum=d;if(this.virtualmode){this.hiddens=new Array();this.expandedgroups=new Array();if(this.rendergridrows){var g=d*this.dataview.pagesize;var f=g+this.dataview.pagesize;if(g!=null&&f!=null){if(this.pagerrightbutton){this.pagerrightbutton.jqxButton({disabled:true});this.pagerleftbutton.jqxButton({disabled:true});this.pagershowrowscombo.jqxDropDownList({disabled:true})}this.updatebounddata("pagechanged");this._raiseEvent(9,{pagenum:d,pagesize:this.dataview.pagesize});this.updatepagerdetails();if(this.autosavestate){if(this.savestate){this.savestate()}}return}}}else{this.dataview.updateview()}this._loadrows();this._updatepageviews();this.tableheight=null;this._renderrows(this.virtualsizeinfo);this.updatepagerdetails();if(this.autoheight){var e=this.host.height()-this._gettableheight();height=e+this._pageviews[0].height;if(height!=this.host.height()){this._arrange();this._updatepageviews()}}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,false)}this._raiseEvent(9,{pagenum:d,pagesize:this.dataview.pagesize});if(this.autosavestate){if(this.savestate){this.savestate()}}}}},gotoprevpage:function(){if(this.dataview.pagenum>0){this.gotopage(this.dataview.pagenum-1)}else{var c=this.dataview.totalrecords;if(this.summaryrows){c+=this.summaryrows.length}var b=Math.ceil(c/this.pagesize);this.gotopage(b-1)}},gotonextpage:function(){var c=this.dataview.totalrecords;if(this.summaryrows){c+=this.summaryrows.length}var b=Math.ceil(c/this.pagesize);if(this.dataview.pagenum<b-1){this.gotopage(this.dataview.pagenum+1)}else{this.gotopage(0)}},updatepagerdetails:function(){if(this.pagerdetails!=null&&this.pagerdetails.length>0){var f=this.dataview.pagenum*this.pagesize;var c=(this.dataview.pagenum+1)*this.pagesize;if(c>=this.dataview.totalrecords){c=this.dataview.totalrecords}var b=this.dataview.totalrecords;if(this.summaryrows){b+=this.summaryrows.length;if((this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords){c=b}}f++;var e=this.pagergotoinput.find("input");e.val(this.dataview.pagenum+1);var d=Math.round(b/this.dataview.pagesize);if(d>1){d--}d++;this.pagergotoinput.attr("title","1 - "+d);if(c==0&&c<f){f=0}this.pagerdetails[0].innerHTML=f+"-"+c+this.gridlocalization.pagerrangestring+b;if(f>c){this.gotoprevpage()}}},_updatepagedview:function(e,g,b){var j=this;var k=this.dataview.rows.length;for(var d=0;d<k;d++){var f=this.dataview.rows[d].visibleindex;var h={index:f,height:this.heights[f],hidden:this.hiddens[f],details:this.details[f]};if(this.heights[f]==undefined){this.heights[f]=this.rowsheight;h.height=this.rowsheight}if(this.hiddens[f]==undefined){this.hiddens[f]=false;h.hidden=false}if(this.details[f]==undefined){this.details[f]=null}if(h.height!=j.rowsheight){g-=j.rowsheight;g+=h.height}if(h.hidden){g-=h.height}else{b+=h.height;var c=0;if(this.rowdetails){if(h.details&&h.details.rowdetails&&!h.details.rowdetailshidden){c=h.details.rowdetailsheight;b+=c;g+=c}}}}this._pageviews[0]={top:0,height:b};return g}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.extend(a.jqx._jqxGrid.prototype,{selectrow:function(b,c){this._applyrowselection(b,true,c)},selectallrows:function(){this.clearselection(false);var c=this.dataview.records.length;if(c>0){for(var b=0;b<c;b++){if(b<c-1){this.selectrow(b,false)}else{this.selectrow(b,true)}}}},unselectrow:function(b,c){this._applyrowselection(b,false,c)},selectcell:function(c,b){this._applycellselection(c,b,true)},unselectcell:function(c,b){this._applycellselection(c,b,false)},clearselection:function(c){this.selectedrowindex=-1;for(var b=0;b<this.selectedrowindexes.length;b++){this._raiseEvent(3,{rowindex:this.selectedrowindexes[b]})}this.selectedrowindexes=new Array();this.selectedcells=new Array();if(!c){return}this._renderrows(this.virtualsizeinfo)},getselectedrowindex:function(){return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){return this.selectedcell},getselectedcells:function(){var b=new Array();for(obj in this.selectedcells){b[b.length]=this.selectedcells[obj]}return b},_applyrowselection:function(c,b,g,e,f){if(c==null){return false}var d=this.selectedrowindex;if(this.selectionmode=="singlerow"){if(b){this._raiseEvent(2,{rowindex:c,row:this.getrowdata(c)})}else{this._raiseEvent(3,{rowindex:c,row:this.getrowdata(c)})}this._raiseEvent(3,{rowindex:d});this.selectedrowindexes=new Array();this.selectedcells=new Array()}if(e==true){this.selectedrowindexes=new Array()}var h=this.selectedrowindexes.indexOf(c);if(b){this.selectedrowindex=c;if(this.selectedrowindexes.indexOf(c)==-1){this.selectedrowindexes.push(c);if(this.selectionmode!="singlerow"){this._raiseEvent(2,{rowindex:c,row:this.getrowdata(c)})}}else{if(this.selectionmode=="multiplerows"){this.selectedrowindexes.splice(h,1);this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(c)});this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1}}}else{if(h>=0||this.selectionmode=="singlerow"||this.selectionmode=="multiplerowsextended"){this.selectedrowindexes.splice(h,1);this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(c)});this.selectedrowindex=-1}}if(g==undefined||g){this._rendervisualrows()}return true},_applycellselection:function(d,i,c,h){if(d==null){return false}if(i==null){return false}var e=this.selectedrowindex;if(this.selectionmode=="singlecell"){var g=this.selectedcell;if(g!=null){this._raiseEvent(16,{rowindex:g.rowindex,datafield:g.datafield})}this.selectedcells=new Array()}if(this.selectionmode=="multiplecellsextended"){var g=this.selectedcell;if(g!=null){this._raiseEvent(16,{rowindex:g.rowindex,datafield:g.datafield})}}var f=d+"_"+i;var b={rowindex:d,datafield:i};if(c){this.selectedcell=b;if(!this.selectedcells[f]){this.selectedcells[f]=b;this.selectedcells.length++;this._raiseEvent(15,b)}else{if(this.selectionmode=="multiplecells"){this.selectedcells[f]=undefined;this.selectedcells.length--;this._raiseEvent(16,b)}}}else{this.selectedcells[f]=undefined;this.selectedcells.length--;this._raiseEvent(16,b)}if(h==undefined||h){this._rendervisualrows()}return true},_getcellindex:function(b){var c=-1;a.each(this.selectedcells,function(){c++;if(this[b]){return false}});return c},_clearhoverstyle:function(){if(undefined==this.hoveredrow||this.hoveredrow==-1){return}if(this.vScrollInstance.isScrolling()){return}if(this.hScrollInstance.isScrolling()){return}var b=this.table.find(".jqx-grid-cell-hover");if(b.length>0){b.removeClass(this.toTP("jqx-grid-cell-hover"));b.removeClass(this.toTP("jqx-fill-state-hover"))}this.hoveredrow=-1},_clearselectstyle:function(){var k=this.table[0].rows.length;var p=this.table[0].rows;var l=this.toTP("jqx-grid-cell-selected");var c=this.toTP("jqx-fill-state-pressed");var m=this.toTP("jqx-grid-cell-hover");var h=this.toTP("jqx-fill-state-hover");for(var g=0;g<k;g++){var b=p[g];var f=b.cells.length;var o=b.cells;for(var e=0;e<f;e++){var d=o[e];var n=a(d);if(d.className.indexOf("jqx-grid-cell-selected")!=-1){n.removeClass(l);n.removeClass(c)}if(d.className.indexOf("jqx-grid-cell-hover")!=-1){n.removeClass(m);n.removeClass(h)}}}},_selectpath:function(m,e){var l=this;var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,m):0;var k=this._lastClickedCell?Math.max(this._lastClickedCell.row,m):0;if(i<=k){var h=this._getcolumnindex(this._lastClickedCell.column);var g=this._getcolumnindex(e);var f=Math.min(h,g);var d=Math.max(h,g);this.selectedcells=new Array();for(var b=i;b<=k;b++){for(var j=f;j<=d;j++){this._applycellselection(b,l._getcolumnat(j).datafield,true,false)}}this._rendervisualrows()}},_selectrowpath:function(e){if(this.selectionmode=="multiplerowsextended"){var c=this;var b=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0;var f=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(b<=f){this.selectedrowindexes=new Array();for(var d=b;d<=f;d++){this._applyrowselection(d,true,false)}this._rendervisualrows()}}},_selectrowwithmouse:function(p,l,e,f,d,j){var q=l.row;if(q==undefined){return}var g=l.index;var c=this.hittestinfo[g].visualrow;if(this.hittestinfo[g].details){return}var i=c.cells[0].className;if(q.group){return}if(this.selectionmode=="multiplerows"||this.selectionmode=="multiplecells"||(this.selectionmode.indexOf("multiple")!=-1&&(j==true||d==true))){var n=e.indexOf(q.boundindex)!=-1;var m=q.boundindex+"_"+f;if(this.selectionmode.indexOf("cell")!=-1){var o=this.selectedcells[m]!=undefined;if(this.selectedcells[m]!=undefined&&o){this._selectcellwithstyle(p,false,g,f,c)}else{this._selectcellwithstyle(p,true,g,f,c)}if(j&&this._lastClickedCell){this._selectpath(q.boundindex,f);this.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden")}}}else{if(n){this._selectrowwithstyle(p,c,false,f)}else{this._selectrowwithstyle(p,c,true,f)}if(j&&this._lastClickedCell){this.selectedrowindexes=new Array();var h=this._lastClickedCell?Math.min(this._lastClickedCell.row,q.boundindex):0;var k=this._lastClickedCell?Math.max(this._lastClickedCell.row,q.boundindex):0;for(var b=h;b<=k;b++){this._applyrowselection(b,true,false,false)}this._rendervisualrows()}}}else{this._clearselectstyle();this._selectrowwithstyle(p,c,true,f);if(this.selectionmode.indexOf("cell")!=-1){this._selectcellwithstyle(p,true,g,f,c)}}if(!j){this._lastClickedCell={row:q.boundindex,column:f}}},_selectcellwithstyle:function(d,c,g,f,e){var b=a(e.cells[d._getcolumnindex(f)]);b.removeClass(this.toTP("jqx-grid-cell-hover"));b.removeClass(this.toTP("jqx-fill-state-hover"));if(c){b.addClass(this.toTP("jqx-grid-cell-selected"));b.addClass(this.toTP("jqx-fill-state-pressed"))}else{b.removeClass(this.toTP("jqx-grid-cell-selected"));b.removeClass(this.toTP("jqx-fill-state-pressed"))}},_selectrowwithstyle:function(e,h,b,j){var c=h.cells.length;var f=0;if(e.rowdetails&&e.showrowdetailscolumn){f=1}for(var g=f;g<c;g++){var d=h.cells[g];if(b){a(d).removeClass(this.toTP("jqx-grid-cell-hover"));a(d).removeClass(this.toTP("jqx-fill-state-hover"));if(e.selectionmode.indexOf("cell")==-1){a(d).addClass(this.toTP("jqx-grid-cell-selected"));a(d).addClass(this.toTP("jqx-fill-state-pressed"))}}else{a(d).removeClass(this.toTP("jqx-grid-cell-hover"));a(d).removeClass(this.toTP("jqx-grid-cell-selected"));a(d).removeClass(this.toTP("jqx-fill-state-hover"));a(d).removeClass(this.toTP("jqx-fill-state-pressed"))}}},_handlemousemoveselection:function(b,o){if((o.selectionmode=="multiplerowsextended"||o.selectionmode=="multiplecellsextended")&&o.mousecaptured){var d=this.showheader?this.columnsheader.height()+2:0;var c=this._groupsheader()?this.groupsheader.height():0;var g=this.showtoolbar?this.toolbarheight:0;c+=g;var f=this.host.offset();if(this.hasTransform){f=a.jqx.utilities.getOffset(this.host)}var l=b.pageX;var k=b.pageY-c;var n=parseInt(this.columnsheader.offset().top);if(this.hasTransform){n=a.jqx.utilities.getOffset(this.columnsheader).top}var e=d;if(k<e){k=e+5}var m=parseInt(Math.min(o.mousecaptureposition.left,l));var j=-5+parseInt(Math.min(o.mousecaptureposition.top,k));var h=parseInt(Math.abs(o.mousecaptureposition.left-l));var i=parseInt(Math.abs(o.mousecaptureposition.top-k));m-=f.left;j-=f.top;this.selectionarea.css("visibility","visible");this.selectionarea.width(h);this.selectionarea.height(i);this.selectionarea.css("left",m);this.selectionarea.css("top",j)}},_handlemouseupselection:function(u,o){if(this.selectionarea.css("visibility")!="visible"){o.mousecaptured=false;return true}if(o.mousecaptured&&(o.selectionmode=="multiplerowsextended"||o.selectionmode=="multiplecellsextended")){o.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden");var w=this.showheader?this.columnsheader.height()+2:0;var p=this._groupsheader()?this.groupsheader.height():0;var B=this.showtoolbar?this.toolbarheight:0;p+=B;var C=this.selectionarea.offset();var c=this.host.offset();if(this.hasTransform){c=a.jqx.utilities.getOffset(this.host);C=a.jqx.utilities.getOffset(this.selectionarea)}var n=C.left-c.left;var k=C.top-w-c.top-p;var s=k;var g=n+this.selectionarea.width();var D=n;var l=new Array();var e=new Array();if(o.selectionmode=="multiplerowsextended"){while(k<s+this.selectionarea.height()){var b=this._hittestrow(n,k);var f=b.row;var h=b.index;if(h!=-1){if(!e[h]){e[h]=true;l[l.length]=b}}k+=20}var s=0;a.each(l,function(){var i=this;var m=this.row;if(o.selectionmode!="none"&&o._selectrowwithmouse){if(u.ctrlKey){o._applyrowselection(m.boundindex,true,false,false)}else{if(s==0){o._applyrowselection(m.boundindex,true,false,true)}else{o._applyrowselection(m.boundindex,true,false,false)}}s++}})}else{var r=o.hScrollInstance;var t=r.value;var q=o.table[0].rows[0];var j=o.selectionarea.height();if(!u.ctrlKey&&j>0){o.selectedcells=new Array()}var A=j;while(k<s+A){var b=o._hittestrow(n,k);var f=b.row;var h=b.index;if(h!=-1){if(!e[h]){e[h]=true;for(var v=0;v<q.cells.length;v++){var d=parseInt(a(o.columnsrow[0].cells[v]).css("left"))-t;var z=d+a(o.columnsrow[0].cells[v]).width();if((D>=d&&D<=z)||(g>=d&&g<=z)||(d>=D&&d<=g)){o._applycellselection(f.boundindex,o._getcolumnat(v).datafield,true,false)}}}}k+=5}}if(o.autosavestate){if(o.savestate){o.savestate()}}o._renderrows(o.virtualsizeinfo)}}},selectprevcell:function(e,c){var f=this._getcolumnindex(c);var b=this.columns.records.length;var d=this._getprevvisiblecolumn(f);if(d!=null){this.clearselection();this.selectcell(e,d.datafield)}},selectnextcell:function(e,d){var f=this._getcolumnindex(d);var c=this.columns.records.length;var b=this._getnextvisiblecolumn(f);if(b!=null){this.clearselection();this.selectcell(e,b.datafield)}},_getfirstvisiblecolumn:function(){var b=this;var e=this.columns.records.length;for(var c=0;c<e;c++){var d=this.columns.records[c];if(!d.hidden&&d.datafield!=null){return d}}return null},_getlastvisiblecolumn:function(){var b=this;var e=this.columns.records.length;for(var c=e-1;c>=0;c--){var d=this.columns.records[c];if(!d.hidden&&d.datafield!=null){return d}}return null},_handlekeydown:function(t,m){if(m.editcell){return true}if(m.selectionmode=="none"){return true}if(m.showfilterrow&&m.filterable){if(this.filterrow){if(a(t.target).ischildof(this.filterrow)){return true}}}if(m.pageable){if(a(t.target).ischildof(this.pager)){return true}}if(this.showtoolbar){if(a(t.target).ischildof(this.toolbar)){return true}}if(this.showstatusbar){if(a(t.target).ischildof(this.statusbar)){return true}}var y=t.charCode?t.charCode:t.keyCode?t.keyCode:0;var l=false;if(t.altKey){return true}var i=Math.round(m._gettableheight());var r=Math.round(i/m.rowsheight);var e=m.getdatainformation();switch(m.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":var z=m.getselectedcell();if(z!=null){var d=this.getrowvisibleindex(z.rowindex);var f=d;var k=z.datafield;var o=m._getcolumnindex(k);var b=m.columns.records.length;var p=function(D,B,C){var A=function(H,E){var G=m.dataview.loadedrecords[H];if(G!=undefined&&E!=null){if(C||C==undefined){m.clearselection()}var F=G.boundindex;m.selectcell(F,E);m._oldselectedcell=m.selectedcell;l=true;m.ensurecellvisible(H,E);return true}return false};if(!A(D,B)){m.ensurecellvisible(D,B);A(D,B);if(m.virtualmode){m.host.focus()}}if(t.shiftKey&&y!=9){if(m.selectionmode=="multiplecellsextended"){if(m._lastClickedCell){m._selectpath(D,B);m.selectedcell={rowindex:D,datafield:B};return}}}else{if(!t.shiftKey){m._lastClickedCell={row:D,column:B}}}};var u=t.shiftKey&&m.selectionmode!="singlecell"&&m.selectionmode!="multiplecells";var v=function(){p(0,k,!u)};var g=function(){var A=e.rowscount-1;p(A,k,!u)};var c=y==9&&!t.shiftKey;var h=y==9&&t.shiftKey;if(c||h){u=false}var j=t.ctrlKey;if(j&&y==37){var x=m._getfirstvisiblecolumn(o);if(x!=null){p(f,x.datafield)}}else{if(j&&y==39){var n=m._getlastvisiblecolumn(o);if(n!=null){p(f,n.datafield)}}else{if(y==39||c){var q=m._getnextvisiblecolumn(o);if(q!=null){p(f,q.datafield,!u)}else{if(!c){l=true}}}else{if(y==37||h){var x=m._getprevvisiblecolumn(o);if(x!=null){p(f,x.datafield,!u)}else{if(!h){l=true}}}else{if(y==36){v()}else{if(y==35){g()}else{if(y==33){if(f-r>=0){var w=f-r;p(w,k,!u)}else{v()}}else{if(y==34){if(e.rowscount>f+r){var w=f+r;p(w,k,!u)}else{g()}}else{if(y==38){if(j){v()}else{if(f>0){p(f-1,k,!u)}else{l=true}}}else{if(y==40){if(j){g()}else{if(e.rowscount>f+1){p(f+1,k,!u)}else{l=true}}}}}}}}}}}}}break;case"singlerow":case"multiplerows":case"multiplerowsextended":var f=m.getselectedrowindex();if(f==null||f==-1){return true}f=this.getrowvisibleindex(f);var s=function(B,C){var A=function(F){var H=m.dataview.loadedrecords[F];if(H!=undefined){var G=H.boundindex;var E=m.selectedrowindex;if(C||C==undefined){m.clearselection()}m.selectedrowindex=E;m.selectrow(G,false);var D=m.ensurerowvisible(F);if(!D){m._rendervisualrows()}l=true;return true}return false};if(!A(B)){m.ensurerowvisible(B);A(B,C);if(m.virtualmode){m.host.focus()}}if(t.shiftKey&&y!=9){if(m.selectionmode=="multiplerowsextended"){if(m._lastClickedCell){m._selectrowpath(B);m.selectedrowindex=B;return}}}else{if(!t.shiftKey){m._lastClickedCell={row:B}}}};var u=t.shiftKey&&m.selectionmode!="singlerow"&&m.selectionmode!="multiplerows";var v=function(){s(0,!u)};var g=function(){var A=e.rowscount-1;s(A,!u)};var j=t.ctrlKey;if(y==36||(j&&y==38)){v()}else{if(y==35||(j&&y==40)){g()}else{if(y==33){if(f-r>=0){var w=f-r;s(w,!u)}else{v()}}else{if(y==34){if(e.rowscount>f+r){var w=f+r;s(w,!u)}else{g()}}else{if(y==38){if(f>0){s(f-1,!u)}else{l=true}}else{if(y==40){if(e.rowscount>f+1){s(f+1,!u)}else{l=true}}}}}}}break}if(l){if(m.autosavestate){if(m.savestate){m.savestate()}}if(m.editcell!=null&&m.endcelledit){m.endcelledit(m.editcell.row,m.editcell.column,true,true)}return false}return true},_handlemousemove:function(r,m){if(m.vScrollInstance.isScrolling()){return}if(m.hScrollInstance.isScrolling()){return}var t;var n;var e;var l;var k;if(m.enablehover||m.selectionmode=="multiplerows"){t=this.showheader?this.columnsheader.height()+2:0;n=this._groupsheader()?this.groupsheader.height():0;var v=this.showtoolbar?this.toolbarheight:0;n+=v;e=this.host.offset();if(this.hasTransform){e=a.jqx.utilities.getOffset(this.host)}l=r.pageX-e.left;k=r.pageY-t-e.top-n}if(m.selectionmode=="multiplerowsextended"||m.selectionmode=="multiplecellsextended"){if(m.mousecaptured==true){return}}if(m.enablehover){if(m.disabled){return}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){return}var c=this._hittestrow(l,k);if(!c){return}var g=c.row;var h=c.index;if(this.hoveredrow!=-1&&h!=-1&&this.hoveredrow==h&&this.selectionmode.indexOf("cell")==-1){return}this._clearhoverstyle();if(h==-1||g==undefined){return}var o=this.hittestinfo[h].visualrow;if(o==null){return}if(this.hittestinfo[h].details){return}var w=0;if(m.rowdetails&&m.showrowdetailscolumn){w=1}if(o.cells.length==0){return}var j=o.cells[w].className;if(g.group||j.indexOf("jqx-grid-cell-selected")!=-1){return}this.hoveredrow=h;if(this.selectionmode.indexOf("cell")!=-1){var d=-1;var p=this.hScrollInstance;var q=p.value;for(var s=0;s<o.cells.length;s++){var f=parseInt(a(this.columnsrow[0].cells[s]).css("left"))-q;var u=f+a(this.columnsrow[0].cells[s]).width();if(u>=l&&l>=f){d=s;break}}if(d!=-1){var b=o.cells[d];if(b.className.indexOf("jqx-grid-cell-selected")==-1){if(b.className.indexOf("jqx-grid-group")==-1){a(b).addClass(this.toTP("jqx-grid-cell-hover"));a(b).addClass(this.toTP("jqx-fill-state-hover"))}}}return}for(var s=w;s<o.cells.length;s++){var b=o.cells[s];if(b.className.indexOf("jqx-grid-group")==-1){a(b).addClass(this.toTP("jqx-grid-cell-hover"));a(b).addClass(this.toTP("jqx-fill-state-hover"))}}}else{return true}}})})(jQuery);
/*
jQWidgets v2.5.0 (2012-Oct-17)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.extend(a.jqx._jqxGrid.prototype,{_updatefilterrowui:function(f){var l=this.columns.records.length;var e=0;for(var h=0;h<l;h++){var g=this.columns.records[h];var c=g.width;if(c<g.minwidth){c=g.minwidth}if(c>g.maxwidth){c=g.maxwidth}var k=a(this.filterrow[0].cells[h]);k.css("left",e);var i=true;if(k.width()==c){i=false}if(f){i=true}k.width(c);k[0].left=e;if(!(g.hidden&&g.hideable)){e+=c}else{k.css("display","none")}if(!i){continue}if(g.createfilterwidget&&g.filtertype=="custom"){g.createfilterwidget(g,k)}else{if(g.filterable){var d=function(m,n){var j=a(n.children()[0]);j.width(c-10)};switch(g.filtertype){case"number":a(k.children()[0]).width(c);k.find("input").width(c-30);break;case"date":if(this.host.jqxDateTimeInput){a(k.children()[0]).jqxDateTimeInput({width:c-10})}else{d(this,k)}break;case"textbox":case"default":d(this,k);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){a(k.children()[0]).jqxDropDownList({width:c-10})}else{d(this,k)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){d(this,k)}break}}}}var b=a(this.filterrow.children()[0]);b.width(parseInt(e)+2);b.height(this.filterrowheight)},clearfilterrow:function(){this._disablefilterrow=true;var b=this.columns.records.length;var f=0;for(var d=0;d<b;d++){var c=this.columns.records[d];var g=a(this.filterrow[0].cells[d]);if(c.filterable){var e=function(i,j){var h=a(j.children()[0]);h.val("")};switch(c.filtertype){case"number":g.find("input").val("");break;case"date":if(this.host.jqxDateTimeInput){a(g.children()[0]).jqxDateTimeInput("setDate",null)}else{e(this,g)}break;case"textbox":case"default":e(this,g);break;case"list":if(this.host.jqxDropDownList){a(g.children()[0]).jqxDropDownList("clearSelection")}else{e(this,g)}break;case"checkedlist":if(this.host.jqxDropDownList){a(g.children()[0]).jqxDropDownList("checkAll")}else{e(this,g)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){e(this,g)}else{a(g.children()[0]).jqxCheckBox({checked:null})}break}}}this._disablefilterrow=false},_applyfilterfromfilterrow:function(){if(this._disablefilterrow==true){return}var z=this.columns.records.length;var C=this;for(var t=0;t<z;t++){var k=new a.jqx.filter();var u=this.columns.records[t];if(!u.filterable){continue}var f=C._getcolumntypebydatafield(u);var d=C._getfiltertype(f);var l=1;var D=true;var e=u.filtertype;var A=function(j,J,H){var i=true;if(j._filterwidget){var F=j._filterwidget.val();if(F!=""){var I="equal";if(J=="stringfilter"){var I="contains"}if(j.filtercondition!=undefined){I=j.filtercondition}var G=H.createfilter(J,F,I);H.addfilter(l,G)}else{i=false}}return i};switch(u.filtertype){case"date":if(u._filterwidget.jqxDateTimeInput){var p=u._filterwidget.jqxDateTimeInput("getRange");if(p!=null&&p.from!=null&&p.to!=null){var o="GREATER_THAN_OR_EQUAL";var r=new Date(0);r.setHours(0);r.setFullYear(p.from.getFullYear(),p.from.getMonth(),p.from.getDate());var q=new Date(0);q.setHours(0);q.setFullYear(p.to.getFullYear(),p.to.getMonth(),p.to.getDate());var y=k.createfilter(d,r,o);k.addfilter(0,y);var c="LESS_THAN_OR_EQUAL";var x=k.createfilter(d,q,c);k.addfilter(0,x)}else{D=false}}else{D=A(u,d,k)}break;case"number":if(u._filterwidget){var p=u._filterwidget.find("input").val();var h=u._filterwidget.find(".filter").jqxDropDownList("selectedIndex");var w=k.getoperatorsbyfiltertype(d)[h];if(C.updatefilterconditions){var E=C.updatefilterconditions(d,k.getoperatorsbyfiltertype(d));if(E!=undefined){k.setoperatorsbyfiltertype(d,E)}var w=k.getoperatorsbyfiltertype(d)[h]}var n=w=="NULL"||w=="NOT_NULL";var s=w=="EMPTY"||w=="NOT_EMPTY";if(p!=undefined&&p.length>0||n||s){y=k.createfilter(d,p,w,null,u.cellsformat,C.gridlocalization);k.addfilter(0,y)}else{D=false}}else{D=false}break;case"textbox":case"default":D=A(u,d,k);break;case"bool":case"boolean":if(u._filterwidget.jqxCheckBox){var p=u._filterwidget.jqxCheckBox("checked");if(p!=null){var o="equal";var m=k.createfilter(d,p,o);k.addfilter(l,m)}else{D=false}}else{D=A(u,d,k)}break;case"list":var g=u._filterwidget.jqxDropDownList("listBox");if(g.selectedIndex>0){var b=g.getItem(g.selectedIndex);var p=b.value;var o="equal";var m=k.createfilter(d,p,o);k.addfilter(l,m)}else{D=false}break;case"checkedlist":if(u._filterwidget.jqxDropDownList){var g=u._filterwidget.jqxDropDownList("listBox");var B=g.getCheckedItems();if(B.length==0){var l=1;var p="Empty";var o="equal";var m=k.createfilter(d,p,o);k.addfilter(l,m);D=true}else{if(B.length!=g.items.length){for(var v=0;v<B.length;v++){var p=B[v].value;var o="equal";var m=k.createfilter(d,p,o);k.addfilter(l,m)}}else{D=false}}}else{D=A(u,d,k)}break}if(D){this.addfilter(u.datafield,k,false)}else{this.removefilter(u.datafield,false)}}this.applyfilters()},_updatefilterrow:function(){var b=a('<div style="position: relative;" id="row00'+this.element.id+'"></div>');var f=0;var o=this.columns.records.length;var m=this.toThemeProperty("jqx-grid-cell");m+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var q=o+10;var r=new Array();var n=this;this.filterrow[0].cells=r;b.height(this.filterrowheight);this.filterrow.children().detach();this.filterrow.append(b);if(!this._filterrowcache){this._filterrowcache=new Array()}var g=false;var d=new Array();for(var h=0;h<o;h++){var e=this.columns.records[h];var c=e.width;if(c<e.minwidth){c=e.minwidth}if(c>e.maxwidth){c=e.maxwidth}var l=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+m+'"></div>');b.append(l);l.css("left",f);l.css("z-index",q--);l.width(c);l[0].left=f;if(!(e.hidden&&e.hideable)){f+=c}else{l.css("display","none")}r[r.length]=l[0];var k=true;if(this.groupable){var p=this.rowdetails?1:0;if(this.groups.length+p>h){k=false}}if(this.rowdetails&&h==0){k=false}if(k){if(e.filtertype=="custom"&&e.createfilterwidget){var i=function(){n._applyfilterfromfilterrow()};e.createfilterwidget(e,l,i)}else{if(e.filterable){if(this._filterrowcache[e.datafield]){g=true;l.append(this._filterrowcache[e.datafield]);e._filterwidget=this._filterrowcache[e.datafield]}else{this._addfilterwidget(e,l,c);d[e.datafield]=e._filterwidget}}}}}this._filterrowcache=d;if(a.browser.msie&&a.browser.version<8){b.css("z-index",q--)}b.width(parseInt(f)+2);this.filterrow.addClass(m);this.filterrow.css("border-top-width","1px");if(g){this._updatefilterrowui(true)}},_addfilterwidget:function(z,d,x){var D=this;var v="";for(var B=0;B<D.dataview.filters.length;B++){var t=D.dataview.filters[B];if(t.datafield&&t.datafield==z.datafield){v=t.filter.getfilters()[0].value;break}}var g=function(E,F){var f=a('<input autocomplete="off" type="textarea"/>');f[0].id=a.jqx.utilities.createId();f.addClass(E.toThemeProperty("jqx-input"));f.addClass(E.toThemeProperty("jqx-widget-content"));f.appendTo(F);f.width(x-10);f.height(E.filterrowheight-10);f.css("margin","4px");if(z.createfilterwidget){z.createfilterwidget(z,F,f)}z._filterwidget=f;f.bind("keydown",function(G){if(G.keyCode=="13"){E._applyfilterfromfilterrow()}if(f[0]._writeTimer){clearTimeout(f[0]._writeTimer)}f[0]._writeTimer=setTimeout(function(){if(E["_oldWriteText"+f[0].id]!=f.val()){E._applyfilterfromfilterrow();E["_oldWriteText"+f[0].id]=f.val()}},400)});E.host.removeClass("jqx-disableselect");E.content.removeClass("jqx-disableselect");f.val(v)};switch(z.filtertype){case"number":var k=a("<div></div>");k.width(d.width());k.height(this.filterrowheight);d.append(k);var x=d.width()-20;var o=function(F,G,f){var E=a('<input style="float: left;" autocomplete="off" type="textarea"/>');E[0].id=a.jqx.utilities.createId();E.addClass(D.toThemeProperty("jqx-input"));E.addClass(D.toThemeProperty("jqx-widget-content"));E.appendTo(F);E.width(G-10);E.height(D.filterrowheight-10);E.css("margin","4px");E.css("margin-right","2px");E.bind("keydown",function(H){if(H.keyCode=="13"){D._applyfilterfromfilterrow()}if(E[0]._writeTimer){clearTimeout(E[0]._writeTimer)}E[0]._writeTimer=setTimeout(function(){if(D["_oldWriteText"+E[0].id]!=E.val()){D._applyfilterfromfilterrow();D["_oldWriteText"+E[0].id]=E.val()}},400)});E.val(v);return E};o(k,x);var y=D._getfiltersbytype("number");var p=a("<div class='filter' style='float: left;'></div>");p.css("margin-top","4px");p.appendTo(k);var h=2;if(z.filtercondition!=null){var e=y.indexOf(z.filtercondition);if(e!=-1){h=e}}p.jqxDropDownList({dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:true,selectedIndex:h,width:18,height:20,dropDownHeight:150,dropDownWidth:170,source:y,theme:D.theme});p.jqxDropDownList({selectionRenderer:function(f){return""}});p.jqxDropDownList("setContent","");p.find(".jqx-dropdownlist-content").hide();if(z.createfilterwidget){z.createfilterwidget(z,d,k)}z._filterwidget=k;p.bind("select",function(){if(z._filterwidget.find("input").val().length>0){D._applyfilterfromfilterrow()}});break;case"textbox":case"default":default:g(this,d);break;case"date":if(this.host.jqxDateTimeInput){var b=a("<div></div>");b.css("margin","4px");b.appendTo(d);b.jqxDateTimeInput({showFooter:true,formatString:z.cellsformat,selectionMode:"range",value:null,theme:this.theme,width:x-10,height:this.filterrowheight-10});if(z.createfilterwidget){z.createfilterwidget(z,d,b)}z._filterwidget=b;b.bind("valuechanged",function(f){D._applyfilterfromfilterrow()})}else{g(this,d)}break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var w=this.source._source?true:false;var n=null;if(!w){n=new a.jqx.dataAdapter(this.source,{autoBind:false,uniqueDataFields:[z.datafield],async:false})}else{var A={localdata:this.source.records,datatype:this.source.datatype,async:false};n=new a.jqx.dataAdapter(A,{autoBind:false,async:false,uniqueDataFields:[z.datafield]})}if(z.filteritems&&z.filteritems.length>0){var A={localdata:z.filteritems,datatype:this.source.datatype,async:false};n=new a.jqx.dataAdapter(A,{autoBind:false,async:false})}var j=true;var p=a("<div></div>");p.css("margin","4px");var q=z.datafield;var r=z.filtertype=="checkedlist"?true:false;p.jqxDropDownList({checkboxes:r,source:n,autoDropDownHeight:j,theme:this.theme,width:x-10,height:this.filterrowheight-10,displayMember:q,valueMember:q});p.appendTo(d);var m=p.jqxDropDownList("getItems");var c=p.jqxDropDownList("listBox");if(m.length<8){p.jqxDropDownList("autoDropDownHeight",true)}else{p.jqxDropDownList("autoDropDownHeight",false)}if(r){p.jqxDropDownList({selectionRenderer:function(){return D.gridlocalization.filterselectstring}});var u=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+D.gridlocalization.filterselectstring+"</span>");u.addClass(this.toThemeProperty("jqx-item"));c.insertAt(D.gridlocalization.filterselectallstring,0);p.jqxDropDownList("setContent",u);var i=true;var C=new Array();c.checkAll();c.host.bind("checkChange",function(F){p[0]._selectionChanged=true;if(!i){return}if(F.args.label!=D.gridlocalization.filterselectallstring){i=false;c.host.jqxListBox("checkIndex",0);var f=c.host.jqxListBox("getCheckedItems");var E=c.host.jqxListBox("getItems");if(f.length==1){c.host.jqxListBox("uncheckIndex",0)}else{if(E.length!=f.length){c.host.jqxListBox("indeterminateIndex",0)}}i=true}else{i=false;if(F.args.checked){c.host.jqxListBox("checkAll")}else{c.host.jqxListBox("uncheckAll")}i=true}})}else{c.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0);p.jqxDropDownList({selectedIndex:0})}if(z.createfilterwidget){z.createfilterwidget(z,d,p)}z._filterwidget=p;var l=p.jqxDropDownList("dropdownlistWrapper");if(z.filtertype=="list"){this.addHandler(p,"select",function(f){D._applyfilterfromfilterrow()})}else{this.addHandler(p,"close",function(f){if(p[0]._selectionChanged){D._applyfilterfromfilterrow();p[0]._selectionChanged=false}})}}else{g(this,d)}break;case"bool":case"boolean":if(this.host.jqxCheckBox){var s=a('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');s.appendTo(d);s.jqxCheckBox({enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,hasThreeStates:true,theme:this.theme,checked:null});if(z.createfilterwidget){z.createfilterwidget(z,d,s)}if(v===true||v=="true"){s.jqxCheckBox({checked:true})}else{if(v===false||v=="false"){s.jqxCheckBox({checked:false})}}z._filterwidget=s;s.bind("change",function(f){if(f.args){D._applyfilterfromfilterrow()}})}else{g(this,d)}break}},_renderfiltercolumn:function(){var b=this;if(this.filterable){a.each(this.columns.records,function(c,d){if(b.autoshowfiltericon){if(this.filter){a(this.filtericon).show()}else{a(this.filtericon).hide()}}else{if(this.filterable){a(this.filtericon).show()}}})}},_getcolumntypebydatafield:function(e){var f=this;var d="string";var c=f.source.datafields||((f.source._source)?f.source._source.datafields:null);if(c){var h="";a.each(c,function(){if(this.name==e.datafield){if(this.type){h=this.type}return false}});if(h){return h}}if(e!=null){if(this.dataview.cachedrecords==undefined){return d}var b=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return d}b=this.dataview.cachedrecords[0][e.datafield];if(b!=null&&b.toString()==""){return"string"}}else{a.each(this.dataview.cachedrecords,function(){b=this[e.datafield];return false})}if(b!=null){if(typeof b=="boolean"){d="boolean"}else{if(a.jqx.dataFormat.isNumber(b)){d="number"}else{var g=new Date(b);if(g.toString()=="NaN"||g.toString()=="Invalid Date"){if(a.jqx.dataFormat){g=a.jqx.dataFormat.tryparsedate(b);if(g!=null){return"date"}else{d="string"}}else{d="string"}}else{d="date"}}}}}return d},_getfiltersbytype:function(b){var c=this;var d="";switch(b){case"number":case"float":case"int":d=c.gridlocalization.filternumericcomparisonoperators;break;case"date":d=c.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":d=c.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:d=c.gridlocalization.filterstringcomparisonoperators;break}return d},_updatefilterpanel:function(x,c,d){if(x==null||x==undefined){x=this}var e=x._getcolumntypebydatafield(d);var s=x._getfiltersbytype(e);if(!x.host.jqxDropDownList){alert("jqxdropdownlist is not loaded.");return}var n=a(c).find("#filterclearbutton"+x.element.id);var h=a(c).find("#filterbutton"+x.element.id);var u=a(c).find("#filter1"+x.element.id);var r=a(c).find("#filter2"+x.element.id);var t=a(c).find("#filter3"+x.element.id);var q=a(c).find(".filtertext1"+x.element.id);var p=a(c).find(".filtertext2"+x.element.id);q.val("");p.val("");this.removeHandler(h,"click");this.addHandler(h,"click",function(){x._buildfilter(x,c,d);x._closemenu()});this.removeHandler(n,"click");this.addHandler(n,"click",function(){x._clearfilter(x,c,d);x._closemenu()});if(u.jqxDropDownList("source")!=s){u.jqxDropDownList({enableBrowserBoundsDetection:false,source:s});t.jqxDropDownList({enableBrowserBoundsDetection:false,source:s})}if(e=="boolean"||e=="bool"){u.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0});t.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0})}else{u.jqxDropDownList({autoDropDownHeight:false,selectedIndex:2});t.jqxDropDownList({autoDropDownHeight:false,selectedIndex:2})}r.jqxDropDownList({selectedIndex:0});var l=d.filter;if(l!=null){var w=l.getfilterat(0);var v=l.getfilterat(1);var k=l.getoperatorat(0);var i=[];var b="";switch(e){case"number":case"int":case"float":case"decimal":b="numericfilter";i=l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":b="booleanfilter";i=l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":b="datefilter";i=l.getoperatorsbyfiltertype("datefilter");break;case"string":b="stringfilter";i=l.getoperatorsbyfiltertype("stringfilter");break}if(x.updatefilterconditions){var y=x.updatefilterconditions(b,i);if(y!=undefined){l.setoperatorsbyfiltertype(b,y);i=y}}var j=this.enableanimations?"default":"none";if(w!=null){var g=i.indexOf(w.comparisonoperator);var o=w.filtervalue;q.val(o);u.jqxDropDownList({selectedIndex:g,animationType:j})}if(v!=null){var f=i.indexOf(v.comparisonoperator);var m=v.filtervalue;p.val(m);t.jqxDropDownList({selectedIndex:f,animationType:j})}if(l.getoperatorat(0)==undefined){r.jqxDropDownList({selectedIndex:0,animationType:j})}else{if(l.getoperatorat(0)=="and"||l.getoperatorat(0)==0){r.jqxDropDownList({selectedIndex:0})}else{r.jqxDropDownList({selectedIndex:1})}}}if(x.updatefilterpanel){x.updatefilterpanel(u,t,r,q,p,h,n,l,b,i)}q.focus();setTimeout(function(){q.focus()},10)},_getfiltertype:function(b){var c="stringfilter";switch(b){case"number":case"int":case"float":case"decimal":c="numericfilter";break;case"boolean":case"bool":c="booleanfilter";break;case"date":case"time":c="datefilter";break;case"string":c="stringfilter";break}return c},_buildfilter:function(A,d,e){var x=a(d).find("#filter1"+A.element.id);var j=a(d).find("#filter2"+A.element.id);var u=a(d).find("#filter3"+A.element.id);var q=a(d).find(".filtertext1"+A.element.id);var p=a(d).find(".filtertext2"+A.element.id);var o=q.val();var m=p.val();var f=A._getcolumntypebydatafield(e);var r=A._getfiltersbytype(f);var h=x.jqxDropDownList("selectedIndex");var w=j.jqxDropDownList("selectedIndex");var g=u.jqxDropDownList("selectedIndex");var i=new a.jqx.filter();var z=null;var y=null;var c=A._getfiltertype(f);if(A.updatefilterconditions){var B=A.updatefilterconditions(c,i.getoperatorsbyfiltertype(c));if(B!=undefined){i.setoperatorsbyfiltertype(c,B)}}var b=false;var v=i.getoperatorsbyfiltertype(c)[h];var u=i.getoperatorsbyfiltertype(c)[g];var n=v=="NULL"||v=="NOT_NULL";var t=v=="EMPTY"||v=="NOT_EMPTY";if(v==undefined){v=i.getoperatorsbyfiltertype(c)[0]}if(u==undefined){u=i.getoperatorsbyfiltertype(c)[0]}if(o.length>0||n||t){z=i.createfilter(c,o,v,null,e.cellsformat,A.gridlocalization);i.addfilter(w,z);b=true}var l=u=="NULL"||u=="NOT_NULL";var s=u=="EMPTY"||u=="NOT_EMPTY";if(m.length>0||l||s){y=i.createfilter(c,m,u,null,e.cellsformat,A.gridlocalization);i.addfilter(w,y);b=true}if(b){var k=e.datafield;this.addfilter(k,i,true)}else{this._clearfilter(A,d,e)}},_clearfilter:function(e,c,d){var b=d.datafield;this.removefilter(b,true)},addfilter:function(d,e,c){if(this._loading){alert(this.loadingerrormessage);return false}var f=this.getcolumn(d);var b=this._getcolumn(d);if(f==undefined||f==null){return}f.filter=e;b.filter=e;this.dataview.addfilter(d,e);if(c==true&&c!=undefined){this.applyfilters()}},removefilter:function(d,c){if(this._loading){alert(this.loadingerrormessage);return false}var e=this.getcolumn(d);var b=this._getcolumn(d);if(e==undefined||e==null){return}if(e.filter==null){return}this.dataview.removefilter(d,e.filter);e.filter=null;b.filter=null;if(c==true||c!=undefined){this.applyfilters()}},applyfilters:function(){var c=false;if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)){if(this.source!=null&&this.source.filter){var f=-1;if(this.pageable){f=this.dataview.pagenum;this.dataview.pagenum=0}this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length);if(this.pageable){this.dataview.pagenum=f}}}if(!this.virtualmode){var b=this.selectedrowindexes;var d=this;if(b.length>0){if(this.dataview.filters&&this.dataview.filters.length==0){var e=new Array();a.each(b,function(){var g=d.getrowdata(this);if(g&&g.dataindex){e[e.length]=g.dataindex}});this.selectedrowindexes=e;this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[0]:-1}}this.dataview.refresh();if(b.length>0){if(this.dataview.filters&&this.dataview.filters.length>0){var e=new Array();a.each(b,function(){var g=d.dataview._dataIndexToBoundIndex[this];if(g!=null){e[e.length]=g.boundindex}});this.selectedrowindexes=e;this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[0]:-1}}}else{if(this.pageable){this.dataview.updateview();if(this.gotopage){this.gotopage(0)}}this.rendergridcontent(false,false);this._raiseEvent(13,{filters:this.dataview.filters});return}if(this.pageable){this.dataview.updateview();if(this.gotopage){this.gotopage(0);this.updatepagerdetails()}}this._updaterowsproperties();if(!this.groupable||(this.groupable&&this.groups.length==0)){this._rowdetailscache=new Array();this.virtualsizeinfo=null;this._pagescache=new Array();this.rendergridcontent(true,true);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);if(this.showaggregates&&this._updatecolumnsaggregates){this._updatecolumnsaggregates()}}else{this._rowdetailscache=new Array();this._render(true,true,false,false)}this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){var d=new Array();for(var b=0;b<this.dataview.filters.length;b++){var c=this.getcolumn(this.dataview.filters[b].datafield);d[b]={filter:this.dataview.filters[b].filter,filtercolumn:c.datafield,filtercolumntext:c.text}}return d},clearfilters:function(b){var c=this;if(this.showfilterrow){this.clearfilterrow()}if(this.columns.records){a.each(this.columns.records,function(){c.removefilter(this.datafield)})}if(b==true||b!=undefined){this.applyfilters()}},_destroyfilterpanel:function(){var e=a(a.find("#filterclearbutton"+this.element.id));var d=a(a.find("#filterbutton"+this.element.id));var h=a(a.find("#filter1"+this.element.id));var c=a(a.find("#filter2"+this.element.id));var g=a(a.find("#filter3"+this.element.id));var f=a(a.find(".filtertext1"+this.element.id));var b=a(a.find(".filtertext2"+this.element.id));if(f.length>0&&b.length>0){f.removeClass();b.removeClass();f.remove();b.remove()}if(e.length>0){e.jqxButton("destroy");d.jqxButton("destroy");this.removeHandler(e,"click");this.removeHandler(d,"click")}if(h.length>0){h.jqxDropDownList("destroy")}if(c.length>0){c.jqxDropDownList("destroy")}if(g>0){g.jqxDropDownList("destroy")}},_initfilterpanel:function(r,b,c,k){if(r==null||r==undefined){r=this}b[0].innerHTML="";var o=a("<div class='filter' style='margin-left: 7px;'></div>");b.append(o);var j=a("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");j.text(r.gridlocalization.filtershowrowstring);var p=a("<div class='filter' id='filter1"+r.element.id+"'></div>");var g=a("<div class='filter' id='filter2"+r.element.id+"' style='margin-bottom: 3px;'></div>");var n=a("<div class='filter' id='filter3"+r.element.id+"'></div>");var d=r._getcolumntypebydatafield(c);if(!p.jqxDropDownList){alert("jqxdropdownlist is not loaded.");return}var l=r._getfiltersbytype(d);var h=a("<div class='filter'><input class='filtertext1"+r.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>");h.find("input").addClass(this.toThemeProperty("jqx-input"));h.find("input").addClass(this.toThemeProperty("jqx-widget-content"));h.find("input").addClass(this.toThemeProperty("jqx-rc-all"));h.find("input").width(k-15);var i=a("<div class='filter'><input class='filtertext2"+r.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>");i.find("input").addClass(this.toThemeProperty("jqx-input"));i.find("input").addClass(this.toThemeProperty("jqx-widget-content"));i.find("input").addClass(this.toThemeProperty("jqx-rc-all"));i.find("input").width(k-15);var f=a("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>");var e=a('<span tabIndex=0 id="filterbutton'+r.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+r.gridlocalization.filterstring+"</span>");f.append(e);var q=a('<span tabIndex=0 id="filterclearbutton'+r.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+r.gridlocalization.filterclearstring+"</span>");f.append(q);e.jqxButton({height:20,theme:r.theme});q.jqxButton({height:20,theme:r.theme});var s=function(u){if(u){if(u.text().indexOf("case sensitive")!=-1){var t=u.text();t=t.replace("case sensitive","match case");u.text(t)}u.css("font-family",r.host.css("font-family"));u.css("font-size",r.host.css("font-size"));return u}return""};o.append(j);o.append(p);p.jqxDropDownList({enableBrowserBoundsDetection:false,selectedIndex:2,width:k-15,height:20,dropDownHeight:150,dropDownWidth:k-15,selectionRenderer:s,source:l,theme:r.theme});o.append(h);var m=new Array();m[0]=r.gridlocalization.filterandconditionstring;m[1]=r.gridlocalization.filterorconditionstring;g.jqxDropDownList({enableBrowserBoundsDetection:false,autoDropDownHeight:true,selectedIndex:0,width:60,height:20,source:m,selectionRenderer:s,theme:r.theme});o.append(g);n.jqxDropDownList({enableBrowserBoundsDetection:false,selectedIndex:2,width:k-15,height:20,dropDownHeight:150,dropDownWidth:k-15,selectionRenderer:s,source:l,theme:r.theme});o.append(n);o.append(i);o.append(f);if(r.updatefilterpanel){r.updatefilterpanel(p,n,g,h,i,e,q,null,null,l)}}});a.jqx.filter=function(){this.operator="and";var h=0;var e=1;var k=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"];var m=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var g=["EQUAL","NOT_EQUAL"];var f=new Array();var l=new Array();this.evaluate=function(s){var q=true;for(var r=0;r<f.length;r++){var p=f[r].evaluate(s);if(r==0){q=p}else{if(l[r]==e||l[r]=="or"){q=q||p}else{q=q&&p}}}return q};this.getfilterscount=function(){return f.length};this.setoperatorsbyfiltertype=function(p,q){switch(p){case"numericfilter":m=q;break;case"stringfilter":k=q;break;case"datefilter":n=q;break;case"booleanfilter":g=q;break}};this.getoperatorsbyfiltertype=function(p){var q=new Array();switch(p){case"numericfilter":q=m.slice(0);break;case"stringfilter":q=k.slice(0);break;case"datefilter":q=n.slice(0);break;case"booleanfilter":q=g.slice(0);break}return q};var j=function(){var p=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(p()+"-"+p()+"-"+p())};this.createfilter=function(t,q,s,r,p,u){if(t==null||t==undefined){return null}switch(t){case"numericfilter":return new i(q,s.toUpperCase());case"stringfilter":return new o(q,s.toUpperCase());case"datefilter":return new c(q,s.toUpperCase(),p,u);case"booleanfilter":return new d(q,s.toUpperCase());case"custom":return new b(q,s.toUpperCase(),r)}return null};this.getfilters=function(){var p=new Array();for(var q=0;q<f.length;q++){var r={value:f[q].filtervalue,condition:f[q].comparisonoperator,operator:l[q],type:f[q].type};p[q]=r}return p};this.addfilter=function(p,q){f[f.length]=q;q.key=j();l[l.length]=p};this.removefilter=function(q){for(var p=0;p<f.length;p++){if(f[p].key==q.key){f.splice(p,1);l.splice(p,1);break}}};this.getoperatorat=function(p){if(p==undefined||p==null){return null}if(p<0||p>f.length){return null}return l[p]};this.setoperatorat=function(q,p){if(q==undefined||q==null){return null}if(q<0||q>f.length){return null}l[p]=p};this.getfilterat=function(p){if(p==undefined||p==null){return null}if(p<0||p>f.length){return null}return f[p]};this.setfilterat=function(p,q){if(p==undefined||p==null){return null}if(p<0||p>f.length){return null}q.key=j();f[p]=q};this.clear=function(){f=new Array();l=new Array()};var o=function(q,p){this.filtervalue=q;this.comparisonoperator=p;this.type="stringfilter";this.evaluate=function(u){var t=this.filtervalue;var r=this.comparisonoperator;if(u==null||u==undefined){if(r=="NULL"){return true}return false}var v="";try{v=u.toString()}catch(s){return true}switch(r){case"EQUAL":return a.jqx.string.equalsIgnoreCase(v,t);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(v,t);case"CONTAINS":return a.jqx.string.containsIgnoreCase(v,t);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(v,t);case"DOES_NOT_CONTAIN":return !a.jqx.string.containsIgnoreCase(v,t);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !a.jqx.string.contains(v,t);case"EMPTY":return v=="";case"NOT_EMPTY":return v!="";case"NOT_NULL":return v!=null;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(v,t);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(v,t);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(v,t);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(v,t);default:return false}}};var d=function(q,p){this.filtervalue=q;this.comparisonoperator=p;this.type="booleanfilter";this.evaluate=function(t){var s=this.filtervalue;var r=this.comparisonoperator;if(t==null||t==undefined){if(r=="NULL"){return true}return false}var u=t;switch(r){case"EQUAL":return u==s||u.toString()==s.toString();case"NOT_EQUAL":return u!=s&&u.toString()!=s.toString();default:return false}}};var i=function(q,p){this.filtervalue=q;this.comparisonoperator=p;this.type="numericfilter";this.evaluate=function(u){var t=this.filtervalue;var r=this.comparisonoperator;if(u==null||u==undefined){if(r=="NOT_NULL"){return false}if(r=="NULL"){return true}else{return false}}else{if(r=="NULL"){return false}if(r=="NOT_NULL"){return true}}var v=u;try{v=parseFloat(v)}catch(s){if(u.toString()!=""){return false}}switch(r){case"EQUAL":return v==t;case"NOT_EQUAL":return v!=t;case"GREATER_THAN":return v>t;case"GREATER_THAN_OR_EQUAL":return v>=t;case"LESS_THAN":return v<t;case"LESS_THAN_OR_EQUAL":return v<=t;default:return true}}};var c=function(s,q,r,v){this.filtervalue=s;this.type="datefilter";if(r!=undefined&&v!=undefined){var t=a.jqx.dataFormat.parsedate(s,r,v);if(t!=null){this.filterdate=t}else{var p=a.jqx.dataFormat.tryparsedate(s,v);if(p!=null){this.filterdate=p}}}else{var u=new Date(s);if(u.toString()=="NaN"||u.toString()=="Invalid Date"){this.filterdate=a.jqx.dataFormat.tryparsedate(s)}else{this.filterdate=u}}this.comparisonoperator=q;this.evaluate=function(D){var E=this.filtervalue;var B=this.comparisonoperator;if(D==null||D==undefined){if(B=="NOT_NULL"){return false}if(B=="NULL"){return true}else{return false}}else{if(B=="NULL"){return false}if(B=="NOT_NULL"){return true}}var w=new Date();w.setFullYear(1900,0,1);w.setHours(12,0,0,0);try{var z=new Date(D);if(z.toString()=="NaN"||z.toString()=="Invalid Date"){D=a.jqx.dataFormat.tryparsedate(D)}else{D=z}w=D}catch(A){if(D.toString()!=""){return false}}if(this.filterdate!=null){E=this.filterdate}else{if(E.indexOf(":")!=-1||!isNaN(parseInt(E))){var C=new Date(w);C.setHours(12,0,0,0);var x=E.split(":");for(var y=0;y<x.length;y++){if(y==0){C.setHours(x[y])}if(y==1){C.setMinutes(x[y])}if(y==2){C.setSeconds(x[y])}}E=C}}switch(B){case"EQUAL":return w.toString()==E.toString();case"NOT_EQUAL":return w.toString()!=E.toString();case"GREATER_THAN":return w>E;case"GREATER_THAN_OR_EQUAL":return w>=E;case"LESS_THAN":return w<E;case"LESS_THAN_OR_EQUAL":return w<=E;default:return true}}};var b=function(q,p,r){this.filtervalue=q;this.comparisonoperator=p;this.evaluate=function(t,s){return r(this.filtervalue,t,this.comparisonoperator)}}}})(jQuery);